;------------------------------------------------------------------------------
; aka Berzerker, Berserker, BeserkerIsengard
Object IsengardMineBeserker
    ; *** ART Parameters ***

    ; This is required for garrisoned objects - please put in all objects.
    ButtonImage                = UIIsengardSapper
    SelectPortrait            = UPIsengardSapper


      
    Draw = W3DScriptedModelDraw ModuleTag_01

      OkToChangeModelColor = Yes
          StaticModelLODMode = Yes    
        
        DefaultModelConditionState
            Model = iubesrkbmb_skn
            Skeleton = IUUrukahi_SKL
        End

;; TAKEN OUT BY DESIGN... DON"T PUT THIS BACK. ;; 10/2004
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;        ModelConditionState = DAMAGED
;            Model = IUBerserkr_SKN
;            Skeleton = IUUrukahi_SKL
;            FXEvent = Name:FX_BerserkerDamaged
;        End
;        
;        ModelConditionState = REALLYDAMAGED
;            Model = IUBerserkr_SKN
;            Skeleton = IUUrukahi_SKL
;            FXEvent = Name:FX_BerserkerReallyDamaged
;        End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    
        IdleAnimationState
            Animation = IDLA
                AnimationName = IUUrukahi_IDLA
                AnimationMode = ONCE
                AnimationBlendTime = 10
            End
            StateName = Idle
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Jump"        then CurDrawableSetTransitionAnimState("Trans_Jump_To_Ready") return end
                if Prev == "selected"    then CurDrawableSetTransitionAnimState("Trans_Selected_To_Idle") return end
            EndScript
        End
        
        AnimationState        = THROWN_PROJECTILE
            Animation           = FLYA
                AnimationName     = IUUrukahi_FLYA
                AnimationMode     = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End
        
        AnimationState                        = PASSENGER FREEFALL
            Animation                        = FLLA
                AnimationName                = IUUrukahi_FLLA
                AnimationMode                = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End

        AnimationState                        = FREEFALL
            Animation                        = Falling
                AnimationName                = IUUrukahi_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
                AnimationSpeedFactorRange    = 0.5    0.5
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End
        
        AnimationState                        = SPLATTED
            Animation                        = LNDA
                AnimationName                = IUUrukahi_LNDA
                AnimationMode                = ONCE
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End

        ; -- Stunned Anims        
        AnimationState        = STUNNED_FLAILING
            Animation           = StunFlail
                AnimationName     = IUUrukahi_FLYA
                AnimationMode      = LOOP
                AnimationSpeedFactorRange    = 0.4 0.6
            End
            Flags               = RANDOMSTART
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End

        ; -- Dying Anims        
        AnimationState            = DYING DEATH_1
            Animation
                AnimationName    = IUUrukahi_DIEA
                AnimationMode    = ONCE
                AnimationBlendTime = 10
            End
            Animation
                AnimationName    = IUUrukahi_DIEB
                AnimationMode    = ONCE
                AnimationBlendTime = 10
            End
            Animation
                AnimationName    = IUUrukahi_DIEC
                AnimationMode    = ONCE
                AnimationBlendTime = 10
            End
            Animation
                AnimationName    = IUUrukahi_DIEG
                AnimationMode    = ONCE
                AnimationBlendTime = 10
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            BeginScript
                CurDrawableHideSubObject("BOMB")
            EndScript
        End

        AnimationState = DYING SPLATTED DEATH_1
            Animation = Dying
                AnimationName = IUUrukahi_LNDA
                AnimationMode = ONCE
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End 

        AnimationState = DYING DEATH_1
            Animation = Dying
                AnimationName = IUUrukahi_DIEA
                AnimationMode = ONCE
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End 

        AnimationState = DYING DEATH_2
            Animation = ByeBye
                AnimationName = IUUrukahi_IDLA
                AnimationMode = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End 
        
        AnimationState        = STUNNED_STANDING_UP
            Animation           = GTPA
                AnimationName     = IUUrukahi_GTPA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End
        
        AnimationState        = STUNNED
            Animation           = LNDA
                AnimationName     = IUUrukahi_LNDA
                AnimationMode     = ONCE
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End

;        AnimationState            = BURNINGDEATH
;            Animation
;                AnimationName    = IUUrukahi_MFDA
;                AnimationMode    = LOOP
;                Distance        = 50
;            End
;        End


        ; Jumping off the siege ladder        
       ; AnimationState = UNPACKING
       ;     Animation = Unpacking_Passenger
       ;         AnimationName = IUBzrkLadr_PLTA
       ;         AnimationMode = ONCE
       ;     End
       ;     StateName = Jump
       ; End
        

        ; -- ladder climbing animations
        AnimationState = MOVING CLIMBING BACKING_UP WEAPONSET_TOGGLE_1
            Animation = Climbing_Down
                AnimationName = IUUrukahi_CLMA
                AnimationMode = LOOP_BACKWARDS
                AnimationSpeedFactorRange = 2.0 2.0
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End        
        
        AnimationState = MOVING CLIMBING BACKING_UP
            Animation = Climbing_Down
                AnimationName = IUUrukahi_CLMA
                AnimationMode = LOOP_BACKWARDS
                AnimationSpeedFactorRange = 2.0 2.0
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End

        AnimationState = MOVING WEAPONSET_TOGGLE_1 BACKING_UP
            Animation = MovingTorch
                AnimationName = IUUrukahi_BAKA; 
                AnimationMode = LOOP
            End
            Flags = RANDOMSTART
            ParticleSysBone = None InfantryDustTrails
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End

        AnimationState = MOVING EMOTION_TERROR
            Animation = TERRORIZED
                AnimationName = IUUrukahi_RUNC
                ;AnimationMode = LOOP_BACKWARDS
                AnimationMode = LOOP
            End
            Flags = RANDOMSTART
            ParticleSysBone = None InfantryDustTrails
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End        
                
        AnimationState = MOVING BACKING_UP
            Animation = BackingUp
                AnimationName = IUUrukahi_BAKA
                AnimationMode = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            Flags = RANDOMSTART
        End

        AnimationState = MOVING CLIMBING WEAPONSET_TOGGLE_1
            Animation = Climbing_Up
                AnimationName = IUUrukahi_CLMA
                AnimationMode = LOOP
                AnimationSpeedFactorRange = 2.0 2.0
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End

        AnimationState = MOVING CLIMBING
            Animation = Climbing_Up
                AnimationName = IUUrukahi_CLMA
                AnimationMode = LOOP
                AnimationSpeedFactorRange = 2.0 2.0
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End
        
        ; -- Moving on the siege ladder
        AnimationState = TRANSPORT_MOVING PASSENGER WEAPONSET_TOGGLE_1
            Animation = Moving
                AnimationName = IUBzrkLadr_RUNA
                AnimationMode = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            Flags = RANDOMSTART
            ParticleSysBone = None InfantryDustTrails
        End
        
        AnimationState = TRANSPORT_MOVING PASSENGER
            Animation = Moving
                AnimationName = IUBzrkLadr_RUNA
                AnimationMode = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            Flags = RANDOMSTART
            ParticleSysBone = None InfantryDustTrails
        End

        ; -- Passenger on siege ladder
        AnimationState = PASSENGER WEAPONSET_TOGGLE_1
            Animation = IdlePassenger
                AnimationName = IUBzrkLadr_IDLA
                AnimationMode = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            Flags = RANDOMSTART

            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle"    then CurDrawableSetTransitionAnimState("TRANS_Torch_Passenger") return end
                if Prev == "selected" then CurDrawableSetTransitionAnimState("TRANS_Torch_Passenger") return end
                if Prev == "selected_torch" then CurDrawableSetTransitionAnimState("TRANS_Torch_Passenger") return end
                if Prev == "Emotion" then CurDrawableSetTransitionAnimState("TRANS_Torch_Passenger") return end
                if Prev == "Moving" then CurDrawableSetTransitionAnimState("TRANS_Torch_Passenger") return end
                if Prev == "MovingTorch" then CurDrawableSetTransitionAnimState("TRANS_Torch_Passenger") return end
                if Prev == "nonTorchState" then CurDrawableSetTransitionAnimState("TRANS_Torch_Passenger") return end
            EndScript
        End

        AnimationState = PASSENGER
            Animation = IdlePassenger
                AnimationName = IUBzrkLadr_IDLA
                AnimationMode = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle"    then CurDrawableSetTransitionAnimState("TRANS_To_Passenger") return end
                if Prev == "selected" then CurDrawableSetTransitionAnimState("TRANS_To_Passenger") return end
                if Prev == "Emotion" then CurDrawableSetTransitionAnimState("TRANS_To_Passenger") return end
                if Prev == "Moving" then CurDrawableSetTransitionAnimState("TRANS_To_Passenger") return end
                if Prev == "MovingTorch" then CurDrawableSetTransitionAnimState("TRANS_To_Passenger") return end
                if Prev == "nonTorchState" then CurDrawableSetTransitionAnimState("TRANS_To_Passenger") return end
            EndScript
        End
        
        ; -- Attacking Animations
        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = IUUrukAhi_ATRA
                AnimationMode       = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            Flags               = RANDOMSTART  
        End
        

        ; Moving with torch
        AnimationState = MOVING WEAPONSET_TOGGLE_1 REALLYDAMAGED
            StateName    = Moving
            Animation = MovingTorch
                AnimationName = IUBzrkr_RUNB; 
                AnimationMode = LOOP
                AnimationSpeedFactorRange = 1.5 1.5
            End
            Flags = RANDOMSTART
            ParticleSysBone = None InfantryDustTrails
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Jump"    then CurDrawableSetTransitionAnimState("Trans_Jump_To_Ready") return end
            EndScript
        End

        AnimationState = MOVING REALLYDAMAGED
            StateName    = Moving
            Animation = Moving
                AnimationName = IUBzrkr_RUNB ;IUBzrkr_RUNB; 
                AnimationMode = LOOP
                AnimationSpeedFactorRange = 1.5 1.5
            End
            Flags = RANDOMSTART
            ParticleSysBone = None InfantryDustTrails
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Jump"    then CurDrawableSetTransitionAnimState("Trans_Jump_To_Ready") return end
            EndScript
        End

        AnimationState = MOVING WEAPONSET_TOGGLE_1 DAMAGED
            StateName    = Moving
            Animation = MovingTorch
                AnimationName = IUBzrkr_RUNB; 
                AnimationMode = LOOP
                AnimationSpeedFactorRange = 1.1 1.1
            End
            Flags = RANDOMSTART
            ParticleSysBone = None InfantryDustTrails
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Jump"    then CurDrawableSetTransitionAnimState("Trans_Jump_To_Ready") return end
            EndScript
        End

        AnimationState = MOVING DAMAGED
            StateName    = Moving
            Animation = Moving
                AnimationName = IUBzrkr_RUNB
                AnimationMode = LOOP
                AnimationSpeedFactorRange = 1.1 1.1
            End
            Flags = RANDOMSTART
            ParticleSysBone = None InfantryDustTrails
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Jump"    then CurDrawableSetTransitionAnimState("Trans_Jump_To_Ready") return end
            EndScript
        End

        AnimationState = MOVING WEAPONSET_TOGGLE_1
            StateName    = Moving
            Animation = MovingTorch
                AnimationName = IUBzrkr_RUNB
                AnimationMode = LOOP
            End
            Flags = RANDOMSTART
            ParticleSysBone = None InfantryDustTrails
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Jump"    then CurDrawableSetTransitionAnimState("Trans_Jump_To_Ready") return end
            EndScript
        End

        AnimationState = MOVING
            StateName    = Moving
            Animation = Moving
                AnimationName = IUBzrkr_RUNB
                AnimationMode = LOOP
            End
            Flags = RANDOMSTART
            ParticleSysBone = None InfantryDustTrails
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Jump"    then CurDrawableSetTransitionAnimState("Trans_Jump_To_Ready") return end
            EndScript
        End

        ; -- Toggling the torch on        
        AnimationState = WEAPON_TOGGLING
            Animation            = Salute
                AnimationName    = IUBZRKR_LITA
                AnimationMode    = ONCE
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare99 FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks99 FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke99 FollowBone:Yes
        End
        
        AnimationState = USER_2
            Animation
                AnimationName    = IUBzrkr_LITB
                AnimationMode    = ONCE
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare99 FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks99 FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke99 FollowBone:Yes
        End

        AnimationState = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
            StateName    = Attacking
             Animation = ATKA
                AnimationName = IUBzrkr_LITB
                AnimationMode = ONCE
                UseWeaponTiming    = Yes
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End
        

        AnimationState = FIRING_OR_PREATTACK_b WEAPONSET_TOGGLE_1
            StateName    = Attacking
             Animation = ATKA
                AnimationName = IUBzrkr_LITB
                AnimationMode = ONCE
                UseWeaponTiming    = Yes
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End
        
        AnimationState = FIRING_OR_PREATTACK_A
            StateName = nonTorchState
             Animation = ATKA
                AnimationName = IUBzrkr_LITB
                AnimationMode = ONCE
                UseWeaponTiming    = Yes
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End
            
        TransitionState = Trans_Jump_To_Ready
            Animation = Transition
                AnimationName = IUBzrkLadr_PLTB
                AnimationMode = ONCE
                AnimationBlendTime = 0
            End
        End

        TransitionState = TRANS_Torch_Passenger
            Animation = Transition_to_passenger_with_torch
                AnimationName = IUBzrkLadr_CLMB
                AnimationMode = ONCE
                AnimationBlendTime = 0
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
               ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End

        TransitionState = TRANS_To_Passenger
            Animation = Transition_to_passenger
                AnimationName = IUBzrkLadr_CLMB
                AnimationMode = ONCE
                AnimationBlendTime = 0
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
               ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End


        AnimationState                            = RAISING_FLAG
            StateName = Emotion
            Animation                           = CHRA
                AnimationName                    = IUUrukahi_CHRA
                AnimationMode                    = ONCE
                AnimationSpeedFactorRange        = 0.9 1.1
            End
            Animation                           = CHRB
                AnimationName                    = IUUrukahi_CHRB
                AnimationMode                    = ONCE
                AnimationSpeedFactorRange        = 0.9 1.1
            End
            Flags                                = RESTART_ANIM_WHEN_COMPLETE
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End

        ; This Selected is important, so make it go higher than emotions
        AnimationState = SELECTED
            StateName    = selected
            Flags        = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
             Animation = Selected(ATNA)
                AnimationName    = IUUrukahi_ATNB
                AnimationMode    = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "Idle"    then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") return end
            EndScript
        End
                        
        ;-emotions--        
        ; Should be before selected (if uncontrollable..)      
        AnimationState                            = EMOTION_AFRAID
            StateName = Emotion
            Animation                            = FERA
                AnimationName                    = IUUrukahi_FERA
                AnimationMode                    = LOOP
            End
            Flags = RANDOMSTART
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End
        
        AnimationState                            = EMOTION_TAUNTING
            StateName = Emotion
            Animation                            = TNTA
                AnimationName                    = IUUrukahi_TNTA
                AnimationMode                    = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End

        AnimationState                            = EMOTION_POINTING
            StateName = Emotion
            Animation                            = Pointing1
                AnimationName                    = IUUrukahi_PNTA
                AnimationMode                    = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End

        AnimationState                            = EMOTION_CELEBRATING
            StateName = Emotion
            Animation                           = CHRA
                AnimationName                    = IUUrukahi_CHRA
                AnimationMode                    = ONCE
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End
        
        AnimationState                            = WAR_CHANT
            Animation                           = CHRA
                AnimationName                    = IUUrukahi_CHRA
                AnimationMode                    = LOOP
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End

        TransitionState = Trans_Selected_To_Idle
            Animation
                AnimationName    = IUUrukahi_ATNC
                AnimationMode    = ONCE
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End    
                
        TransitionState = TRANS_Idle_to_Selected
            Animation
                AnimationName    = IUUrukahi_ATNA
                AnimationMode    = ONCE
            End
            ParticleSysBone           = FLAME01 OrcBerserkerFlare FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSparks FollowBone:Yes
            ParticleSysBone           = FLAME01 OrcBerserkerSmoke FollowBone:Yes
        End        

End

    Draw = W3DScriptedModelDraw ModuleTag_Light    

        DefaultModelConditionState
            Model = None
        End
                
        ModelConditionState = WEAPONSET_TOGGLE_1
            Model = Invisible
            Shadow                        = SHADOW_ADDITIVE_DECAL_DYNAMIC
            ShadowSizeX                    = 60;
            ShadowSizeY                    = 60;
            ShadowTexture                = EXFrodoStingGlow;
            ShadowOpacityStart            = 0
            ShadowOpacityFadeInTime        = 7000
            ShadowOpacityPeak            = 255
            ShadowOpacityFadeOutTime    = 200
            ShadowOpacityEnd            = 0
            ShadowOverrideLODVisibility = yes
        End
    End

    ; ***DESIGN parameters ***
    Side = Isengard
    IsTrainable        = No
    EditorSorting = UNIT
    ThreatLevel = 1.0
    ThingClass = HORDE_UNIT
    CommandPoints = 4
    BuildCost = M_ISENGARD_MINE_BERSERKER_BUILDCOST            
    BuildTime = M_ISENGARD_BERSERKER_BUILDTIME
                
    TransportSlotCount = 1
	
	WeaponSet
        Conditions      = None
        Weapon          = PRIMARY    IsengardMineBerserkerSelf
    End
    
    ArmorSet
        Conditions      = None
        Armor           = BerserkerArmor
        DamageFX        = NormalDamageFX
    End
      
      ; This is required so that the build phase lasts as long as the anim.
    BuildFadeInOnCreateTime = 2.0
    
    VisionRange = M_ISENGARD_BERSERKER_VISION_RANGE  
    ShroudClearingRange = M_SHROUD_CLEAR_STANDARD

    BountyValue = M_ISENGARD_BERSERKER_BOUNTY_VALUE         
    DisplayName = OBJECT:IsengardMineBeserker
    CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
    CrusherLevel = 0 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles
    CrushRevengeWeapon = BasicInfantryCrushRevenge

    CommandSet = IsengardMineBeserkerCommandSet
 

    ; *** AUDIO Parameters ***;

    VoiceAttack                = BerserkerVoiceAttack
    VoiceAttack2            = OrcVoiceAttack2
    VoiceAttackCharge            = BerserkerVoiceAttackCharge
    ;VoiceCombineWithHorde        = BerserkerVoiceMove
    VoiceCreated            = CampOrcCreateBerserker
    VoiceFullyCreated         = CampOrcCreateBerserker
    VoiceMove                = BerserkerVoiceMove
    VoiceMove2                = OrcVoiceMove2
    VoicePriority            = 14
    VoiceSelect                = BerserkerVoiceSelect
    VoiceSelect2            = SiegeLadderVoiceSelect2
    VoiceSelectBattle         = BerserkerVoiceSelectBattle
    VoiceGuard                = BerserkerVoiceMove
    
    VoiceEnterStateAttack        = BerserkerVoiceEnterStateAttack
    VoiceEnterStateAttackCharge    = BerserkerVoiceEnterStateAttackCharge    
    
    UnitSpecificSounds
        VoiceEnter            = BerserkerVoiceMove                ;for entering SiegeLadder
    End

    EvaEventDamagedOwner        = UnitUnderAttack                 ;Eva event to trigger when unit is damaged

    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU                    ;Tie into LargeGroupAudio system
        Key = Orc_Infantry UrukHai_Berserker
    End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:SwordIntoGround        Animation:IUUrukahi_SKL.IUBZRKR_LITA    Frames:21
        AnimationSound = Sound:TorchIgniteFalseStart    Animation:IUUrukahi_SKL.IUBZRKR_LITA    Frames:77                ;false start
        AnimationSound = Sound:TorchIgnite            Animation:IUUrukahi_SKL.IUBZRKR_LITA    Frames:98
        ;AnimationSound = Sound:TorchSizzleLoop        Animation:IUUrukahi_SKL.IUBZRKR_LITA    Frames:99
        AnimationSound = Sound:BerserkerSnarl        Animation:IUUrukahi_SKL.IUBZRKR_LITA    Frames:103

        AnimationSound = Sound:BerserkerSuicideYell    Animation:IUUrukahi_SKL.IUBZRKR_LITB    Frames:0                ;ignites mine
        AnimationSound = Sound:TorchIgnite            Animation:IUUrukahi_SKL.IUBZRKR_LITB    Frames:1                ;ignites mine

        AnimationSound = Sound:FootstepDirtA        Animation:IUUrukahi_SKL.IUUrukahi_RUNA    Frames:10 22            ;running ignited
        AnimationSound = Sound:FootstepDirtA        Animation:IUUrukahi_SKL.IUBzrkr_RUNB    Frames:10 22            ;running ignited
        AnimationSound = Sound:FootstepDirtA        Animation:IUUrukahi_SKL.IUUrukahi_RUNC    Frames:5 13                ;running terrified

        AnimationSound = Sound:FootstepDirtA        Animation:IUUrukahi_SKL.IUBzrkLadr_CLMB    Frames:14 20 43 45 79 84    ;climb ladder
        AnimationSound = Sound:FootstepDirtA        Animation:IUUrukahi_SKL.IUUrukahi_CLMA    Frames:0 15
        AnimationSound = Sound:FootstepDirtA        Animation:IUUrukahi_SKL.IUBzrkLadr_PLTA    Frames:23                ;jump off ladder

        AnimationSound = Sound:BodyFallOrc            Animation:IUUrukahi_SKL.IUUrukahi_LNDA    Frames:2
        AnimationSound = Sound:BodyFallOrc            Animation:IUUrukahi_SKL.IUUrukahi_DIEA    Frames:23
    End


    ; *** ENGINEERING Parameters ***

    RadarPriority = UNIT
    KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SCORE CAN_USE_SIEGE_TOWER CAN_RIDE_SIEGE_LADDER MINE_TRIGGER ARMY_SUMMARY GRAB_AND_DROP CAN_ATTACK_WALLS URUK 
 
    Body = ActiveBody ModuleTag_02
        MaxHealth         = M_ISENGARD_BERSERKER_HEALTH                ;BALANCE Uruk Hai Health
        MaxHealthDamaged  = M_ISENGARD_BERSERKER_HEALTH_DAMAGED        
        ;RecoveryTime      = M_ISENGARD_BERSERKER_HEALTH_RECOVERY_TIME
        DodgePercent      = 80%        

;; TAKEN OUT BY DESIGN... DON'T PUT THIS BACK...10/2004        
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;        DamagedAttributeModifier = BerserkerDamagedAttributeModifier
;       ReallyDamagedAttributeModifier = BerserkerReallyDamagedAttributeModifier
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

    End
     
    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
        AILuaEventsList                =    InfantryFunctions
        AttackPriority                =     AttackPriority_Infantry
    End
    
    Behavior = EmotionTrackerUpdate    Module_EmotionTracker
        TauntAndPointDistance        =    400        ; max distance to taunted/pointed objet
        TauntAndPointUpdateDelay    =    1000    ; how often scan (milliseconds)
        TauntAndPointExcluded        =    NONE
        AfraidOf                    =    NONE +RohanTreeBerd +GondorGwaihir +RohanEntFir +RohanEntAsh +RohanEntBirch +MordorCaveTroll +MordorMountainTroll +MordorDrummerTroll +MordorFellBeast +MordorMumakil;Must be SCARY kindof as well.
        AlwaysAfraidOf                =    NONE +MordorBalrog +RohanOathbreaker ;+MordorWitchKing +MordorWitchKingOnFellBeast
        PointAt                        =    NONE +GondorGwaihir 

        HeroScanDistance            =    150
        FearScanDistance            =    200

        AddEmotion    =    Terror_Base
        AddEmotion    =    Doom_Base
        AddEmotion    =    UncontrollableFear_Base_Evil
        AddEmotion    =    FearIdle_Base
        AddEmotion    =    FearBusy_Base
        AddEmotion    =    Point_Base
        AddEmotion    =    Taunt_Base    
        AddEmotion    =    CheerIdle_Base
        AddEmotion    =    CheerBusy_Base
        AddEmotion    =    HeroCheerIdle_Base
        AddEmotion    =    HeroCheerBusy_Base
        AddEmotion    =    Alert_Base
    End    
    
    LocomotorSet
        Locomotor     = BerserkerLocomotor ; HumanLocomotor
        Condition     = SET_NORMAL
        Speed         = M_NORMAL_EVIL_FAST_MEMBER_SPEED
    End

    LocomotorSet
        Locomotor     = BerserkerLocomotor 
        Condition     = SET_WANDER
        Speed         = 45 ;32
    End
     
    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = SlowDeathBehavior ModuleTag_GrabandDrop
        DeathTypes       = NONE +EXTRA_8 -BURNED
        SinkDelay        = 3000      
        SinkRate         = 0.60      
        DestructionDelay = 10000     
        DeathFlags       = DEATH_4   
        ShadowWhenDead   = Yes       
    End

    Behavior = FireWeaponWhenDeadBehavior ModuleTag_GrabandDropImpact
        RequiredStatus  = DEATH_4
        StartsActive    = Yes
        DelayTime       = 0
        DeathWeapon     = GrabandDropInfantryImpactWarhead
        WeaponOffset    = X:0 Y:0 Z:0
    End
 
    Behavior = BezierProjectileBehavior ModuleTag_BodyHitHuman 
       FirstHeight               = 24    
       SecondHeight              = 24
       FirstPercentIndent        = 30%    
       SecondPercentIndent       = 70%
       TumbleRandomly            = Yes
       CrushStyle                = Yes    
       DieOnImpact               = Yes
       BounceCount               = 1        
       BounceDistance            = 40
       BounceFirstHeight         = 24
       BounceSecondHeight        = 24
       BounceFirstPercentIndent  = 20%
       BounceSecondPercentIndent = 80%        
;       GroundHitFX               = FX_GrabandDropInfantryGroundHit
;       GroundBounceFX            = FX_GrabandDropInfantryGroundHit
    End
         
    Behavior = SlowDeathBehavior ModuleTag_05
        DeathTypes = ALL ALL -EXTRA_8 -BURNED -FADED
        SinkDelay = 4000
        SinkRate = 1.0     ; in Dist/Sec
        DestructionDelay = 10000
        Sound = INITIAL UrukVoiceDie            ;BerserkerVoiceDie
		DeathFlags = DEATH_1
    End
	
	Behavior = SlowDeathBehavior ModuleTag_ExplosiveDeath
        DeathTypes = NONE +BURNED
        SinkDelay = 0 ;3000
        SinkRate = 0 ;1.40     ; in Dist/Sec
        DestructionDelay = 0 ;10000
        Sound  = INITIAL UrukVoiceDie
        Weapon = INITIAL IsengardMineBerserkerExplosionWeapon
    End
     
    Behavior = SquishCollide ModuleTag_06
        ;nothing
    End
     
    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = Yes
    Shadow = SHADOW_DECAL
    ShadowSizeX = 19;
    ShadowSizeY = 19;
    ShadowTexture = ShadowI;
End

Object IsengardMineBerserkerDeath

    ; *** ART Parameters ***
  
    Draw = W3DScriptedModelDraw ModuleTag_01
        OkToChangeModelColor = Yes
        DefaultModelConditionState
            Model = None
        End
    End

    ; ***DESIGN parameters ***
    Side = Isengard
    EditorSorting = UNIT
    ThreatLevel = 1.0
    ThingClass = HORDE_UNIT
    CommandPoints = 1

    TransportSlotCount = 1
    ArmorSet
        Conditions      = None
        Armor           = DroppedMineArmor
        DamageFX        = NormalDamageFX
    End
    VisionRange = 120.0
    DisplayName = OBJECT:IsengardExplosiveMine
    CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
    CommandSet = IsengardDeployedMineCommandSet
 


    ; *** ENGINEERING Parameters ***
    RadarPriority = UNIT
    KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY SCORE MINE IMMOBILE STRUCTURE NOT_AUTOACQUIRABLE DEPLOYED_MINE SUMMONED
     
    Body = ActiveBody ModuleTag_02
        MaxHealth         = 99999999
        MaxHealthDamaged  = 99999999       
    End
     
    Behavior = AIUpdateInterface ModuleTag_03
        AutoAcquireEnemiesWhenIdle = No ; We don't want to mine unit to deploy by himself
    End

    Behavior = PhysicsBehavior ModuleTag_04
        GravityMult = 1.0
    End

    Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
        MinLifetime        = 10
        MaxLifetime        = 10
        DeathType          = BURNED
    End   
 
    Behavior = SlowDeathBehavior ModuleTag_ExplosiveDeath
        DeathTypes = NONE +BURNED
        DestructionDelay = 1
        Weapon = INITIAL IsengardMineBerserkerExplosionWeapon
    End

    Behavior = SlowDeathBehavior ModuleTag_FizzleDeath
        DeathTypes = ALL -BURNED
        DeathFlags = DEATH_1
        SinkDelay = 1
        SinkRate = 3.0     ; in Dist/Sec
        DestructionDelay = 5000        
        Weapon = INITIAL IsengardMineBerserkerExplosionWeapon
    End
 
    Behavior = SquishCollide ModuleTag_06
        ;nothing
    End

     
    Geometry = BOX
    GeometryMinorRadius = 12.0
    GeometryMajorRadius = 12.0
    GeometryHeight = 10.0
    GeometryIsSmall = No
    Shadow = SHADOW_DECAL
    ShadowSizeX = 11;
    ShadowSizeY = 11;
    ShadowTexture = ShadowI;
End

Object IsengardMineBerserkerSelfPing
    Draw = W3DScriptedModelDraw ModuleTag_Draw
        DefaultModelConditionState
            Model = None
        End
    End
    KindOf    = INERT IMMOBILE UNATTACKABLE
    
    Body = ActiveBody ModuleTag_Explosion
        MaxHealth    = 1
    End
    Behavior = LifetimeUpdate ModuleTag_HatchTrigger
        MinLifetime = 0.0
        MaxLifetime = 0.0
    End
    Behavior = SlowDeathBehavior ModuleTag_HatchProcess
        DestructionDelay    = 10
        Weapon              = FINAL IsengardMineBerserkerExplosionWeapon
    End
End
