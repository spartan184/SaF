;------------------------------------------------------------------------------
Object MordorNazgulToggle                         ;BALANCE Nazgul 
  ; *** ART Parameters ***
  Scale                                = 1.5 
  ButtonImage                          = HINazgul
  SelectPortrait                       = HPNazgul
  
  Draw                                 = W3DScriptedModelDraw ModuleTag_01
    ExtraPublicBone = B_PASSENGER
    GlowEnabled                        = No;Yes;  
    GlowEmissive                       = No;

    DefaultModelConditionState
      Model                            = MUWchKng_SKN
      ParticleSysBone                  = None RingWraithFlare2
    End

    ModelConditionState                = MOUNTED
      Model                            = CUFellBst_SKN
      WeaponLaunchBone                 = PRIMARY BAT_TOER1
    End  
    
    ; -- Animations -- ;
    AnimationState	                   = MOUNTED BACKING_UP
      StateName                        = backup
      Animation                        = IDLA
        AnimationName                  = CUFellBst_SKL.CUFellBst_HVRA
        AnimationMode                  = LOOP
        AnimationBlendTime             = 10
        AnimationSpeedFactorRange      = 0.95 1.05
      End
    End

    AnimationState                     = MOUNTED DIVING
      StateName                        = Diving
      Animation                        = DiveA
        AnimationName                  = CUFellBst_SKL.CUFellBst_ATKD
        AnimationMode                  = LOOP
        AnimationBlendTime             = 10
        AnimationSpeedFactorRange      = 0.95 1.05
      End
    End

    AnimationState                     =	MOUNTED FIRING_OR_PREATTACK_A
      Animation                        = Claw
        AnimationName                  = CUFellBst_SKL.CUFellBst_ATKD
        AnimationMode                  = LOOP
        AnimationBlendTime             = 10
      End
      BeginScript
        CurDrawableSetTransitionAnimState("Trans_Begin_Attacking") return 
      EndScript
    End

    AnimationState                     =	MOUNTED BETWEEN_FIRING_SHOTS_A 
      Animation                        =	TrotBetweenShotsMoving
        AnimationName                  =	CUFellBst_SKL.CUFellBst_HVRA
        AnimationMode                  =	LOOP
        Distance 	                     =	30
        AnimationBlendTime             = 10
      End
    End

    AnimationState                     =	MOUNTED BETWEEN_FIRING_SHOTS_A MOVING
      Animation                        =	TrotBetweenShotsMoving
        AnimationName                  =	CUFellBst_SKL.CUFellBst_IDLA
        AnimationMode                  =	LOOP
        Distance 	                     =	30
        AnimationBlendTime             = 10
      End
    End

    ;;;;;;;;;;;;;////
    AnimationState                     = MOUNTED ABOUT_TO_HIT; clawing
      StateName                        = Claw
      Animation                        = Claw
        AnimationName                  = CUFellBst_SKL.CUFellBst_ATKD
        AnimationMode                  = LOOP
        AnimationBlendTime             = 10
      End
      BeginScript
        CurDrawableSetTransitionAnimState("Trans_Begin_Attacking") return 
      EndScript
    End
    
    TransitionState                    = Trans_Begin_Attacking 
      StateName                        = Grab
      Animation                        = Grab
        AnimationName                  = CUFellBst_SKL.CUFellBst_GRBA
        AnimationMode                  = ONCE
        AnimationBlendTime             = 10
        AnimationSpeedFactorRange      = 0.4 0.4
      End
    End

    AnimationState                     = MOUNTED STUNNED SPECIAL_DAMAGED
      StateName                        =  STUNNED
      Animation                        = HitA
        AnimationName                  = CUFellBst_SKL.CUFellBst_ATKH
        AnimationMode                  = ONCE
        AnimationBlendTime             = 6
      End
    End
    
    AnimationState                     = MOUNTED STUNNED
      StateName                        =  STUNNED
      Animation                        = HitA
        AnimationName                  = CUFellBst_SKL.CUFellBst_HITA
        AnimationMode                  = ONCE
        AnimationBlendTime             = 6
      End
    End
    
    ; -- HARD FLAPPING 
    AnimationState                     = MOUNTED CLIMBING
      StateName                        = Climbing
      Animation                        = Moving
        AnimationName                  = CUFellBst_SKL.CUFellBst_HVRB
        AnimationMode                  = LOOP
        AnimationBlendTime             = 10
        AnimationSpeedFactorRange      = 0.95 1.05
      End
    End
    
    AnimationState                     = MOUNTED FREEFALL
      StateName                        = Freefall
      Animation                        = Moving
        AnimationName                  = CUFellBst_SKL.CUFellBst_IDLA
        AnimationMode                  = LOOP
        AnimationBlendTime             = 10
      End
    End

    AnimationState                     = MOUNTED MOVING SPECIAL_WEAPON_ONE
      StateName                        = Moving
      Animation                        = Moving
        AnimationName                  = CUFellBst_SKL.CUFellBst_ATKB
        AnimationMode                  = LOOP
        AnimationBlendTime             = 10
      End
      BeginScript
        Prev                           = CurDrawablePrevAnimationState()
        if Prev                        == "Idle"	then CurDrawableSetTransitionAnimState("Trans_Begin_Moving") return end
        if Prev                        == "Climbing"	then CurDrawableSetTransitionAnimState("Trans_Begin_Moving") return end
      EndScript
    End

    AnimationState                     = MOUNTED MOVING
      StateName                        = Moving
      Animation                        = Moving
        AnimationName                  = CUFellBst_SKL.CUFellBst_FLYA
        AnimationMode                  = LOOP
        AnimationBlendTime             = 10
        AnimationSpeedFactorRange      = 0.9 1.1
      End
      BeginScript
        Prev                           = CurDrawablePrevAnimationState()
        if Prev                        == "Idle"	then CurDrawableSetTransitionAnimState("Trans_Begin_Moving") return end
        if Prev                        == "Climbing"	then CurDrawableSetTransitionAnimState("Trans_Begin_Moving") return end
      EndScript
    End

    TransitionState                    = Trans_Begin_Moving
      Animation                        = Transition
        AnimationName                  = CUFellBst_SKL.CUFellBst_HVRC
        AnimationMode                  = ONCE
        AnimationBlendTime             = 6
      End  
    End

    AnimationState                     = MOUNTED RUBBLE 
      Animation                        = RubbleDieF
        AnimationName                  = CUFellBst_SKL.CUFellBst_DIVA
        AnimationMode                  = ONCE
        AnimationBlendTime             = 4
      End
    End
    
    AnimationState                     = MOUNTED DYING
      Animation                        = DyingA
        AnimationName                  = CUFellBst_SKL.CUFellBst_HVRC
        AnimationMode                  = LOOP
        AnimationBlendTime             = 10
        AnimationSpeedFactorRange      = 0.5 0.5
      End
      StateName                        = DYING
    End

    AnimationState                     = MOUNTED SELECTED
      SimilarRestart 	                 =   Yes 	 
      StateName                        =	AtAttentionIdle
      Animation                        = ATNB
        AnimationName                  = CUFellBst_SKL.CUFellBst_HVRA
        AnimationMode                  = LOOP
        AnimationBlendTime             = 10
        AnimationSpeedFactorRange      = 0.95 1.05
      End
    End

    ;;;;;;;;;;
    AnimationState                     = MOVING WEAPONSET_TOGGLE_1
      StateName                        = STATE_Mace
      Animation                        = RUNA
        AnimationName                  = MUWchKng_SKL.MUWchKng_RUNB
        AnimationMode                  = LOOP
      End
      BeginScript
        CurDrawableShowSubObject("MACE")
      EndScript
      Flags                            = RANDOMSTART
      ParticleSysBone                  = None InfantryDustTrails
    End

    AnimationState                     = MOVING
      Animation                        = RUNB
        AnimationName                  = MUWchKng_SKL.MUWchKng_RUNA
        AnimationMode                  = LOOP
      End
      BeginScript
        CurDrawableHideSubObject("MACE")
      EndScript
      Flags                            = RANDOMSTART
      ParticleSysBone                  = None InfantryDustTrails
    End

    AnimationState                     = USER_1 WEAPONSET_TOGGLE_1
      Animation                        = DIEA
        AnimationName                  = MUWchKng_SKL.MUWchKng_DIEB
        AnimationMode                  = ONCE
      End
      BeginScript
        CurDrawableHideSubObject("MACE")
      EndScript
    End

    AnimationState                     = USER_1
      Animation                        = DIEA
        AnimationName                  = MUWchKng_SKL.MUWchKng_DIEA
        AnimationMode                  = ONCE
      End
      BeginScript
        CurDrawableHideSubObject("MACE")
      EndScript
    End

    AnimationState                     = DYING WEAPONSET_TOGGLE_1
      Animation                        = DIEA
        AnimationName                  = MUWchKng_SKL.MUWchKng_DIEB
        AnimationMode                  = ONCE
      End
      BeginScript
        CurDrawableHideSubObject("MACE")
      EndScript
    End

    AnimationState                     = DYING
      Animation                        = DIEA
        AnimationName                  = MUWchKng_SKL.MUWchKng_DIEA
        AnimationMode                  = ONCE
      End
      BeginScript
        CurDrawableHideSubObject("MACE")
      EndScript
    End

    AnimationState 	                   = STUNNED 
      Animation                        = LNDA
        AnimationName                  = MUWchKng_SKL.MUWchKng_LNDA
        AnimationMode                  = ONCE
      End
    End

    AnimationState 	                   = STUNNED_STANDING_UP
      Animation                        = GTPA
        AnimationName                  = MUWchKng_SKL.MUWchKng_GTPA
        AnimationMode                  = ONCE
        AnimationSpeedFactorRange      = 1.5 1.5
      End
    End

    ;War Mace
    AnimationState                     =  FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
      StateName                        = STATE_Mace
      Animation                        = ATA1
        AnimationName                  = MUWchKng_SKL.MUWchKng_ATKC
        AnimationMode                  = ONCE
        UseWeaponTiming                = No
        AnimationSpeedFactorRange      = 1.111 1.111
      End
      Animation                        = ATB1
        AnimationName                  = MUWchKng_SKL.MUWchKng_ATKD
        AnimationMode                  = ONCE
        UseWeaponTiming                = No
        AnimationSpeedFactorRange      = 1.5 1.5
      End
      BeginScript
        CurDrawableShowSubObject("MACE")
      EndScript
      Flags                            = RESTART_ANIM_WHEN_COMPLETE
    End

    ;AnimationState                    = ATTACKING WEAPONSET_TOGGLE_1
    ;	StateName                        = STATE_Mace
    ;	Animation                        = ALERT_1
    ;  AnimationName                   = MUWchKng_SKL.MUWchKng_IDLC
    ;  AnimationMode                   = LOOP
    ;  AnimationPriority               = 10
    ;	End
    ;	BeginScript
    ;  CurDrawableShowSubObject("MACE")
    ;	EndScript
    ;End

    ;Morgul Blade
    AnimationState                     =  FIRING_OR_PREATTACK_A
      Animation                        = ATA1
        AnimationName                  = MUWchKng_SKL.MUWchKng_ATKA
        AnimationMode                  = ONCE
        UseWeaponTiming                = Yes
      End
      Animation                        = ATB1
        AnimationName                  = MUWchKng_SKL.MUWchKng_ATKB
        AnimationMode                  = ONCE
        UseWeaponTiming                = Yes
      End
      BeginScript
        CurDrawableHideSubObject("MACE")
      EndScript
    End
    
    AnimationState                     = BETWEEN_FIRING_SHOTS_A
      Animation                        = ALERT_1
        AnimationName                  = MUWchKng_SKL.MUWchKng_IDLA
        AnimationMode                  = LOOP
        AnimationPriority              = 10
      End
      BeginScript
        CurDrawableHideSubObject("MACE")
      EndScript
    End

    TransitionState                    = TRANS_IdleToSelected
      Animation                        = ATNA
        AnimationName                  = MUWchKng_SKL.MUWchKng_ATNA
        AnimationMode                  = ONCE
        AnimationSpeedFactorRange      = 0.7 1.3
      End
    End

    TransitionState                    = TRANS_SelectedToMace
      Animation                        = ATNA
        AnimationName                  = MUWchKng_SKL.MUWchKng_STHA
        AnimationMode                  = ONCE
        AnimationSpeedFactorRange      = 0.7 1.3
      End
      BeginScript
        CurDrawableShowSubObject("MACE")
      EndScript
    End

    TransitionState                    = TRANS_MaceToSelected
      Animation                        = ATNA
        AnimationName                  = MUWchKng_SKL.MUWchKng_STHB
        AnimationMode                  = ONCE
        AnimationSpeedFactorRange      = 0.7 1.3
      End
      BeginScript
        CurDrawableShowSubObject("MACE")
      EndScript
    End

    AnimationState                     = WAR_CHANT
      Animation                        = Chant
        AnimationName                  = MUWchKng_SKL.MUWchKng_CHRA
        AnimationMode                  = LOOP
      End
      BeginScript
        CurDrawableHideSubObject("MACE")
      EndScript
    End

    AnimationState 	                   = EMOTION_CELEBRATING
      Animation                        = CHRA
        AnimationName                  =  MUWchKng_SKL.MUWchKng_CHRA
        AnimationMode                  = ONCE
      End
      BeginScript
        CurDrawableHideSubObject("MACE")
      EndScript
      Flags   	                       =	RESTART_ANIM_WHEN_COMPLETE
    End

    AnimationState                     = EMOTION_ALERT
      Animation                        = ALERT_1
        AnimationName                  = MUWchKng_SKL.MUWchKng_IDLA
        AnimationMode                  = ONCE
        AnimationPriority              = 10
      End
      BeginScript
        CurDrawableHideSubObject("MACE")
      EndScript
      Flags                            = RESTART_ANIM_WHEN_COMPLETE; acts like an idle animation & keeps running the animations.
    End

    AnimationState                     = SELECTED WEAPONSET_TOGGLE_1
      StateName                        = STATE_Mace
      Animation                        = ATNB
        AnimationName                  = MUWchKng_SKL.MUWchKng_IDLC
        AnimationMode                  = LOOP
      End
      BeginScript
        CurDrawableShowSubObject("MACE")
        Prev                           = CurDrawablePrevAnimationState()
        if Prev                        == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToMace") end
      EndScript
    End

    AnimationState                     = SELECTED
      StateName                        = STATE_Selected
      Animation                        = ATNB
        AnimationName                  = MUWchKng_SKL.MUWchKng_ATNB
        AnimationMode                  = LOOP
      End
      BeginScript
        CurDrawableHideSubObject("MACE")
        Prev                           = CurDrawablePrevAnimationState()
        if Prev                        == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
        if Prev                        == "STATE_Mace" then CurDrawableSetTransitionAnimState("TRANS_MaceToSelected") end
      EndScript
    End

    AnimationState                     = WEAPONSET_TOGGLE_1
      StateName                        = STATE_Mace
      Animation                        = ATNB
        AnimationName                  = MUWchKng_SKL.MUWchKng_IDLC
        AnimationMode                  = LOOP
      End
      BeginScript
        Prev                           = CurDrawablePrevAnimationState()
        if Prev                        == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
      EndScript
      End
    AnimationState                     = MOUNTED

    StateName                          = Idle
      Animation                        = IDLA
        AnimationName                  = CUFellBst_SKL.CUFellBst_HVRA
        AnimationMode                  = LOOP
        AnimationBlendTime             = 10
        AnimationSpeedFactorRange      = 0.95 1.05
      End
    End

    IdleAnimationState
      StateName                        = STATE_Idle
      Animation                        = IDLB
        AnimationName                  = MUWchKng_SKL.MUWchKng_IDLB
        AnimationMode                  = LOOP
      End
      BeginScript
        CurDrawableHideSubObject("MACE")
      EndScript
      ;Animation                       = IDLB
      ;	AnimationName                  = MUWchKng_SKL.MUWchKng_IDLB
      ;	AnimationMode                  = ONCE
      ;	AnimationSpeedFactorRange      = 0.9 1.1
      ;	AnimationBlendTime	           = 20
      ;End
    End
	End
 
    ; ***DESIGN parameters ***
    Side                               = Mordor
    EditorSorting                      = UNIT
    ThreatLevel                        = 4.0
    ThingClass                         = MEDIUM_MONSTER
    BuildCost                          = 1000
    BuildTime                          = 30
    TransportSlotCount                 = 1
    
    WeaponSet
      Weapon                           = PRIMARY     WitchKingMorgulBlade
      Weapon                           = TERTIARY   WitchKingMorgulBladeSpecialPower
      AutoChooseSources	               = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End
    
    WeaponSet
      Conditions                       = MOUNTED
      Weapon 	                         = PRIMARY  NazgulPlowAttack
      PreferredAgainst	               = PRIMARY  STRUCTURE MACHINE HORDE

      Weapon 	                         = SECONDARY  NazgulGrabAttack
      PreferredAgainst	               = SECONDARY  INFANTRY THROWN_OBJECT CAVALRY

      Weapon 	                         = TERTIARY  NazgulClawAttack
      OnlyAgainst                      = TERTIARY  MONSTER
    End

    ArmorSet
      Conditions                       = None
      Armor                            = HeroArmor
      DamageFX                         = None
    End
    
    ArmorSet
      Conditions                       = MOUNTED
      Armor                            = HeroArmor
      DamageFX                         = None
    End    
    
    VisionRange                        = M_VISION_FLIER
    ShroudClearingRange                = M_SHROUD_CLEAR_FLIER
    DisplayName                        = OBJECT:MordorRingWraith
    CrushableLevel                     = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
    CrusherLevel                       = 3
    CrushKnockback = 50;
    CrushZFactor = 1.0;
    RamPower                           = 30;
    RamZMult                           = 0.5;
    CommandPoints                      = 0
    CommandSet                         = Spartan184CommandSet

    ; *** AUDIO Parameters ***;

    VoiceSelect                        = NoSound
    VoiceMove                          = NoSound
    VoiceAttack                        = NoSound
    VoiceFear                          = NoSound
    VoiceGuard                         = NoSound

    SoundAmbient                       = NoSound
    SoundMoveLoop                      = NoSound
    SoundMoveStart                     = NoSound
    SoundImpact                        = NoSound
  
    ;UnitSpecificSounds
    ;    VoiceGarrison                 = NoSound
    ;    VoiceEnter                    = NoSound
    ;    VoiceEnterHostile             = NoSound
    ;    VoiceGetHealed                = NoSound
    ;End

    EvaEventDamagedOwner               = UnitUnderAttack         ;Eva event to trigger when unit is damaged
    
    ClientBehavior                     = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap              = 800

        AnimationSound                 = Sound: FellBeastWingFlaps    Animation:CUFELLBST_SKL.CUFELLBST_IDLA Frames: 33

        AnimationSound                 = Sound: FellBeastWingFlaps    Animation:CUFELLBST_SKL.CUFELLBST_ATKB Frames: 1 24 65 87 112
        AnimationSound                 = Sound: FellBeastWingFlaps    Animation:CUFELLBST_SKL.CUFELLBST_ATKD Frames: 5

        AnimationSound                 = Sound: FellBeastEagleAttack    Animation:CUFELLBST_SKL.CUFELLBST_ATKD Frames: 10

        AnimationSound                 = Sound: FellBeastHurt        Animation:CUFELLBST_SKL.CUFELLBST_ATKH Frames: 0
        AnimationSound                 = Sound: FellBeastHurt        Animation:CUFELLBST_SKL.CUFELLBST_HITA Frames: 0
        AnimationSound                 = Sound: FellBeastWingFlaps    Animation:CUFELLBST_SKL.CUFELLBST_HITA Frames: 10

        AnimationSound                 = Sound: FellBeastWingFlaps    Animation:CUFELLBST_SKL.CUFELLBST_FLYA Frames: 5
        AnimationSound                 = Sound: FellBeastWingFlaps    Animation:CUFELLBST_SKL.CUFELLBST_HVRA Frames: 7
        AnimationSound                 = Sound: FellBeastWingFlapsShort    Animation:CUFELLBST_SKL.CUFELLBST_HVRB Frames: 3 
        AnimationSound                 = Sound: FellBeastWingFlapsShort    Animation:CUFELLBST_SKL.CUFELLBST_HVRC Frames: 5 32 
        AnimationSound                 = Sound: FellBeastWingFlaps    Animation:CUFELLBST_SKL.CUFELLBST_HVRC Frames: 62 103

        ;-------- animation unused anymore -----------
        ;AnimationSound                = Sound: FellBeastEagleAttack    Animation:CUFELLBST_SKL.CUFELLBST_ATKE Frames: 20
        ;AnimationSound                = Sound: FellBeastWingFlaps    Animation:CUFELLBST_SKL.CUFELLBST_ATKA Frames: 1 24 46
        ;AnimationSound                = Sound: FellBeastWingFlaps    Animation:CUFELLBST_SKL.CUFELLBST_ATKC Frames: 16
        ;AnimationSound                = Sound: FellBeastWingFlaps    Animation:CUFELLBST_SKL.CUFELLBST_ATKE Frames: 7
        ;AnimationSound                = Sound: FellBeastWingFlaps    Animation:CUFELLBST_SKL.CUFELLBST_ATKF Frames: 7 
        ;AnimationSound                = Sound: FellBeastDie        Animation:CUFELLBST_SKL.CUFELLBST_DIEC Frames: 5
    End

    ; *** ENGINEERING Parameters ***
    RadarPriority                      = UNIT
    KindOf                             = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT HERO ARMY_SUMMARY ATTACK_NEEDS_LINE_OF_SIGHT DISGUISER
 
    Body                               = RespawnBody ModuleTag_02
        CheerRadius                    = M_EMOTION_CHEER_RADIUS
        MaxHealth                      = 1000                  ;BALANCE Ringwraith Health
        PermanentlyKilledByFilter      = NONE +RohanEowyn
    End
    
    Behavior                           = RespawnUpdate ModuleTag_RespawnUpdate
        DeathAnim                      = STUNNED                        ;Model condition to play when killed-to-respawn
        DeathFX                        = FX_GandalfLightningSwordHit    ;FXList to play when killed-to-respawn
        DeathAnimationTime             = 1133                            ;How long DeathAnim will take.

        RespawnAnim                    = LEVELED            ;Animation to play when respawning.
        RespawnFX                      = FX_Resurrection                ;FXList to play when respawning.
        RespawnAnimationTime           = 2000                            ;Time it takes for respawn to play.
        AutoRespawnAtObjectFilter      = NONE +CASTLE_KEEP                ;Respawn at this location -- and at it's exit production point if possible.
        ButtonImage                    = HINazgul
        RespawnAsTemplate              = MordorFellBeast

        ;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
        ;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
        RespawnRules                   =            AutoSpawn:No    Cost:2000        Time:60000        Health:100%        ;DEFAULT VALUES
        RespawnEntry                   =    Level:2                Cost:2000        Time:60000        ;For other levels, only override what is different.
        RespawnEntry                   =    Level:3                Cost:2000        Time:60000        
        RespawnEntry                   =    Level:4                Cost:2000        Time:60000        
        RespawnEntry                   =    Level:5                Cost:2000        Time:60000        
        RespawnEntry                   =    Level:6                Cost:2000        Time:60000        
        RespawnEntry                   =    Level:7                Cost:2000        Time:60000        
        RespawnEntry                   =    Level:8                Cost:2000        Time:60000        
        RespawnEntry                   =    Level:9                Cost:2000        Time:60000        
        RespawnEntry                   =    Level:10            Cost:2000        Time:60000        
    End
 
    Behavior                           = AIUpdateInterface ModuleTag_03
    End
    
    ; Behavior                           = GiantBirdAIUpdate ModuleTag_GiantBirdAI
        ; AutoAcquireEnemiesWhenIdle     = No ATTACK_BUILDINGS     ; Important that Nazgul not go swooping about on his own, UNLESS IN GUARD STATE
        ; MoodAttackCheckRate            = 500
        ; AILuaEventsList                = FellBeastFunctions    
        ; FollowThroughDistance          = 200
        ; FollowThroughCheckStep         = 50
        ; FollowThroughGradient          = 1.0
        ; GrabTossTimeTrigger            = 2.5
        ; GrabTossHeightTrigger          = 100.0
        ; TossFX                         = FX_DiebyFalling
        ; SpecialContactPoints           = Swoop
        ; AttackPriority                 = AttackPriority_FellBeast
    ; End
    
    LocomotorSet
        Locomotor                      = HeroHumanLocomotor
        Condition                      = SET_NORMAL 
        Speed                          = NORMAL_GOOD_HERO_SPEED
    End
    
    LocomotorSet
      Locomotor                         = FellBeastLocomotor
      Condition                         = SET_NORMAL_UPGRADED
      Speed                             = 95    
    End   
    
    ;;; Grant Flying locomotor ;;;
    Behavior                            = LocomotorSetUpgrade ModuleTag_11
      TriggeredBy                       = Upgrade_TechnologyGundabadWillOfSauron
    End    
    
    LocomotorSet
        Locomotor                      = FellBeastLocomotor
        Condition                      = SET_MOUNTED 
        Speed                          = 95
    End
    
    LocomotorSet
        Locomotor                      = FellBeastLocomotor; BALANCE FellBeast
        Condition                      = SET_SUPERSONIC 
        Speed                          = 114
    End
    
    LocomotorSet
        Locomotor                      = FellBeastLocomotor; BALANCE FellBeast
        Condition                      = SET_WANDER 
        Speed                          = 78
    End
    
    LocomotorSet
        Locomotor                      = FellBeastSwoopLocomotor; BALANCE FellBeast
        Condition                      = SET_PANIC
        Speed                          = 160
    End
  
    Behavior                           = PhysicsBehavior ModuleTag_04
    End

    Behavior                           = SlowDeathBehavior ModuleTag_05
        DeathTypes                     = ALL -KNOCKBACK
        SinkDelay                      = 3000
        SinkRate                       = 1.20     ; in Dist/Sec
        DestructionDelay               = 15000
        ;Sound                         = INITIAL FellBeastDie
    End
 
    Behavior                           = SquishCollide ModuleTag_06
        ;nothing
    End
 
    Behavior                           = SlowDeathBehavior ModuleTag_07
        ; Same as normal death, but no sound (sound already played by SoundImpact  ... )
        DeathTypes                     = NONE +KNOCKBACK
        SinkDelay                      = 3000
        SinkRate                       = 1.20     ; in Dist/Sec
        DestructionDelay               = 15000
    End
    
    Behavior = RiderChangeContain TransportContainModuleTag
        ;A list of each valid rider that is allowed to ride this object. Each rider is
        ;assigned a modelcondition state, a weaponset flag, an object status bit, and
        ;a commandset override. The actual object is hidden inside the container so the
        ;visible rider is fluff. Also riders are deleted (not killed) when the vehicle
        ;is destroyed, so all deaths must be OCLs on the vehicle.
        Rider1 = MordorWitchKing    RIDER1 WEAPON_RIDER1 RIDER1 Spartan184CommandSet SET_NORMAL
        Rider2 = MordorRingWraith    RIDER2 WEAPON_RIDER1 RIDER2 Spartan184CommandSet    SET_NORMAL

        ;ScuttleDelay = 1500    this unit doesn't scuttle
        ;ScuttleStatus = TOPPLED
        KillRiderWhenVehicleDies = Yes
    
        ;Crew
        ObjectStatusOfCrew    = UNSELECTABLE UNATTACKABLE ENCLOSED
        InitialCrew            = MordorRingWraith 1
        CrewFilter            = NONE +MordorRingWraith +MordorWitchKing
        CrewMax                = 1
        
        ;Victim passenger
        ObjectStatusOfContained = UNSELECTABLE UNATTACKABLE
        PassengerFilter = ANY +INFANTRY +HULK +CAVALRY +GRAB_AND_DROP -HERO -PORTER
        Slots = 1
        
        ShowPips = No
        CollidePickup = No
        AllowEnemiesInside = Yes
        AllowNeutralInside = Yes
        AllowAlliesInside  = Yes
        DamagePercentToUnits = 0%
        PassengerBonePrefix = PassengerBone:B_PASSENGER       KindOf:GRAB_AND_DROP
        EjectPassengersOnDeath = No ;Let RiderChangeContain handle this
        
        GrabWeapon = FellbeastGrabWeapon ; fire this weapon when fellbeast grabs a victim
        FireGrabWeaponOnVictim = No
        
        ReleaseSnappyness = 0.05 ; 1.0 is very snappy, 0.0 is very loose
        
    End 
    
    ; -- Fellbeast Attacks
    Behavior                           = SpecialPowerModule ModuleTag_FellbeastLevelAttack                      
        SpecialPowerTemplate           = SpecialAbilityLevelAttack
        UpdateModuleStartsAttack       = Yes
        ;InitiateSound                 = 
    End

    Behavior                           = FellBeastSwoopPower ModuleTag_FellBeastSwoopPower ; special fellbeast swoop power
        SpecialPowerTemplate           = SpecialAbilityLevelAttack
        UnpackTime                     = 1 ; hit the guy
        AwardXPForTriggering           = 0        
        StartAbilityRange              = 1000.0        
    End
  
    ; -- Screech
    Behavior                           = SpecialPowerModule ModuleTag_FellbeastScreech                      
        SpecialPowerTemplate           = SpecialAbilityScreech
        UpdateModuleStartsAttack       = Yes
    End
    
    Behavior                           = SpecialAbilityUpdate ModuleTag_FellBeastScreechSAUpdate  
        SpecialPowerTemplate           = SpecialAbilityScreech
        UnpackTime                     = 0  
        AwardXPForTriggering           = 0        
        TriggerSound                   = NazgulScreech
        Instant                        = Yes
    End
    
    ; -- Mount Toggle
    Behavior                           = SpecialPowerModule ModuleTag_HorseToggleStarter                      
         SpecialPowerTemplate          = SpecialAbilityToggleMounted
         UpdateModuleStartsAttack      = Yes
         StartsPaused                  = No
    End
    Behavior                           = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
         SpecialPowerTemplate          = SpecialAbilityToggleMounted
         UnpackTime                    = 2000
         PreparationTime               = 1  
         PersistentPrepTime            = 250
         PackTime                      = 2000
         OpacityTarget                 = .3
         AwardXPForTriggering          = 0
    End
    
    ; -- Disguise
    Behavior                                              = UnpauseSpecialPowerUpgrade ModuleTag_DisguiseEnabler
        SpecialPowerTemplate                              = SpecialAbilityDisguise
        TriggeredBy                                       = Upgrade_GenericUpgrade1
    End
    
    Behavior                                              = SpecialPowerModule ModuleTag_SpecialDisguiseUpdate                     
        SpecialPowerTemplate                              = SpecialAbilityDisguise
        UpdateModuleStartsAttack                          = Yes
        StartsPaused                                      = Yes
        InitiateFX                                        = FX_EowynDisguiseToggle
    ;    InitiateSound                                    = 
    End
    
    Behavior                                              = SpecialDisguiseUpdate ModuleTag_SpecialDisguiseUpdateUpdate               
         SpecialPowerTemplate                             = SpecialAbilityDisguise
         UnpackTime                                       = 1000
         PreparationTime                                  = 1  
         PersistentPrepTime                               = 250
         PackTime                                         = 1000    
         OpacityTarget                                    = .3        ; How see-thru to be at peak of change
     ;    AwardXPForTriggering                            = 0
         DisguiseAsTemplate                               = MordorFellBeast
         DisguisedAsTemplate_EnemyPerspective             = MordorFellBeast
         DisguiseFX                                       = FX_DisguiseExit
         ForceMountedWhenDisguising                       = Yes
    End    
    
    Geometry                           = CYLINDER
    GeometryMajorRadius                = 16.0
    GeometryMinorRadius                = 16.0
    GeometryHeight                     = 16.0
    GeometryIsSmall                    = No
    Shadow                             = SHADOW_DECAL
    ShadowSizeX                        = 19;
    ShadowSizeY                        = 19;
    ShadowTexture                      = ShadowI;
End