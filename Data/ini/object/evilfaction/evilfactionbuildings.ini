; FILE: EvilFactionBuildings.ini ///////////////////////////////////////////////////
; This file contains only buildings that are part of a player or faction.
; Typically these are the buildings that can be build by the player or
; are part of a base.  
;//////////////////////////////////////////////////////////////////////////////



;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;
;  Mordor
;
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------



;------------------------------------------------------------------------------

Object MordorBlackGate01

    SelectPortrait = BPMBlackgate
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBlackGt01
    End
    WallBoundsMesh = P08
    RampMesh1 = P09
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBlackGate
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
 

  ; *** AUDIO Parameters ***

    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone

 
  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE WALK_ON_TOP_OF_WALL CHUNK_VENDOR IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE MADE_OF_METAL;SELECTABLE 
  
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End
 
  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
    
    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes ;If no, requires upgrade to turn on.
        BonusName        = WallBonus
        RefreshDelay    = 2000
        ;Range            = 120        ; Range is overridden to affect people on us since we are a wall
        ;TargetEnemy        = Yes    ; Alliances are ignored to affect people on us since we are a wall
    End    

  Geometry              = BOX
  GeometryMajorRadius   = 55.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 220.0
  GeometryOffset        = X:-53 Y:0 Z:0
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 55.0
  GeometryMinorRadius   = 0
  GeometryHeight        = 310.0
  GeometryOffset        = X:53 Y:0 Z:0
  
  GeometryContactPoint =    X:0            Y:0            Z:200 
  GeometryContactPoint =    X:50        Y:-60            Z:0 Grab
  GeometryContactPoint =    X:100        Y:-60            Z:0 Grab
  GeometryContactPoint =    X:0            Y:0            Z:200
  GeometryContactPoint =    X:50        Y:60            Z:0 Grab
  GeometryContactPoint =    X:100        Y:60            Z:0 Grab
  GeometryContactPoint =    X:50        Y:0                Z:200
  GeometryContactPoint =    X:-75        Y:0                Z:200
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------

Object MordorBlackGate02

    SelectPortrait = BPMBlackgate
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBlackGt02
    End
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBlackGate
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
 

  ; *** AUDIO Parameters ***
 
    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE CHUNK_VENDOR IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE MADE_OF_METAL ;WALK_ON_TOP_OF_WALL SELECTABLE 
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
     SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End
 
  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
    
    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes ;If no, requires upgrade to turn on.
        BonusName        = WallBonus
        RefreshDelay    = 2000
        ;Range            = 120        ; Range is overridden to affect people on us since we are a wall
        ;TargetEnemy        = Yes    ; Alliances are ignored to affect people on us since we are a wall
    End    

  Geometry                = BOX
  GeometryMajorRadius   = 32.0
  GeometryMinorRadius   = 165.0
  GeometryHeight        = 115.0
  GeometryOffset        = X:0 Y:-60 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 32.0
  GeometryMinorRadius   = 95.0
  GeometryHeight        = 200.0
  GeometryOffset        = X:0 Y:-130 Z:0
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 30.0
  GeometryMinorRadius   = 30.0
  GeometryHeight        = 180.0
  GeometryOffset        = X:0 Y:75 Z:0
    

  GeometryIsSmall       = No
  
  
  GeometryContactPoint =    X:35        Y:-100        Z:0 Grab
  GeometryContactPoint =    X:35        Y:-75        Z:100 
  GeometryContactPoint =    X:35        Y:-50        Z:0 Grab
  GeometryContactPoint =    X:35        Y:-25        Z:100 
  GeometryContactPoint =    X:35        Y:0        Z:0 Grab
  GeometryContactPoint =    X:35        Y:25        Z:0 Grab
  GeometryContactPoint =    X:35        Y:50        Z:100 
  GeometryContactPoint =    X:35        Y:75        Z:0 Grab
  GeometryContactPoint =    X:35        Y:100        Z:100 
  GeometryContactPoint =    X:-35        Y:-100        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:-75        Z:100 
  GeometryContactPoint =    X:-35        Y:-50        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:-25        Z:100 
  GeometryContactPoint =    X:-35        Y:0        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:25        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:50        Z:100 
  GeometryContactPoint =    X:-35        Y:75        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:100        Z:100 

  
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------

Object MordorBlackGate02EX

    SelectPortrait = BPMBlackgate
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBlackGt02EX
    End
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBlackGate
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
 

  ; *** AUDIO Parameters ***
 
    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE WALK_ON_TOP_OF_WALL CHUNK_VENDOR IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE MADE_OF_METAL ;SELECTABLE 
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
     SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End
 
  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
    
    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes ;If no, requires upgrade to turn on.
        BonusName        = WallBonus
        RefreshDelay    = 2000
        ;Range            = 120        ; Range is overridden to affect people on us since we are a wall
        ;TargetEnemy        = Yes    ; Alliances are ignored to affect people on us since we are a wall
    End    

  Geometry              = BOX
  GeometryMajorRadius   = 130.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 115.0
  GeometryOffset        = X:150 Y:100 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 32.0
  GeometryMinorRadius   = 95.0
  GeometryHeight        = 200.0
  GeometryOffset        = X:0 Y:-130 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 32.0
  GeometryMinorRadius   = 165.0
  GeometryHeight        = 115.0
  GeometryOffset        = X:0 Y:-60 Z:0

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 110.0
  GeometryMinorRadius   = 140.0
  GeometryHeight        = 50.0
  GeometryOffset        = X:-140 Y:-15 Z:0

  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 30.0
  GeometryMinorRadius   = 30.0
  GeometryHeight        = 180.0
  GeometryOffset        = X:0 Y:75 Z:0
    

GeometryIsSmall       = No
  
  GeometryContactPoint =    X:0            Y:38        Z:0 Grab
  GeometryContactPoint =    X:50        Y:37        Z:100
  GeometryContactPoint =    X:75        Y:47        Z:0 Grab
  GeometryContactPoint =    X:100        Y:42        Z:100
  GeometryContactPoint =    X:125        Y:53        Z:0 Grab
  GeometryContactPoint =    X:150        Y:49        Z:100
  GeometryContactPoint =    X:175        Y:58        Z:0 Grab
  GeometryContactPoint =    X:200        Y:56        Z:100
  GeometryContactPoint =    X:225        Y:66        Z:0 Grab
  
  GeometryContactPoint =    X:0            Y:-26        Z:0 Grab
  GeometryContactPoint =    X:50        Y:-16        Z:100
  GeometryContactPoint =    X:75        Y:-18        Z:0 Grab
  GeometryContactPoint =    X:100        Y:-8            Z:100
  GeometryContactPoint =    X:125        Y:-10        Z:0 Grab
  GeometryContactPoint =    X:150        Y:-1            Z:100
  GeometryContactPoint =    X:175        Y:-4            Z:0 Grab
  GeometryContactPoint =    X:200        Y:6        Z:100
  GeometryContactPoint =    X:225        Y:10        Z:0 Grab


  GeometryContactPoint =    X:35        Y:-100        Z:0 Grab
  GeometryContactPoint =    X:35        Y:-75        Z:100 
  GeometryContactPoint =    X:35        Y:-50        Z:0 Grab
  GeometryContactPoint =    X:35        Y:-25        Z:100 
  GeometryContactPoint =    X:35        Y:0        Z:0 Grab
  GeometryContactPoint =    X:35        Y:25        Z:0 Grab
  GeometryContactPoint =    X:35        Y:50        Z:100 
  GeometryContactPoint =    X:35        Y:75        Z:0 Grab
  GeometryContactPoint =    X:35        Y:100        Z:100 
  GeometryContactPoint =    X:-35        Y:-100        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:-75        Z:100 
  GeometryContactPoint =    X:-35        Y:-50        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:-25        Z:100 
  GeometryContactPoint =    X:-35        Y:0        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:25        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:50        Z:100 
  GeometryContactPoint =    X:-35        Y:75        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:100        Z:100 
  GeometryContactPoint =    X:-40        Y:25        Z:0 Grab
  GeometryContactPoint =    X:0            Y:-25        Z:0 Grab
  GeometryContactPoint =    X:50        Y:-62        Z:50
  GeometryContactPoint =    X:75        Y:-75        Z:0 Grab
  GeometryContactPoint =    X:100        Y:-80        Z:50
  GeometryContactPoint =    X:100        Y:-35        Z:0 Grab
  GeometryContactPoint =    X:75        Y:-30        Z:50
  GeometryContactPoint =    X:50        Y:-20        Z:0 Grab   
  GeometryContactPoint =    X:25        Y:    0        Z:50   
  GeometryContactPoint =    X:0            Y: 35        Z:0 Grab  
  GeometryContactPoint =    X:-20        Y: 65        Z:50   
  GeometryContactPoint =    X:-30        Y: 100        Z:0 Grab
  GeometryContactPoint =    X:-33        Y: 130        Z:50
  GeometryContactPoint =    X:-70        Y: 130        Z:0 Grab
  GeometryContactPoint =    X:-70        Y: 100        Z:50
  GeometryContactPoint =    X:-50        Y: 25        Z:0 Grab

  
  Shadow                = SHADOW_VOLUME
End



;------------------------------------------------------------------------------

Object MordorBlackGate03

    SelectPortrait = BPMBlackgate
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBlackGt03
    End
    WallBoundsMesh = P1
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBlackGate
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
 

  ; *** AUDIO Parameters ***
 
    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE WALK_ON_TOP_OF_WALL CHUNK_VENDOR IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE SELECTABLE MADE_OF_METAL 
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End
 
  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes ;If no, requires upgrade to turn on.
        BonusName        = WallBonus
        RefreshDelay    = 2000
        ;Range            = 120        ; Range is overridden to affect people on us since we are a wall
        ;TargetEnemy        = Yes    ; Alliances are ignored to affect people on us since we are a wall
    End    

  Geometry    = BOX
  GeometryMajorRadius   = 110.0
  GeometryMinorRadius   = 140.0
  GeometryHeight        = 50.0
  GeometryOffset        = X:-140 Y:-15 Z:0
  
  
  GeometryContactPoint =    X:-40        Y:25        Z:0 Grab
  GeometryContactPoint =    X:0            Y:-25        Z:0 Grab
  GeometryContactPoint =    X:50        Y:-62        Z:50
  GeometryContactPoint =    X:75        Y:-75        Z:0 Grab
  GeometryContactPoint =    X:100        Y:-80        Z:50
  GeometryContactPoint =    X:100        Y:-35        Z:0 Grab
  GeometryContactPoint =    X:75        Y:-30        Z:50
  GeometryContactPoint =    X:50        Y:-20        Z:0 Grab   
  GeometryContactPoint =    X:25        Y:    0        Z:50   
  GeometryContactPoint =    X:0            Y: 35        Z:0 Grab  
  GeometryContactPoint =    X:-20        Y: 65        Z:50   
  GeometryContactPoint =    X:-30        Y: 100        Z:0 Grab
  GeometryContactPoint =    X:-33        Y: 130        Z:50
  GeometryContactPoint =    X:-70        Y: 130        Z:0 Grab
  GeometryContactPoint =    X:-70        Y: 100        Z:50
  GeometryContactPoint =    X:-50        Y: 25        Z:0 Grab

  GeometryIsSmall       = No  
  Shadow                = SHADOW_VOLUME
End



;------------------------------------------------------------------------------

Object MordorBlackGate04

    SelectPortrait = BPMBlackgate
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBlackGt04
    End
    WallBoundsMesh = P1
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBlackGate
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
 

  ; *** AUDIO Parameters ***
 
    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE WALK_ON_TOP_OF_WALL CHUNK_VENDOR IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE MADE_OF_METAL SELECTABLE; 
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End
 
  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
    
    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes ;If no, requires upgrade to turn on.
        BonusName        = WallBonus
        RefreshDelay    = 2000
        ;Range            = 120        ; Range is overridden to affect people on us since we are a wall
        ;TargetEnemy        = Yes    ; Alliances are ignored to affect people on us since we are a wall
    End    

  Geometry                = BOX
  GeometryMajorRadius   = 110.0
  GeometryMinorRadius   = 140.0
  GeometryHeight        = 50.0
  GeometryOffset        = X:-140 Y:15 Z:0
  
 
  GeometryContactPoint =    X:-40        Y:-25        Z:0 Grab
  GeometryContactPoint =    X:0            Y:25        Z:0 Grab
  GeometryContactPoint =    X:50        Y:62        Z:50
  GeometryContactPoint =    X:75        Y:75        Z:0 Grab
  GeometryContactPoint =    X:100        Y:80        Z:50
  GeometryContactPoint =    X:100        Y:35        Z:0 Grab
  GeometryContactPoint =    X:75        Y:30        Z:50
  GeometryContactPoint =    X:50        Y:20        Z:0 Grab   
  GeometryContactPoint =    X:25        Y:    0        Z:50   
  GeometryContactPoint =    X:0            Y: -35        Z:0 Grab  
  GeometryContactPoint =    X:-20        Y: -65        Z:50   
  GeometryContactPoint =    X:-30        Y: -100        Z:0 Grab
  GeometryContactPoint =    X:-33        Y: -130        Z:50
  GeometryContactPoint =    X:-70        Y: -130        Z:0 Grab
  GeometryContactPoint =    X:-70        Y: -100        Z:50
  GeometryContactPoint =    X:-50        Y: -25        Z:0 Grab
  
  GeometryIsSmall       = No  
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------

Object MordorBlackGate05

    SelectPortrait = BPMBlackgate
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBlackGt05
    End
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBlackGate
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
 

  ; *** AUDIO Parameters ***
 
    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE CHUNK_VENDOR IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE MADE_OF_METAL ; SELECTABLE 
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End
 
  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
    
    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes ;If no, requires upgrade to turn on.
        BonusName        = WallBonus
        RefreshDelay    = 2000
        ;Range            = 120        ; Range is overridden to affect people on us since we are a wall
        ;TargetEnemy        = Yes    ; Alliances are ignored to affect people on us since we are a wall
    End    

  Geometry                = BOX
  GeometryMajorRadius   = 32.0
  GeometryMinorRadius   = 95.0
  GeometryHeight        = 200.0
  GeometryOffset        = X:0 Y:130 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 32.0
  GeometryMinorRadius   = 165.0
  GeometryHeight        = 115.0
  GeometryOffset        = X:0 Y:60 Z:0

  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 30.0
  GeometryMinorRadius   = 30.0
  GeometryHeight        = 180.0
  GeometryOffset        = X:0 Y:-75 Z:0

  GeometryContactPoint =    X:35        Y:-100        Z:0 Grab
  GeometryContactPoint =    X:35        Y:-75        Z:100 
  GeometryContactPoint =    X:35        Y:-50        Z:0 Grab
  GeometryContactPoint =    X:35        Y:-25        Z:100 
  GeometryContactPoint =    X:35        Y:0        Z:0 Grab
  GeometryContactPoint =    X:35        Y:25        Z:0 Grab
  GeometryContactPoint =    X:35        Y:50        Z:100 
  GeometryContactPoint =    X:35        Y:75        Z:0 Grab
  GeometryContactPoint =    X:35        Y:100        Z:100 
  GeometryContactPoint =    X:-35        Y:-100        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:-75        Z:100 
  GeometryContactPoint =    X:-35        Y:-50        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:-25        Z:100 
  GeometryContactPoint =    X:-35        Y:0        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:25        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:50        Z:100 
  GeometryContactPoint =    X:-35        Y:75        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:100        Z:100 

  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------

Object MordorBlackGate05EX

    SelectPortrait = BPMBlackgate
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBlackGt05EX
    End
    WallBoundsMesh = P04
    RampMesh1 = P05
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBlackGate
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
 

  ; *** AUDIO Parameters ***
 
    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE WALK_ON_TOP_OF_WALL CHUNK_VENDOR IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE MADE_OF_METAL ;SELECTABLE 
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End
 
  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
    
    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes ;If no, requires upgrade to turn on.
        BonusName        = WallBonus
        RefreshDelay    = 2000
        ;Range            = 120        ; Range is overridden to affect people on us since we are a wall
        ;TargetEnemy        = Yes    ; Alliances are ignored to affect people on us since we are a wall
    End    


  Geometry              = BOX
  GeometryMajorRadius   = 130.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 115.0
  GeometryOffset        = X:150 Y:-100 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 32.0
  GeometryMinorRadius   = 95.0
  GeometryHeight        = 200.0
  GeometryOffset        = X:0 Y:130 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 32.0
  GeometryMinorRadius   = 165.0
  GeometryHeight        = 115.0
  GeometryOffset        = X:0 Y:60 Z:0

  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 110.0
  GeometryMinorRadius   = 140.0
  GeometryHeight        = 50.0
  GeometryOffset        = X:-140 Y:15 Z:0

  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 30.0
  GeometryMinorRadius   = 30.0
  GeometryHeight        = 180.0
  GeometryOffset        = X:0 Y:-75 Z:0
    
  GeometryContactPoint =    X:0            Y:-38        Z:0 Grab
  GeometryContactPoint =    X:50        Y:-37        Z:100
  GeometryContactPoint =    X:75        Y:-47        Z:0 Grab
  GeometryContactPoint =    X:100        Y:-42        Z:100
  GeometryContactPoint =    X:125        Y:-53        Z:0 Grab
  GeometryContactPoint =    X:150        Y:-49        Z:100
  GeometryContactPoint =    X:175        Y:-58        Z:0 Grab
  GeometryContactPoint =    X:200        Y:-56        Z:100
  GeometryContactPoint =    X:225        Y:-66        Z:0 Grab
  
  GeometryContactPoint =    X:0            Y:26        Z:0 Grab
  GeometryContactPoint =    X:50        Y:16        Z:100
  GeometryContactPoint =    X:75        Y:18        Z:0 Grab
  GeometryContactPoint =    X:100        Y:8            Z:100
  GeometryContactPoint =    X:125        Y:10        Z:0 Grab
  GeometryContactPoint =    X:150        Y:1            Z:100
  GeometryContactPoint =    X:175        Y:4            Z:0 Grab
  GeometryContactPoint =    X:200        Y:-6        Z:100
  GeometryContactPoint =    X:225        Y:-10        Z:0 Grab
  
  GeometryContactPoint =    X:-40        Y:-25        Z:0 Grab
  GeometryContactPoint =    X:0            Y:25        Z:0 Grab
  GeometryContactPoint =    X:50        Y:62        Z:50
  GeometryContactPoint =    X:75        Y:75        Z:0 Grab
  GeometryContactPoint =    X:100        Y:80        Z:50
  GeometryContactPoint =    X:100        Y:35        Z:0 Grab
  GeometryContactPoint =    X:75        Y:30        Z:50
  GeometryContactPoint =    X:50        Y:20        Z:0 Grab   
  GeometryContactPoint =    X:25        Y:    0        Z:50   
  GeometryContactPoint =    X:0            Y: -35        Z:0 Grab  
  GeometryContactPoint =    X:-20        Y: -65        Z:50   
  GeometryContactPoint =    X:-30        Y: -100        Z:0 Grab
  GeometryContactPoint =    X:-33        Y: -130        Z:50
  GeometryContactPoint =    X:-70        Y: -130        Z:0 Grab
  GeometryContactPoint =    X:-70        Y: -100        Z:50
  GeometryContactPoint =    X:-50        Y: -25        Z:0 Grab

  GeometryContactPoint =    X:35        Y:-100        Z:0 Grab
  GeometryContactPoint =    X:35        Y:-75        Z:100 
  GeometryContactPoint =    X:35        Y:-50        Z:0 Grab
  GeometryContactPoint =    X:35        Y:-25        Z:100 
  GeometryContactPoint =    X:35        Y:0        Z:0 Grab
  GeometryContactPoint =    X:35        Y:25        Z:0 Grab
  GeometryContactPoint =    X:35        Y:50        Z:100 
  GeometryContactPoint =    X:35        Y:75        Z:0 Grab
  GeometryContactPoint =    X:35        Y:100        Z:100 
  GeometryContactPoint =    X:-35        Y:-100        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:-75        Z:100 
  GeometryContactPoint =    X:-35        Y:-50        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:-25        Z:100 
  GeometryContactPoint =    X:-35        Y:0        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:25        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:50        Z:100 
  GeometryContactPoint =    X:-35        Y:75        Z:0 Grab
  GeometryContactPoint =    X:-35        Y:100        Z:100 

  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End



;------------------------------------------------------------------------------

Object MordorBlackGate06

    SelectPortrait = BPMBlackgate
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBlackGt06
    End
    WallBoundsMesh = P07
    RampMesh1 = P10
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBlackGate
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
 

  ; *** AUDIO Parameters ***
 
    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE WALK_ON_TOP_OF_WALL CHUNK_VENDOR IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE MADE_OF_METAL ;SELECTABLE 
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End
 
  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
    
    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes ;If no, requires upgrade to turn on.
        BonusName        = WallBonus
        RefreshDelay    = 2000
        ;Range            = 120        ; Range is overridden to affect people on us since we are a wall
        ;TargetEnemy        = Yes    ; Alliances are ignored to affect people on us since we are a wall
    End    

  Geometry              = BOX
  GeometryMajorRadius   = 55.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 220.0
  GeometryOffset        = X:-53 Y:0 Z:0
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 55.0
  GeometryMinorRadius   = 0
  GeometryHeight        = 310.0
  GeometryOffset        = X:53 Y:0 Z:0
  
  GeometryContactPoint =    X:0            Y:0            Z:200 
  GeometryContactPoint =    X:50        Y:-60            Z:0 Grab
  GeometryContactPoint =    X:100        Y:-60            Z:0 Grab
  GeometryContactPoint =    X:0            Y:0            Z:200
  GeometryContactPoint =    X:50        Y:60            Z:0 Grab
  GeometryContactPoint =    X:100        Y:60            Z:0 Grab
  GeometryContactPoint =    X:50        Y:0                Z:200
  GeometryContactPoint =    X:-75        Y:0                Z:200
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------

Object MordorBlackGateLeft

    SelectPortrait = BPMBlackgate
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
        Model = MBBlackGtL
    End
    WallBoundsMesh = P01
    
    AnimationState = USER_1 ;openning
        Animation
            AnimationName    = MBBlackGtL.MBBlackGtL
            AnimationMode   = ONCE_BACKWARDS
        End
        Flags = START_FRAME_LAST
    End
    AnimationState = USER_2 ;standing closed
        Animation
            AnimationName    = MBBlackGtL.MBBlackGtL
            AnimationMode   = ONCE
        End
        Flags = START_FRAME_LAST
    End
    
    
    
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBlackGate
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
 

  ; *** AUDIO Parameters ***
 
    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE WALK_ON_TOP_OF_WALL CHUNK_VENDOR IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE SELECTABLE MADE_OF_METAL 
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End
 
  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
    
    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes ;If no, requires upgrade to turn on.
        BonusName        = WallBonus
        RefreshDelay    = 2000
        ;Range            = 120        ; Range is overridden to affect people on us since we are a wall
        ;TargetEnemy        = Yes    ; Alliances are ignored to affect people on us since we are a wall
    End    

  Geometry              = BOX
  GeometryMajorRadius   = 130.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 115.0
  GeometryOffset        = X:150 Y:100 Z:0
  
  GeometryContactPoint =    X:0            Y:38        Z:0 Grab
  GeometryContactPoint =    X:50        Y:37        Z:100
  GeometryContactPoint =    X:75        Y:47        Z:0 Grab
  GeometryContactPoint =    X:100        Y:42        Z:100
  GeometryContactPoint =    X:125        Y:53        Z:0 Grab
  GeometryContactPoint =    X:150        Y:49        Z:100
  GeometryContactPoint =    X:175        Y:58        Z:0 Grab
  GeometryContactPoint =    X:200        Y:56        Z:100
  GeometryContactPoint =    X:225        Y:66        Z:0 Grab
  
  GeometryContactPoint =    X:0            Y:-26        Z:0 Grab
  GeometryContactPoint =    X:50        Y:-16        Z:100
  GeometryContactPoint =    X:75        Y:-18        Z:0 Grab
  GeometryContactPoint =    X:100        Y:-8            Z:100
  GeometryContactPoint =    X:125        Y:-10        Z:0 Grab
  GeometryContactPoint =    X:150        Y:-1            Z:100
  GeometryContactPoint =    X:175        Y:-4            Z:0 Grab
  GeometryContactPoint =    X:200        Y:6        Z:100
  GeometryContactPoint =    X:225        Y:10        Z:0 Grab
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------

Object MordorBlackGateRight

    SelectPortrait = BPMBlackgate
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
        Model = MBBlackGtR
    End
    WallBoundsMesh = P04
    
    AnimationState = USER_1 ;openning
        Animation
            AnimationName    = MBBlackGtR.MBBlackGtR
            AnimationMode   = ONCE_BACKWARDS
        End
        Flags = START_FRAME_LAST
    End
    AnimationState = USER_2 ;standing closed
        Animation
            AnimationName    = MBBlackGtR.MBBlackGtR
            AnimationMode   = ONCE 
        End
        Flags = START_FRAME_LAST
    End
    
  End
  

    
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBlackGate
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
 

  ; *** AUDIO Parameters ***
 
    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE WALK_ON_TOP_OF_WALL CHUNK_VENDOR IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE SELECTABLE MADE_OF_METAL 
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End
 
  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
    
    GrabObject = EntThrownBuildingRock
    GrabFX = FX_WallGrab
    GrabDamage = 490
    GrabOffset = X:16 Y:0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
      Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
        StartsActive    = Yes ;If no, requires upgrade to turn on.
        BonusName        = WallBonus
        RefreshDelay    = 2000
        ;Range            = 120        ; Range is overridden to affect people on us since we are a wall
        ;TargetEnemy        = Yes    ; Alliances are ignored to affect people on us since we are a wall
    End    

  Geometry              = BOX
  GeometryMajorRadius   = 130.0
  GeometryMinorRadius   = 50.0
  GeometryHeight        = 115.0
  GeometryOffset        = X:150 Y:-100 Z:0

  
  GeometryContactPoint =    X:0            Y:-38        Z:0 Grab
  GeometryContactPoint =    X:50        Y:-37        Z:100
  GeometryContactPoint =    X:75        Y:-47        Z:0 Grab
  GeometryContactPoint =    X:100        Y:-42        Z:100
  GeometryContactPoint =    X:125        Y:-53        Z:0 Grab
  GeometryContactPoint =    X:150        Y:-49        Z:100
  GeometryContactPoint =    X:175        Y:-58        Z:0 Grab
  GeometryContactPoint =    X:200        Y:-56        Z:100
  GeometryContactPoint =    X:225        Y:-66        Z:0 Grab
  
  GeometryContactPoint =    X:0            Y:26        Z:0 Grab
  GeometryContactPoint =    X:50        Y:16        Z:100
  GeometryContactPoint =    X:75        Y:18        Z:0 Grab
  GeometryContactPoint =    X:100        Y:8            Z:100
  GeometryContactPoint =    X:125        Y:10        Z:0 Grab
  GeometryContactPoint =    X:150        Y:1            Z:100
  GeometryContactPoint =    X:175        Y:4            Z:0 Grab
  GeometryContactPoint =    X:200        Y:-6        Z:100
  GeometryContactPoint =    X:225        Y:-10        Z:0 Grab
  
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object MBCastleFloor

  ; *** ART Parameters ***
  Draw = W3DFloorDraw ModuleTag_01
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
      ModelName = mbcastfloor_skn
      ForceToBack = Yes
  End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MBCastFloor
  Side = Mordor
  EditorSorting = STRUCTURE
; Browser = CINEMATICS UNIT

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE NO_COLLIDE UNATTACKABLE INERT 
  RadarPriority = NOT_ON_RADAR
  Body                  = ImmortalBody ModuleTag_03
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 1000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 0.8
  GeometryMinorRadius   = 0.8
  GeometryHeight        = 0.8
  GeometryIsSmall       = Yes
  ;GeometryRotationAnchorOffset = X:1037.871 Y:0
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object MBCampFloor

  ; *** ART Parameters ***
  Draw = W3DFloorDraw ModuleTag_01
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
      ModelName = MBCampFloor
      ForceToBack = Yes
  End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MBCampFloor
  Side = Mordor
  EditorSorting = STRUCTURE
; Browser = CINEMATICS UNIT

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE NO_COLLIDE UNATTACKABLE INERT 
  RadarPriority = NOT_ON_RADAR
  Body                  = ImmortalBody ModuleTag_03
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 1000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 0.8
  GeometryMinorRadius   = 0.8
  GeometryHeight        = 0.8
  GeometryIsSmall       = Yes
  ;GeometryRotationAnchorOffset = X:1037.871 Y:0
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------------------
;Mordor Base Foundation -- the area where faction mordor bases can be built
Object MordorBaseFoundation
 
  SelectPortrait = BPMCamp
 
  ; *** ART Parameters ***

  Draw                = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultModelConditionState
      Model           = GBFarmF
    End
  End
  
  PlacementViewAngle  = 0

 
    ; *** AUDIO Parameters ***

    VoiceSelect        = Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBaseFoundation
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 0
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY NO_COLLIDE DO_NOT_CLASSIFY
 
  Behavior            = FoundationAIUpdate ModuleTag_foundationAI
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 15000.0
  End
 
  Geometry              = BOX
  GeometryMajorRadius   = 51.2
  GeometryMinorRadius   = 49.6
  GeometryHeight        = 0.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
;MordorBase
Object MordorBase
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw                = W3DScriptedModelDraw ModuleTag_01

    ExtraPublicBone      = upgrade

    OkToChangeModelColor = Yes

    DefaultModelConditionState
      Model           = MUOrcBase
;     FXEvent = 1  FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;     FXEvent = 30 FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;     FXEvent = 50 FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
    End
  End
  
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBase
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 0
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
;  ArmorSet
;    Conditions        = None
;    Armor             = StructureArmor
;    DamageFX          = StructureDamageFXNoShake
;  End


; For Testing Purposes
  CommandSet = MordorBaseTestCommandSet

; *** AUDIO Parameters ***
;  VoiceSelect         = NuclearReactorSelect
;  SoundOnDamaged        = BuildingDamagedStateLight
;  SoundOnReallyDamaged  = BuildingDestroy
 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End
 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Behavior            = BaseUpgrade BaseUpgradeTag_01
    TriggeredBy       = Upgrade_TestBuilding
    BuildingTemplateName = MordorTent
    PlacementPrefix   = upgrade
    PlacementIndex    = 1
  End

  Behavior            = BaseUpgrade BaseUpgradeTag_02
    TriggeredBy       = Upgrade_TestBuilding_2
    BuildingTemplateName = MordorTent2
    PlacementPrefix   = upgrade
    PlacementIndex    = 5
  End

  Behavior = ProductionUpdate ProductionUpdateModuleTag
    ; nothing, but is required if we have any Object-level Upgrades!
  End

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End

;  Behavior           = CreateObjectDie ModuleTag_08
;    CreationList     = OCL_SmallStructureDebris
;  End
 
;  Behavior = ProductionUpdate ModuleTag_10
;    ; nothing, but is required if we have any Object-level Upgrades!
;  End
 
;  Behavior = FlammableUpdate ModuleTag_14
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 5       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End
 
;  Behavior = TransitionDamageFX ModuleTag_15
;    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
;    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ;---------------------------------------------------------------------------------------
;    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
;    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
;  End
 
;  Behavior             = FXListDie ModuleTag_16
;    DeathFX       = FX_BuildingDie
;  End
 
  Geometry              = BOX
  GeometryMajorRadius   = 45.6
  GeometryMinorRadius   = 37.6
  GeometryHeight        = 20.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End


;------------------------------------------------------------------------------
;Mordor Rhun Barracks
Object MordorBarracks

    SelectPortrait = BPMHaradrimPalace
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

;  Draw                = W3DModelDraw ModuleTag_01
;    OkToChangeModelColor = Yes
;
;    DefaultConditionState
;      Model           = RBBarracks
;;     FXEvent = 1  FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;;     FXEvent = 30 FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;;     FXEvent = 50 FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;    End
;  End


  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBBarracks
    End
  End

  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorBarracks
  Description           = OBJECT:MordorHaradrimPalaceDescription
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 0
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161

;  ArmorSet
;    Conditions        = None
;    Armor             = StructureArmor
;    DamageFX          = StructureDamageFXNoShake
;  End

  CommandSet = MordorRhunBarracksCommandSet
  BuildCost           = 500           ; BALANCE
  BuildTime           = 5.0           ; BALANCE


; *** AUDIO Parameters ***

    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone

    VoiceSelectUnderConstruction    = BuildingEvilVoiceSelectUnderConstruction

    UnitSpecificSounds
        UnderConstruction        = BuildingConstructionLoop  ; Built first time
        ; UnderRepairFromDamage    = NoSound                    ; Repaired No animation on the building, so don't bother playing sound
        UnderRepairFromRubble    = BuildingConstructionLoop    ; Repaired from completely destroyed (not used???)
    End
 

  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT MADE_OF_WOOD FACE_AWAY_FROM_CASTLE_KEEP

  Behavior = ProductionUpdate ProductionUpdateModuleTag
    ; nothing, but is required if we have any Object-level Upgrades!
  End
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
  
  Behavior = QueueProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X:0.0 Y:-20.0 Z:0.0
    NaturalRallyPoint = X:28.8 Y:-20.0 Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! 
    ExitDelay = 300 ; Mainly for the multiply produced.  Make them come out one at a time.
  End  

;  Behavior           = CreateObjectDie ModuleTag_08
;    CreationList     = OCL_SmallStructureDebris
;  End
 
;  Behavior = ProductionUpdate ModuleTag_10
;    ; nothing, but is required if we have any Object-level Upgrades!
;  End
 
;  Behavior = FlammableUpdate ModuleTag_14
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 5       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End
 
;  Behavior = TransitionDamageFX ModuleTag_15
;    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
;    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ;---------------------------------------------------------------------------------------
;    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
;    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
;  End
 
;  Behavior             = FXListDie ModuleTag_16
;    DeathFX       = FX_BuildingDie
;  End
 
  Geometry              = BOX
  GeometryMajorRadius   = 35.6
  GeometryMinorRadius   = 37.6
  GeometryHeight        = 37.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------

;Mordor Tent
Object MordorTent
 
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = No
    DefaultModelConditionState
    Model = MUOrctent
  End
    
    ModelConditionState  = DAMAGED
      Model         = MUOrctent_D
      ParticleSysBone emberBone01 SmokeBuildingLarge
    
    End
    AnimationState = DAMAGED
    EnteringStateFX    = FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MUOrctent_D
      ParticleSysBone emberBone01 SmokeBuildingLarge
    
    End
    AnimationState = REALLYDAMAGED
    EnteringStateFX    = FX_BuildingReallyDamaged
    End    
    
    ModelConditionState  = RUBBLE
      Model         = MUOrctent_D  
      ParticleSysBone emberBone01 CatapultDestroyDebris
      ParticleSysBone emberBone02 SmokeBuildingLarge
      ParticleSysBone emberBone03 PCTMediumDust
    End
    AnimationState = RUBBLE
    End

      ModelConditionState  = POST_RUBBLE
        Model         = None 
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End
    ModelConditionState  = POST_COLLAPSE
        Model         = None 
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

  End

  ; *** AUDIO Parameters ***
  
      SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:OrcTent
  EditorSorting = MISC_MAN_MADE

  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE MADE_OF_WOOD

  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = StructureCollapseUpdate ModuleTag_StructureCollapseUpdate 
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 4.8
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
End

;------------------------------------------------------------------------------

;Mordor Tent 2
Object MordorTent2
 
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = No
    DefaultModelConditionState
    Model = MUOrctent2
  End
    
    ModelConditionState  = DAMAGED
      Model         = MUOrctent2_D
      ParticleSysBone emberBone01 SmokeBuildingLarge
    
    End
    AnimationState = DAMAGED
    EnteringStateFX    = FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MUOrctent2_D
      ParticleSysBone emberBone01 SmokeBuildingLarge
    
    End
    AnimationState = REALLYDAMAGED
    EnteringStateFX    = FX_BuildingReallyDamaged
    End    
    
    ModelConditionState  = RUBBLE
      Model         = MUOrctent2_D  
      ParticleSysBone emberBone01 CatapultDestroyDebris
      ParticleSysBone emberBone02 SmokeBuildingLarge
      ParticleSysBone emberBone03 PCTMediumDust
    End
    AnimationState = RUBBLE
    End

      ModelConditionState  = POST_RUBBLE
        Model         = None 
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End
    ModelConditionState  = POST_COLLAPSE
        Model         = None 
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

  End

  ; *** AUDIO Parameters ***
    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone
    
  ; ***DESIGN parameters ***
  DisplayName = OBJECT:OrcTent
  EditorSorting = MISC_MAN_MADE

  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE MADE_OF_WOOD
  RadarPriority = STRUCTURE
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = StructureCollapseUpdate ModuleTag_StructureCollapseUpdate 
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 47.2
  GeometryHeight = 44.8
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
End
;------------------------------------------------------------------------------

Object MordorBase_DEMO

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    DefaultModelConditionState
      Model = MBBlkGate
    End
    
  End
  
  CommandSet = MordorBaseCommandSet
  BuildCost           = 500           ; BALANCE
  BuildTime           = 5.0           ; BALANCE

  ; *** AUDIO Parameters ***
  ; SoundAmbient = MordorBaseAmbientLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MordorBase
  Side = Mordor
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE MADE_OF_WOOD
  RadarPriority = STRUCTURE

  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 2100
  End

  Behavior = OCLSpecialPower ModuleTag_03
    SpecialPowerTemplate = SuperweaponRainOfFire
    OCL                  = SUPERWEAPON_RainOfFire
  End

  RemoveTerrainRadius = 105.0 ; Remove terrain around this structure for subterranean cracks effect. 
  
  Geometry              = BOX
  GeometryMajorRadius   = 8.0
  GeometryMinorRadius   = 8.0
  GeometryHeight        = 8.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
;Mordor Orc Fletcher
Object MordorOrcFletcher
 
  ; *** ART Parameters ***

;  Draw                = W3DModelDraw ModuleTag_01
;    OkToChangeModelColor = Yes
;
;    DefaultConditionState
;      Model           = RBBarracks
;;     FXEvent = 1  FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;;     FXEvent = 30 FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;;     FXEvent = 50 FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;    End
;  End


  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBBarracks
    End
  End

  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorOrcFletcher
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 0
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161

;  ArmorSet
;    Conditions        = None
;    Armor             = StructureArmor
;    DamageFX          = StructureDamageFXNoShake
;  End

 CommandSet = MordorOrcFletcherCommandSet
  BuildCost           = 500           ; BALANCE
  BuildTime           = 5.0           ; BALANCE


; *** AUDIO Parameters ***

    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone

 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End

 
  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MADE_OF_WOOD

  Behavior = ProductionUpdate ProductionUpdateModuleTag
    ; nothing, but is required if we have any Object-level Upgrades!
  End
 
  Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
    WorkerName          = MordorWorkerNoSelect
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
  
  Behavior = QueueProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X:0.0 Y:-20.0 Z:0.0
    NaturalRallyPoint = X:28.8 Y:-20.0 Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius!
    ExitDelay = 300 ; Mainly for the multiple produced. Make them come out one at a time.
  End  

;  Behavior           = CreateObjectDie ModuleTag_08
;    CreationList     = OCL_SmallStructureDebris
;  End
 
;  Behavior = ProductionUpdate ModuleTag_10
;    ; nothing, but is required if we have any Object-level Upgrades!
;  End
 
;  Behavior = FlammableUpdate ModuleTag_14
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 5       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End
 
;  Behavior = TransitionDamageFX ModuleTag_15
;    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
;    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ;---------------------------------------------------------------------------------------
;    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
;    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
;  End
 
;  Behavior             = FXListDie ModuleTag_16
;    DeathFX       = FX_BuildingDie
;  End
 
  Geometry              = BOX
  GeometryMajorRadius   = 35.6
  GeometryMinorRadius   = 37.6
  GeometryHeight        = 37.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
;Mordor King Palace
;Reskin of the HaradrimPalace (see above object). May need to modify some values if different from Haradrim.
Object MordorKingPalace

    SelectPortrait = BPMHaradrimPalace
 
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
        DefaultModelConditionState
            Model = MBKingPlc_SKN
        End
    
    IdleAnimationState
        StateName                    =   STATE_Idle
        Animation = IdleA
            AnimationName            =    MBKingPlc_SKL.MBKingPlc_IDLA
            AnimationMode        =    ONCE 
        End
        Animation = IdleB
            AnimationName            =    MBKingPlc_SKL.MBKingPlc_IDLB
            AnimationMode        =    ONCE 
        End
        Animation = IdleC
            AnimationName            =    MBKingPlc_SKL.MBKingPlc_IDLC
            AnimationMode        =    ONCE 
        End
        Flags               = RESTART_ANIM_WHEN_COMPLETE 
    End
    
 

    ;------------ New Build Up States coming soon. 
    ModelConditionState   = AWAITING_CONSTRUCTION 
      Model               = MBKingPlc_A
;        ParticleSysBone      = NONE BuildingDoughnutCloud
    End;
    AnimationState        = AWAITING_CONSTRUCTION
      Animation           =  MBKingPlc_A
        AnimationName     =  MBKingPlc_A.MBKingPlc_A
        AnimationMode     = MANUAL
        AnimationBlendTime = 0
      End
      Flags                  = START_FRAME_FIRST
      BeginScript
      ;    CurDrawablePlaySound("GondorBarracksBeginConstruction")
      EndScript
    End

    ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
      Model               = MBKingPlc_A
        ParticleSysBone   = CONSTDUSTBONE01 BuildingContructDust FollowBone:Yes
    End
    
    AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
        Animation           = MBKingPlc_A
            AnimationName     = MBKingPlc_A.MBKingPlc_A
            AnimationMode     = MANUAL
            AnimationBlendTime = 0
        End
        Flags                  = START_FRAME_FIRST
        StateName              = BeingConstructed
    End
    
    
        ;--damaged building
      ModelConditionState  = DESTROYED_FRONT
      Model         = MBKingPlc_D2  
        ParticleSysBone SmokeMedium01 FireBuildingSmall
        ParticleSysBone FireSmall01 FireBuildingMedium
         ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    AnimationState = DESTROYED_FRONT
      BeginScript
        CurDrawableHideSubObject("MBHRDPLCDP1")
      EndScript
    End
    
        ModelConditionState  = DESTROYED_RIGHT
      Model         = MBKingPlc_D2
        ParticleSysBone SmokeMedium01 FireBuildingSmall
        ParticleSysBone FireSmall01 FireBuildingMedium
         ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_RIGHT
      BeginScript
        CurDrawableHideSubObject("MBHRDPLCDP2")
      EndScript
    End
    

    ModelConditionState  = DESTROYED_BACK
      Model         = MBKingPlc_D2
        ParticleSysBone SmokeMedium01 FireBuildingSmall
        ParticleSysBone FireSmall01 FireBuildingMedium
         ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End

    AnimationState = DESTROYED_BACK
      BeginScript
        CurDrawableHideSubObject("MBHRDPLCDP3")
      EndScript
    End

    ModelConditionState  = DESTROYED_LEFT
      Model         = MBKingPlc_D2
        ParticleSysBone SmokeMedium01 FireBuildingSmall
        ParticleSysBone FireSmall01 FireBuildingMedium
         ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = DESTROYED_LEFT
      BeginScript
        CurDrawableHideSubObject("MBHRDPLCDP4")
      EndScript
    End
    
    
    ModelConditionState  = DAMAGED
      Model         = MBKingPlc_D1  
    
    End
    AnimationState = DAMAGED
     EnteringStateFX    = FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBKingPlc_D2  
        ParticleSysBone SmokeMedium01 FireBuildingSmall
        ParticleSysBone FireSmall01 FireBuildingMedium
         ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    AnimationState = REALLYDAMAGED
    EnteringStateFX    = FX_BuildingDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = MBKingPlc_D2  
      ParticleSysBone SmokeLarge01 SmokeBuildingLarge
    End
    
    AnimationState = RUBBLE
      BeginScript
        CurDrawableHideSubObject("MBHRDPLCDP1")
        CurDrawableHideSubObject("MBHRDPLCDP2")
        CurDrawableHideSubObject("MBHRDPLCDP3")
        CurDrawableHideSubObject("MBHRDPLCDP4")
      EndScript
    End

    ModelConditionState  = POST_RUBBLE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End
    
  End

    Draw = W3DFloorDraw DrawFloorBib    
        StaticModelLODMode = Yes        ; THIS NEEDS TO BE COMMENTED OUT WHEN ENGINEERING ENABLES LOD'S IN THE FLOOR DRAW
        ModelName = MBKingPlc_Bib
    End
    
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorHaradrimPalace
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = M_MORDOR_HARADRIMPALACE_BUILDCOST
  BuildTime           = M_MORDOR_HARADRIMPALACE_BUILDTIME
  VisionRange         = M_MORDOR_HARADRIMPALACE_VISION_RANGE
  ShroudClearingRange = M_MORDOR_HARADRIMPALACE_SHROUD_CLEAR
  BountyValue         = M_MORDOR_HARADRIMPALACE_BOUNTY_VALUE

  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    ;DamageFX          = StructureDamageFXNoShake
  End

  CommandSet = MordorHaradrimPalaceCommandSet


  ; *** AUDIO Parameters ***

    VoiceSelect        = MordorHaradrimPalaceSelect

    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone

    VoiceSelectUnderConstruction    = BuildingEvilVoiceSelectUnderConstruction

    UnitSpecificSounds
        UnderConstruction        = BuildingConstructionLoop  ; Built first time
        ; UnderRepairFromDamage    = NoSound                    ; Repaired No animation on the building, so don't bother playing sound
        UnderRepairFromRubble    = BuildingConstructionLoop    ; Repaired from completely destroyed (not used???)
    End

 
  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY MADE_OF_WOOD FACE_AWAY_FROM_CASTLE_KEEP

  Behavior = ProductionUpdate ProductionUpdateModuleTag
    ; nothing, but is required if we have any Object-level Upgrades!
  End
 
  Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
    WorkerName          = MordorWorkerNoSelect
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 


  Body                        = ActiveBody ModuleTag_05
    MaxHealth                      = M_MORDOR_HARADRIMPALACE_HEALTH
    MaxHealthDamaged          = M_MORDOR_HARADRIMPALACE_HEALTH_DAMAGED
    MaxHealthReallyDamaged    = M_MORDOR_HARADRIMPALACE_HEALTH_REALLY_DAMAGED
    DamageCreationList        = OCL_BuildingDamageList01 CATAPULT_ROCK
  
    DamageCreationList        = OCL_MBHardPalace_Chunk1 CATAPULT_ROCK FRONT_DESTROYED
    DamageCreationList        = OCL_MBHardPalace_Chunk2 CATAPULT_ROCK RIGHT_DESTROYED
    DamageCreationList        = OCL_MBHardPalace_Chunk3 CATAPULT_ROCK BACK_DESTROYED
    DamageCreationList        = OCL_MBHardPalace_Chunk4 CATAPULT_ROCK LEFT_DESTROYED
  End
 

  
    Behavior                  = StructureCollapseUpdate ModuleTag_StructureCollapseUpdate 
        MinCollapseDelay        = 000
        MaxCollapseDelay        = 000
        CollapseDamping         = .5
        MaxShudder              = 0.6
        MinBurstDelay           = 250
        MaxBurstDelay           = 800
        BigBurstFrequency       = 4
        FXList                  = INITIAL   FX_StructureMediumCollapse
        FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
        DestroyObjectWhenDone    = Yes
        CollapseHeight            = 89
    End

  Behavior = QueueProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X:0.0 Y:0.0 Z:0.0
    NaturalRallyPoint = X:64.0 Y:0.0 Z:0.0    ;NaturalRallyPointX must always match GeometryMajorRadius!
    ExitDelay = 300 ; Mainly for the multiple produced. Make them come out one at a time.
  End  

;  Behavior           = CreateObjectDie ModuleTag_08
;    CreationList     = OCL_SmallStructureDebris
;  End
 
;  Behavior = ProductionUpdate ModuleTag_10
;    ; nothing, but is required if we have any Object-level Upgrades!
;  End
 
;  Behavior = FlammableUpdate ModuleTag_14
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 5       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End
 
;  Behavior = TransitionDamageFX ModuleTag_15
;    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
;    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ;---------------------------------------------------------------------------------------
;    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
;    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
;  End
 
;  Behavior             = FXListDie ModuleTag_16
;    DeathFX       = FX_BuildingDie
;  End
 
  Geometry    = CYLINDER
  GeometryMajorRadius   = 49.4
  GeometryMinorRadius   = 0
  GeometryHeight        = 41.4
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius   = 16.4
  GeometryMinorRadius   = 15.6
  GeometryHeight        = 72.4
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
;Mordor Umbar Tavern
Object MordorUmbarTavern
 
  ; *** ART Parameters ***

;  Draw                = W3DModelDraw ModuleTag_01
;    OkToChangeModelColor = Yes
;
;    DefaultConditionState
;      Model           = RBBarracks
;;     FXEvent = 1  FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;;     FXEvent = 30 FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;;     FXEvent = 50 FX_TrebuchetImpactHit ; sample of method to fire FXList at desired animation frames
;    End
;  End


  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = RBBarracks
    End
  End

  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorTavern
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 0
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161

;  ArmorSet
;    Conditions        = None
;    Armor             = StructureArmor
;    DamageFX          = StructureDamageFXNoShake
;  End

; For Testing Purposes
  CommandSet = MordorUmberTavernCommandSet
  BuildCost           = 500           ; BALANCE
  BuildTime           = 5.0           ; BALANCE


  ; *** AUDIO Parameters ***

    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone

 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End

 
  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT MADE_OF_WOOD

  Behavior = ProductionUpdate ProductionUpdateModuleTag
    ; nothing, but is required if we have any Object-level Upgrades!
  End
 
  Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
    WorkerName          = MordorWorkerNoSelect
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
  
  Behavior = QueueProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X:0.0 Y:-20.0 Z:0.0
    NaturalRallyPoint = X:28.8 Y:-20.0 Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! 
    ExitDelay = 300 ; Mainly for the multiple produced. Make them come out one at a time.
  End  

;  Behavior           = CreateObjectDie ModuleTag_08
;    CreationList     = OCL_SmallStructureDebris
;  End
 
;  Behavior = ProductionUpdate ModuleTag_10
;    ; nothing, but is required if we have any Object-level Upgrades!
;  End
 
;  Behavior = FlammableUpdate ModuleTag_14
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 5       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End
 
;  Behavior = TransitionDamageFX ModuleTag_15
;    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
;    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ;---------------------------------------------------------------------------------------
;    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
;    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
;  End
 
;  Behavior             = FXListDie ModuleTag_16
;    DeathFX       = FX_BuildingDie
;  End
 
  Geometry              = BOX
  GeometryMajorRadius   = 35.6
  GeometryMinorRadius   = 37.6
  GeometryHeight        = 37.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object MordorEyeOfSauron
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBTheEye
    End
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MordorEyeOfSauron
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP 
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End

  Geometry              = CYLINDER
  GeometryMajorRadius   = 15.6
  GeometryMinorRadius   = 0
  GeometryHeight        = 111.2
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;
;  Isengard
;
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

;------------------------------------------------------------------------------
Object IBCastleFloor

  ; *** ART Parameters ***
  Draw = W3DFloorDraw ModuleTag_01
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
      ModelName = ibcastfloor_skn ;IBCastFloor
        ForceToBack = Yes
  End


    Draw = W3DScriptedModelDraw ModuleTag_Draw2
        DefaultModelConditionState
            Model = OBBFoundationX
        End
        ModelConditionState = WORLD_BUILDER
              Model = IBSizeTemplate
          End
        
    End


    ; *** AUDIO Parameters ***

    VoiceSelect        = Gui_PlotSelect


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:IBCastFloor
  Side = Isengard
  EditorSorting = STRUCTURE
; Browser = CINEMATICS UNIT

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE NO_COLLIDE UNATTACKABLE INERT 
  RadarPriority = NOT_ON_RADAR
  Body                  = ImmortalBody ModuleTag_03
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 1000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 0.8
  GeometryMinorRadius   = 0.8
  GeometryHeight        = 0.8
  GeometryIsSmall       = Yes
  ;GeometryRotationAnchorOffset = X:1037.871 Y:0
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------


Object IBCampFloor

  ; *** ART Parameters ***
  Draw = W3DFloorDraw ModuleTag_01
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
      ModelName = IBCampFloor
        ForceToBack = Yes
  End
  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:IBCampFloor
  Side = Isengard
  EditorSorting = STRUCTURE
; Browser = CINEMATICS UNIT

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE IMMOBILE NO_COLLIDE UNATTACKABLE INERT 
  RadarPriority = NOT_ON_RADAR
  Body                  = ImmortalBody ModuleTag_03
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 1000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 0.8
  GeometryMinorRadius   = 0.8
  GeometryHeight        = 0.8
  GeometryIsSmall       = Yes
  ;GeometryRotationAnchorOffset = X:1037.871 Y:0
  Shadow                = SHADOW_VOLUME
End
;------------------------------------------------------------------------------
 
;Isengard Tent
Object IsengardTent
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day
 
  Draw                = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
 
    DefaultModelConditionState
      Model           = IBTent
    End
  End
  
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:IsengardTent
  Side                = Isengard
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 0
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
;  ArmorSet
;    Conditions        = None
;    Armor             = StructureArmor
;    DamageFX          = StructureDamageFXNoShake
;  End
;  CommandSet          = IsengardTentCommandSet
 

  ; *** AUDIO Parameters ***
;  VoiceSelect         = NuclearReactorSelect
;  SoundOnDamaged        = BuildingDamagedStateLight
;  SoundOnReallyDamaged  = BuildingDestroy
 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE MADE_OF_WOOD
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End
 
   Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
    Behavior = UpgradeDie  UpgradeDieModuleTag
        ;This frees the object based upgrade for the producer object.
        DeathTypes = ALL
        UpgradeToRemove     = Upgrade_TestBuilding BaseUpgradeTag_01
    End
 
;  Behavior           = CreateObjectDie ModuleTag_08
;    CreationList     = OCL_SmallStructureDebris
;  End
 
;  Behavior = ProductionUpdate ModuleTag_10
;    ; nothing, but is required if we have any Object-level Upgrades!
;  End
 
;  Behavior = FlammableUpdate ModuleTag_14
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 5       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End
 
;  Behavior = TransitionDamageFX ModuleTag_15
;    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
;    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ;---------------------------------------------------------------------------------------
;    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
;    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
;  End
 
;  Behavior             = FXListDie ModuleTag_16
;    DeathFX       = FX_BuildingDie
;  End
 
 
  Geometry              = BOX
  GeometryMajorRadius   = 33.6
  GeometryMinorRadius   = 37.0
  GeometryHeight        = 31.8
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End
 
;------------------------------------------------------------------------------
;Isengard Tent2
Object IsengardTent2
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day
 
  Draw                = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
 
    DefaultModelConditionState
      Model           = IBTent2
    End
  End
  
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:IsengardTent2
  Side                = Isengard       
  EditorSorting          = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 0
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
;  ArmorSet
;    Conditions        = None
;    Armor             = StructureArmor
;    DamageFX          = StructureDamageFXNoShake
;  End
;  CommandSet          = IsengardTentCommandSet
 
 
  ; *** AUDIO Parameters ***
;  VoiceSelect         = NuclearReactorSelect
;  SoundOnDamaged        = BuildingDamagedStateLight
;  SoundOnReallyDamaged  = BuildingDestroy
 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End
 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE MADE_OF_WOOD
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End
 
  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End
 
  Behavior = UpgradeDie  UpgradeDieModuleTag
    ;This frees the object based upgrade for the producer object.
    DeathTypes = ALL
    UpgradeToRemove     = Upgrade_TestBuilding_2 BaseUpgradeTag_02
  End
 
;  Behavior           = CreateObjectDie ModuleTag_08
;    CreationList     = OCL_SmallStructureDebris
;  End
 
;  Behavior = ProductionUpdate ModuleTag_10
;    ; nothing, but is required if we have any Object-level Upgrades!
;  End
 
;  Behavior = FlammableUpdate ModuleTag_14
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 5       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End
 
;  Behavior = TransitionDamageFX ModuleTag_15
;    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
;    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ;---------------------------------------------------------------------------------------
;    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
;    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
;  End
 
;  Behavior             = FXListDie ModuleTag_16
;    DeathFX       = FX_BuildingDie
;  End
 
  Geometry              = CYLINDER
  GeometryMajorRadius   = 50.0
  GeometryMinorRadius   = 0
  GeometryHeight        = 31.0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object IsengardWargSentry
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = IBWargSnty
    End
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:IsengardWargSentry
  Side                = Isengard
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 600
  BuildTime           = 15.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    ;DamageFX          = StructureDamageFXNoShake
  End


  ; *** AUDIO Parameters ***


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP MADE_OF_WOOD
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
    BeingBuiltSound = BuildingConstructionLoop
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth               = 1500.0
    MaxHealthDamaged        = 1000.0
      MaxHealthReallyDamaged  = 500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End

  Geometry              = CYLINDER
  GeometryMajorRadius   = 37.6
  GeometryMinorRadius   = 0
  GeometryHeight        = 31.2
  GeometryOffset        = X:10 Y:0 Z:0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End
;------------------------------------------------------------------------------
Object IsengardTowerOfOrthanc

SelectPortrait = BPIOrthancTower
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = IBTwrOrthanc
    End
  End
 
    ; ***DESIGN parameters ***
    DisplayName         = OBJECT:IsengardOrthanc
    Side                = Isengard
    EditorSorting       = STRUCTURE
    ThreatLevel            = 1.0
    CommandSet            = GenericKeepCommandSet
    BuildCost           = 1
    BuildTime           = 5.0           ; in seconds
    VisionRange         = 160.0          ; Shroud clearing distance
    ShroudClearingRange = 161


  ; *** AUDIO Parameters ***

    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = VITAL_FOR_BASE_SURVIVAL PRELOAD STRUCTURE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE FS_FACTORY AUTO_RALLYPOINT SELECTABLE MADE_OF_METAL
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
    BeingBuiltSound = BuildingConstructionLoop
  End 

      ;-----------------------------------------------
    ;Used for hero revival and initial construction     
    Behavior = ProductionUpdate ProductionUpdateModuleTag
        ; nothing, but is required if we have any Object-level Upgrades!
    End
    Behavior = QueueProductionExitUpdate ModuleTag_QueuePEU
        UnitCreatePoint   = X:0.0 Y:-20.0 Z:0.0
        NaturalRallyPoint = X:28.8 Y:-80.0 Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! 
        ExitDelay = 300 ;Handles delays between units if multiple produced at a time. (like Generals Redguard coming out 2 at a time)
    End  
    ;-----------------------------------------------

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End

  Geometry              = CYLINDER
  GeometryMajorRadius   = 42.6
  GeometryMinorRadius   = 0
  GeometryHeight        = 65.2
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 22.6
  GeometryMinorRadius   = 0
  GeometryHeight        = 265.2
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion       = PLACED_BY_PLAYER
  
  HealthBoxScale        = 2.5
  HealthBoxHeightOffset    = -160.0
End

;------------------------------------------------------------------------------
;----------------------------------------------------------------------------------------------------
ChildObject MPOrthanc IsengardTowerOfOrthanc
KindOf              =  PRELOAD STRUCTURE IMMOBILE NOT_AUTOACQUIRABLE 
End
;----------------------------------------------------------------------------------------------------
Object IsengardTowerOfOrthancMPSA

    SelectPortrait = BPIOrthancTower
  
  
    SelectPortrait = BPIOrthancTower
        ButtonImage            = BIWatchTower
   ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState  
      Model = IB_Orthanc
    End


;------------Build Up States
    ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
      Model               = IB_Orthanc_A
;      ParticleSysBone      = NONE BuildingDoughnutCloud
      ParticleSysBone     = NONE BuildingContructDust
    End  

    AnimationState          = ACTIVELY_BEING_CONSTRUCTED
        Animation
            AnimationName    = IB_Orthanc_A.IB_Orthanc_A
            AnimationMode   = MANUAL
        End
        BeginScript
;            CurDrawableHideSubObject("FIRE02")
        EndScript
    End

;------------Build Up States
    ModelConditionState   = BASE_BUILD
      Model               = IB_Orthanc_A
;      ParticleSysBone      = NONE BuildingDoughnutCloud
      ParticleSysBone     = NONE BuildingContructDust
    End  

    AnimationState          = BASE_BUILD
        Animation
            AnimationName = IB_Orthanc_A.IB_Orthanc_A
            AnimationMode = ONCE
            AnimationBlendTime = 0            
            AnimationSpeedFactorRange = 2.0 2.0 ; 300 frame anim, but need to shrink down to 5 seconds
        End
        BeginScript
;            CurDrawableHideSubObject("FIRE02")
        EndScript
    End

    AnimationState          = JUST_BUILT
        Animation
            AnimationName = IB_Orthanc_A.IB_Orthanc_A
            AnimationMode = MANUAL            
            AnimationBlendTime = 0
        End
        Flags = START_FRAME_FIRST
        BeginScript
;            CurDrawableHideSubObject("FIRE02")
        EndScript
    End
    
    ModelConditionState  = DAMAGED
      Model         = IB_Orthanc_D1  
    End
    
    AnimationState = DAMAGED
     EnteringStateFX    = FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = IB_Orthanc_D2
;      ParticleSysBone NONE furnaceSmoke
    End
    AnimationState = REALLYDAMAGED
           Animation                =    ReallyDamagedanimation
            AnimationName        =     IB_Orthanc_D2.IB_Orthanc_D2
            AnimationMode        =    ONCE
           End
         EnteringStateFX    = FX_BuildingReallyDamaged
    End

    ModelConditionState  = RUBBLE
      Model         = IB_Orthanc_D3
      ParticleSysBone FXbone01 BaradDurDust01 FollowBone:yes
      ParticleSysBone FXbone02 BaradDurDust01 FollowBone:yes
      ParticleSysBone NONE ExplosiveMineSmoke02
    End
    
    AnimationState = RUBBLE
        Animation                =    Death
            AnimationName        =    IB_Orthanc_D3.IB_Orthanc_D3
            AnimationMode        =    ONCE
        End
;        EnteringStateFX = FX_RohanWallRubble
    End      

    ModelConditionState  = POST_RUBBLE
        Model         = None
    End

    ModelConditionState  = POST_COLLAPSE
         Model         = None
    End
    

  End
 
    ; ***DESIGN parameters ***
    DisplayName         = OBJECT:IsengardOrthanc
    Side                = Isengard
    EditorSorting       = STRUCTURE
    ThreatLevel            = 1.0
    CommandSet            = GenericKeepCommandSet
    BuildCost           = 1
    BuildTime           = 15.0           ; in seconds
    VisionRange         = 160.0          ; Shroud clearing distance
    ShroudClearingRange = 161


  ; *** AUDIO Parameters ***

    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone


  ; *** ENGINEERING Parameters ***

  RadarPriority       = STRUCTURE
  KindOf              = VITAL_FOR_BASE_SURVIVAL PRELOAD STRUCTURE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE FS_FACTORY AUTO_RALLYPOINT SELECTABLE MADE_OF_METAL
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
    BeingBuiltSound = BuildingConstructionLoop
  End 

      ;-----------------------------------------------
    ;Used for hero revival and initial construction     
    Behavior = ProductionUpdate ProductionUpdateModuleTag
        ; nothing, but is required if we have any Object-level Upgrades!
    End
    Behavior = QueueProductionExitUpdate ModuleTag_QueuePEU
        UnitCreatePoint   = X:0.0 Y:-20.0 Z:0.0
        NaturalRallyPoint = X:28.8 Y:-80.0 Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! 
        ExitDelay = 300 ;Handles delays between units if multiple produced at a time. (like Generals Redguard coming out 2 at a time)
    End  
    ;-----------------------------------------------

  Body                = ActiveBody ModuleTag_05
    MaxHealth         = 2500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End

  Geometry              = CYLINDER
  GeometryMajorRadius   = 42.6
  GeometryMinorRadius   = 0
  GeometryHeight        = 65.2
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 22.6
  GeometryMinorRadius   = 0
  GeometryHeight        = 265.2
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End


ChildObject IsengardTowerOfOrthancMPSB IsengardTowerOfOrthancMPSA
    Body  = SymbioticStructuresBody ModuleTag_SymbioticBody
        Symbiote = KeepLeft
    End
End

;------------------------------------------------------------------------------------------
Object IsengardOrthancDoor

SelectPortrait = BPRHelmsDeep

  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState  
      Model = IBGATEDR
    End


    ModelConditionState  = RUBBLE DOOR_1_OPENING
      Model         = IBGATEDR_D4  
    End
    AnimationState = RUBBLE DOOR_1_OPENING
        Animation = Open 
            AnimationName    =    IBGATEDR_D4.IBGATEDR_D4
            AnimationMode    =    ONCE 
        End
    End
       
      ModelConditionState  = RUBBLE
      Model         = IBGATEDR_D3 
      ParticleSysBone NONE CatapultDestroyDebris
      ParticleSysBone NONE PCTMediumDust 
    End
     AnimationState = RUBBLE 
        Animation = Open 
            AnimationName    =    IBGATEDR_D3.IBGATEDR_D3
            AnimationMode    =    ONCE 
        End
    End
    
    AnimationState = DOOR_1_OPENING
        StateName = STATE_Open   
        Animation = Open 
            AnimationName    =    IBGATEDR.IBGATEDR
            AnimationMode    =    ONCE 
            AnimationBlendTime = 0
        End
        Flags = START_FRAME_LAST
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Closed" then CurDrawableSetTransitionAnimState("TRANS_Closed_To_Open") end
        EndScript
    End
    TransitionState = TRANS_Closed_To_Open
        Animation = Open 
            AnimationName    =    IBGATEDR.IBGATEDR
            AnimationMode    =    ONCE 
        End
    End
        
    AnimationState = DOOR_1_CLOSING 
        StateName = STATE_Closed 
        Animation = Close 
            AnimationName    =    IBGATEDR.IBGATEDR
            AnimationMode    =    ONCE_BACKWARDS 
            AnimationBlendTime = 0
        End
        Flags = START_FRAME_FIRST
        BeginScript
            
            Prev = CurDrawablePrevAnimationState()
            if Prev == "STATE_Open" then CurDrawableSetTransitionAnimState("TRANS_Open_To_Closed") end
        EndScript
    End
    TransitionState = TRANS_Open_To_Closed
        Animation = Open 
            AnimationName    =    IBGATEDR.IBGATEDR
            AnimationMode    =    ONCE_BACKWARDS 
        End
        Flags = START_FRAME_LAST
    End

  End


  ; *** AUDIO Parameters ***

    VoiceSelect        = GateSelect


  ; ***DESIGN parameters ***

  DisplayName      = OBJECT:IsengardOrthancDoor
  Side = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0

  VisionRange         = 400.0          ; Shroud clearing distance

  ArmorSet
    Conditions        = None
    Armor             = CastleGateArmor
    DamageFX          = GateDamageFX
  End

    CommandSet = CastleGateCommandSet


    ; *** ENGINEERING Parameters ***  
    KindOf                = STRUCTURE IMMOBILE SELECTABLE BLOCKING_GATE MADE_OF_WOOD
    RadarPriority = STRUCTURE
    Body                  = ActiveBody ModuleTag_02
        MaxHealth       = 3000.0
    End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: MinisTirithGateDie Animation:GBMgatedoorSKL.GBMgatedoorA3 Frames: 1 
    End

    Behavior = TransitionDamageFX ModleTag_hideBustedDoors
        PristineShowSubObject        IBGATEDOORL IBGATEDOORR
        PristineHideSubObject        IBGATEDOORR_D1 IBGATEDOORR_D2 IBGATEDOORL_D1 IBGATEDOORL_D2
        DamagedShowSubObject        IBGATEDOORR_D1 IBGATEDOORL_D1
        DamagedHideSubObject        IBGATEDOORR_D2 IBGATEDOORL_D2 IBGATEDOORR IBGATEDOORL
        ReallyDamagedShowSubObject    IBGATEDOORR_D2 IBGATEDOORL_D2
        ReallyDamagedHideSubObject  IBGATEDOORR_D1  IBGATEDOORL_D1 IBGATEDOORR IBGATEDOORL
        DamagedFXList1 = Loc: X:0 Y:0 Z:0            FXList:FX_BasicSevereScreenShake
         ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0        FXList:FX_BasicSevereScreenShake
         RubbleFXList1 = Loc: X:0 Y:0 Z:0            FXList:FX_HelmsDeepGateRubble
    End

    Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
        ResetTimeInMilliseconds = 12200 ; important! this must be longer than the gates animation, ir it will twitch
        OpenByDefault = Yes
        PercentOpenForPathing = 50
        Proxy = IsengardOrthancDoorProxy
        SoundOpeningGateLoop = GateOpenStart
        SoundClosingGateLoop = GateCloseStart
        SoundFinishedOpeningGate = GateOpenEnd
        SoundFinishedClosingGate = GateCloseEnd
        TimeBeforePlayingOpenSound = 9500
        TimeBeforePlayingClosedSound = 9500
    End

    Geometry              = BOX
    GeometryMajorRadius   = 16.0
    GeometryMinorRadius   = 65.0
    GeometryHeight        = 56.0
    GeometryName          = Closed
    GeometryIsSmall       = No
    
    
    AdditionalGeometry    = BOX
    GeometryMajorRadius   = 20.0
    GeometryMinorRadius   = 7.0
    GeometryHeight        = 56.0    
    GeometryOffset          = X:14 Y:58 Z:0
    GeometryName          = OpenLeft
    
    AdditionalGeometry    = BOX
    GeometryMajorRadius   = 20.0
    GeometryMinorRadius   = 7.0
    GeometryHeight        = 56.0    
    GeometryOffset          = X:14 Y:-58 Z:0
    GeometryName          = OpenRight
    
    GeometryContactPoint    =    X:28    Y:-58    Z:0 Ram
    GeometryContactPoint    =    X:14    Y:-58    Z:56
    GeometryContactPoint    =    X:0        Y:-58   Z:0
    GeometryContactPoint    =    X:0        Y:-28   Z:56
    GeometryContactPoint    =    X:0        Y:0        Z:0 Ram
    GeometryContactPoint    =    X:0        Y:28    Z:56
    GeometryContactPoint    =    X:0        Y:58    Z:0
    GeometryContactPoint    =    X:14    Y:58    Z:56
    GeometryContactPoint    =    X:28    Y:58    Z:0 Ram
    
    Shadow                = SHADOW_VOLUME
End


ChildObject IsengardOrthancDoorProxy IsengardOrthancDoor
    Behavior = GateProxyBehavior ModuleTag_GateProxy
    End
    Body = SymbioticStructuresBody ModuleTag_SymbioticBody
        Symbiote = KeepLeft
    End
End


;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;
;  Temp and Testing
;
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

;---------------------------------------------------------------------------
;Mordor Fire Object
Object MordorFire

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = MBfireStretch
     
  ;embers and smoke particle elements
      ;;ParticleSysBone = emberBone fireFlare
      ;;ParticleSysBone = fireBone VolcanoSmoke
      ParticleSysBone = emberBone VolcanoEmbers
      ;;ParticleSysBone = emberBone fireGlow
      ParticleSysBone = fireBone SmokeRed
    End
  End

  ; *** AUDIO Parameters ***
    SoundAmbient = Campfire1AmbientLoop

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Fire
  Side            = Mordor
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End
;------------------------------------------------------------------
;Mordor AshFall
Object MordorAshFall

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = MBAshFall
  End
End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Ashfall
  Side            = Mordor
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End
;--------------------------------------------------------------------------
;Mordor Mount Doom
Object MordorMountDoom

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = MBMdoom
    End
  End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:MountDoom
  Side            = Mordor
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 99999.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End


;------------------------------------------------------------------------------
Object MordorCampCentralTent
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = GBWTower
    End
  End
 
    ; ***DESIGN parameters ***
    DisplayName         = OBJECT:GondorWhiteTower
    Side                = Mordor
    EditorSorting       = STRUCTURE
    ThreatLevel = 1.0
    CommandSet            = GenericKeepCommandSet
 
    BuildCost           = 1
    BuildTime           = 5.0           ; in seconds
    VisionRange         = 160.0          ; Shroud clearing distance
    ShroudClearingRange = 161

    ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP FS_FACTORY AUTO_RALLYPOINT  MADE_OF_WOOD
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
    BeingBuiltSound = BuildingConstructionLoop
  End 

      ;-----------------------------------------------
    ;Used for hero revival and initial construction     
    Behavior = ProductionUpdate ProductionUpdateModuleTag
        ; nothing, but is required if we have any Object-level Upgrades!
    End
    Behavior = QueueProductionExitUpdate ModuleTag_QueuePEU
        UnitCreatePoint   = X:0.0 Y:-20.0 Z:0.0
        NaturalRallyPoint = X:28.8 Y:-80.0 Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! 
        ExitDelay = 300 ;Handles delays between units if multiple produced at a time. (like Generals Redguard coming out 2 at a time)
    End  
    ;-----------------------------------------------

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End

  Geometry              = BOX
  GeometryMajorRadius   = 32.2
  GeometryMinorRadius   = 32.2
  GeometryHeight        = 45.2
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 24.6
  GeometryMinorRadius   = 0
  GeometryHeight        = 104.2
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 12.6
  GeometryMinorRadius   = 0
  GeometryHeight        = 194.2
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End


;------------------------------------------------------------------------------
Object IsengardCampCentralTent
  
  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = GBWTower
    End
  End
 
    ; ***DESIGN parameters ***
    DisplayName         = OBJECT:GondorWhiteTower
    Side                = Isengard
    EditorSorting       = STRUCTURE
    ThreatLevel = 1.0
     CommandSet            = GenericKeepCommandSet

    BuildCost           = 1
    BuildTime           = 5.0           ; in seconds
    VisionRange         = 160.0          ; Shroud clearing distance
    ShroudClearingRange = 161

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD
 
  Behavior            = GettingBuiltBehavior ModuleTag_04
    SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
    BeingBuiltSound = BuildingConstructionLoop
  End 

      ;-----------------------------------------------
    ;Used for hero revival and initial construction     
    Behavior = ProductionUpdate ProductionUpdateModuleTag
        ; nothing, but is required if we have any Object-level Upgrades!
    End
    Behavior = QueueProductionExitUpdate ModuleTag_QueuePEU
        UnitCreatePoint   = X:0.0 Y:-20.0 Z:0.0
        NaturalRallyPoint = X:28.8 Y:-80.0 Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! 
        ExitDelay = 300 ;Handles delays between units if multiple produced at a time. (like Generals Redguard coming out 2 at a time)
    End  
    ;-----------------------------------------------

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End
 
  Behavior            = DestroyDie ModuleTag_07
    ;nothing
  End

  Geometry              = BOX
  GeometryMajorRadius   = 32.2
  GeometryMinorRadius   = 32.2
  GeometryHeight        = 45.2
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 24.6
  GeometryMinorRadius   = 0
  GeometryHeight        = 104.2
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 12.6
  GeometryMinorRadius   = 0
  GeometryHeight        = 194.2
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object IsengardScaffolding01

    ; *** ART Parameters ***
    Draw = W3DScriptedModelDraw ModuleTag_01
        DefaultModelConditionState
        Model = IUScaff01
        End
        
        IdleAnimationState
        Animation           = IUScaff01
            AnimationName     = IUScaff01.IUScaff01
            AnimationMode     = LOOP
        End
        End
    
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff01  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff01
        End
            AnimationState = REALLYDAMAGED
                 EnteringStateFX    = FX_BuildingReallyDamaged
        End
 
        ModelConditionState  = COLLAPSING
            Model         = IUScaff01_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff01_D2.IUScaff01_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff01_D3  
        End    
    End


    ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
        AnimationSound = Sound: BuildingScaffoldShatterMedium        Animation: IUScaff01_D2.IUScaff01_D2    Frames: 14
        AnimationSound = Sound: BuildingScaffoldHeavyDamage        Animation: IUScaff01_D2.IUScaff01_D2     Frames: 45
    End


    ; ***DESIGN parameters ***
    DisplayName     = OBJECT:Scaffolding
    Side            = Isengard
    EditorSorting   = STRUCTURE
    ThreatLevel = 1.0

    ; *** ENGINEERING Parameters ***  
    KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
      StartsActive = Yes
      DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
      DeathWeapon = IsengardScaffoldLargeCollapseWeapon
      WeaponOffset = X:-40 Y:0 Z:0
    End

    Geometry                = BOX
    GeometryMajorRadius    = 32.4
    GeometryMinorRadius    = 15.4
    GeometryHeight        = 54.8
    GeometryOffset        = X:0 Y:0 Z:0
    
    GeometryIsSmall        = No
    Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object IsengardScaffolding02

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = IUScaff02
    End
    
    IdleAnimationState
      Animation           = IUScaff02
        AnimationName     = IUScaff02.IUScaff02
        AnimationMode     = LOOP
      End
    End
    
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff02  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff02
        End
        AnimationState = REALLYDAMAGED
                 EnteringStateFX    = FX_BuildingReallyDamaged
        End
    
        ModelConditionState  = COLLAPSING
            Model         = IUScaff02_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff02_D2.IUScaff02_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff02_D3  
        End  

  End


  ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        AnimationSound = Sound: BuildingScaffoldShatterLightQuick    Animation: IUScaff02_D2.IUScaff02_D2    Frames: 77
        AnimationSound = Sound: BuildingScaffoldStressFracture    Animation: IUScaff02_D2.IUScaff02_D2    Frames: 0
        AnimationSound = Sound: BuildingScaffoldHeavyDamage        Animation: IUScaff02_D2.IUScaff02_D2     Frames: 53
    End


  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Scaffolding
  Side            = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End
  
    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
        StartsActive = Yes
        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
        DeathWeapon = IsengardScaffoldSmallCollapseWeapon
        WeaponOffset = X:-40 Y:0 Z:0
    End

  
  Geometry                = BOX
  GeometryMajorRadius    = 27.0
  GeometryMinorRadius    = 15.4
  GeometryHeight        = 84.4
  GeometryOffset        = X:8.4 Y:0 Z:0
  
  GeometryIsSmall        = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object IsengardScaffolding03

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = IUScaff03
    End
    
    IdleAnimationState
      Animation           = IUScaff03
        AnimationName     = IUScaff03.IUScaff03
        AnimationMode     = LOOP
      End
    End
     
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff03  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff03
        End
        AnimationState = REALLYDAMAGED
                EnteringStateFX    = FX_BuildingReallyDamaged
        End
    
        ModelConditionState  = COLLAPSING
            Model         = IUScaff03_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff03_D2.IUScaff03_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff03_D3  
        End  

  End


  ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        AnimationSound = Sound: BuildingScaffoldShatterLightQuick    Animation: IUScaff03_D2.IUScaff03_D2    Frames: 86
        AnimationSound = Sound: BuildingScaffoldShatterMedium        Animation: IUScaff03_D2.IUScaff03_D2    Frames: 15
        AnimationSound = Sound: BuildingScaffoldStressFracture    Animation: IUScaff03_D2.IUScaff03_D2    Frames: 64
        AnimationSound = Sound: BuildingScaffoldHeavyDamage        Animation: IUScaff03_D2.IUScaff03_D2     Frames: 35
    End


  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Scaffolding
  Side            = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End
    
    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
        StartsActive = Yes
        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
        DeathWeapon = IsengardScaffoldLargeCollapseWeapon
        WeaponOffset = X:-40 Y:0 Z:0
    End

  Geometry                = BOX
  GeometryMajorRadius    = 14.4
  GeometryMinorRadius    = 14.4
  GeometryHeight        = 64.8
  GeometryOffset        = X:0 Y:0 Z:0
  
  GeometryIsSmall        = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object IsengardScaffolding04

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = IUScaff04
    End
    
    IdleAnimationState
      Animation           = IUScaff04
        AnimationName     = IUScaff04.IUScaff04
        AnimationMode     = LOOP
      End
    End
    
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff04  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff04
        End
        AnimationState = REALLYDAMAGED
                        EnteringStateFX    = FX_BuildingReallyDamaged
        End
    
        ModelConditionState  = COLLAPSING
            Model         = IUScaff04_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff04_D2.IUScaff04_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff04_D3  
        End  

  End


  ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        AnimationSound = Sound: BuildingScaffoldShatterLightQuick    Animation: IUScaff04_D2.IUScaff04_D2    Frames: 10
        AnimationSound = Sound: BuildingScaffoldShatterMedium        Animation: IUScaff04_D2.IUScaff04_D2    Frames: 48
        AnimationSound = Sound: BuildingScaffoldHeavyDamage        Animation: IUScaff04_D2.IUScaff04_D2     Frames: 30
    End


  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Scaffolding
  Side            = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End
    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
        StartsActive = Yes
        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
        DeathWeapon = IsengardScaffoldLargeCollapseWeapon
        WeaponOffset = X:-40 Y:0 Z:0
    End

  Geometry                = BOX
  GeometryMajorRadius    = 58.4
  GeometryMinorRadius    = 20.4
  GeometryHeight        = 44.8
  GeometryOffset        = X:0 Y:0 Z:0
  
  AdditionalGeometry    = CYLINDER
  GeometryMajorRadius    = 13.0
  GeometryMinorRadius    = 0
  GeometryHeight        = 84.8
  GeometryOffset        = X:-36.4 Y:0 Z:0
  
  GeometryIsSmall        = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
Object IsengardScaffolding05

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = IUScaff05
    End
    
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff05  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff05
        End
        AnimationState = REALLYDAMAGED
                 EnteringStateFX    = FX_BuildingReallyDamaged
        End
    
        ModelConditionState  = COLLAPSING
            Model         = IUScaff05_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff05_D2.IUScaff05_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff05_D3  
        End  

  End


  ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        AnimationSound = Sound: BuildingScaffoldShatterLightQuick    Animation: IUScaff05_D2.IUScaff05_D2    Frames: 80
        AnimationSound = Sound: BuildingScaffoldShatterMedium        Animation: IUScaff05_D2.IUScaff05_D2    Frames: 15
        AnimationSound = Sound: BuildingScaffoldStressFracture    Animation: IUScaff05_D2.IUScaff05_D2    Frames: 14
        AnimationSound = Sound: BuildingScaffoldHeavyDamage        Animation: IUScaff05_D2.IUScaff05_D2     Frames: 49
    End


  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Scaffolding
  Side            = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End
    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
        StartsActive = Yes
        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
        DeathWeapon = IsengardScaffoldSmallCollapseWeapon
        WeaponOffset = X:-40 Y:0 Z:0
    End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

  Geometry                = BOX
  GeometryMajorRadius    = 18.4
  GeometryMinorRadius    = 12.4
  GeometryHeight        = 84.8
  
  GeometryIsSmall        = No
  Shadow                = SHADOW_VOLUME
End



;------------------------------------------------------------------------------
Object IsengardScaffolding06

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = IUScaff06
    End
    
    
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff06  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff06
        End
        AnimationState = REALLYDAMAGED
                 EnteringStateFX    = FX_BuildingReallyDamaged
        End
    
        ModelConditionState  = COLLAPSING
            Model         = IUScaff06_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff06_D2.IUScaff06_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff06_D3  
        End  

  End


  ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        AnimationSound = Sound: BuildingScaffoldShatterLightQuick    Animation: IUScaff06_D2.IUScaff06_D2    Frames: 71
        AnimationSound = Sound: BuildingScaffoldShatterMedium        Animation: IUScaff06_D2.IUScaff06_D2    Frames: 12
        AnimationSound = Sound: BuildingScaffoldStressFracture    Animation: IUScaff06_D2.IUScaff06_D2    Frames: 13
        AnimationSound = Sound: BuildingScaffoldHeavyDamage        Animation: IUScaff06_D2.IUScaff06_D2     Frames: 46
    End


  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Scaffolding
  Side            = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End
    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
        StartsActive = Yes
        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
        DeathWeapon = IsengardScaffoldLargeCollapseWeapon
        WeaponOffset = X:-40 Y:0 Z:0
    End

    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

  Geometry                = BOX
  GeometryMajorRadius    = 15.4
  GeometryMinorRadius    = 45.4
  GeometryHeight        = 44.8
  
  GeometryIsSmall        = No
  Shadow                = SHADOW_VOLUME
End


;------------------------------------------------------------------------------
;Object IsengardScaffolding07
;
;  ; *** ART Parameters ***
;  Draw = W3DScriptedModelDraw ModuleTag_01
;    DefaultModelConditionState
;      Model = IUScaff07
;    End
;  End
;
;  ; *** AUDIO Parameters ***
;
;  ; ***DESIGN parameters ***
;  DisplayName     = OBJECT:Scaffolding
;  Side            = Isengard
;  EditorSorting   = STRUCTURE
;  ThreatLevel = 1.0
;
;  ; *** ENGINEERING Parameters ***  
;  KindOf          = SELECTABLE IMMOBILE
;  Body            = ActiveBody ModuleTag_03
;    MaxHealth       = 200.0
;  End
;  
;    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
;        StartsActive = Yes
;        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
;        DeathWeapon = IsengardScaffoldSmallCollapseWeapon
;        WeaponOffset = X:-40 Y:0 Z:0
;    End
;    Behavior = KeepObjectDie ModuleTag_IWantRubble
;    End
;    
;  Geometry                = BOX
;  GeometryMajorRadius    = 41.4
;  GeometryMinorRadius    = 14.4
;  GeometryHeight        = 43.8
;  
;  GeometryIsSmall        = No
;  Shadow                = SHADOW_VOLUME
;End

;------------------------------------------------------------------------------
Object IsengardScaffolding08

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = IUScaff08
    End
    
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff08  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff08
        End
        AnimationState = REALLYDAMAGED
                 EnteringStateFX    = FX_BuildingReallyDamaged
        End
    
        ModelConditionState  = COLLAPSING
            Model         = IUScaff08_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff08_D2.IUScaff08_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff08_D3  
        End  

  End


  ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        AnimationSound = Sound: BuildingScaffoldShatterLightQuick    Animation: IUScaff08_D2.IUScaff08_D2    Frames: 8 54
        AnimationSound = Sound: BuildingScaffoldShatterMedium        Animation: IUScaff08_D2.IUScaff08_D2    Frames: 28
    End


  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Scaffolding
  Side            = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End

    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
        StartsActive = Yes
        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
        DeathWeapon = IsengardScaffoldSmallCollapseWeapon
        WeaponOffset = X:-40 Y:0 Z:0
    End
    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

  Geometry                = BOX
  GeometryMajorRadius    = 32.4
  GeometryMinorRadius    = 12.4
  GeometryHeight        = 58.8
  
  GeometryIsSmall        = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object IsengardScaffolding09

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = IUScaff09
    End
     
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff09  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff09
        End
        AnimationState = REALLYDAMAGED
                 EnteringStateFX    = FX_BuildingReallyDamaged
        End
    
        ModelConditionState  = COLLAPSING
            Model         = IUScaff09_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff09_D2.IUScaff09_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff09_D3  
        End  

  End


  ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        AnimationSound = Sound: BuildingScaffoldShatterLightQuick    Animation: IUScaff09_D2.IUScaff09_D2    Frames: 35 57
        AnimationSound = Sound: BuildingScaffoldShatterMedium        Animation: IUScaff09_D2.IUScaff09_D2    Frames: 11
    End


  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Scaffolding
  Side            = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End

    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
        StartsActive = Yes
        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
        DeathWeapon = IsengardScaffoldLargeCollapseWeapon
        WeaponOffset = X:-40 Y:0 Z:0
    End
    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

  Geometry                = BOX
  GeometryMajorRadius    = 21.4
  GeometryMinorRadius    = 29.4
  GeometryHeight        = 64.8
  
  GeometryIsSmall        = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object IsengardScaffolding10

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = IUScaff10
    End
     
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff10  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff10
        End
        AnimationState = REALLYDAMAGED
                 EnteringStateFX    = FX_BuildingReallyDamaged
        End
    
        ModelConditionState  = COLLAPSING
            Model         = IUScaff10_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff10_D2.IUScaff10_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff10_D3  
        End  

  End


  ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        AnimationSound = Sound: BuildingScaffoldShatterMedium        Animation: IUScaff10_D2.IUScaff10_D2    Frames: 0
        AnimationSound = Sound: BuildingScaffoldHeavyDamage        Animation: IUScaff10_D2.IUScaff10_D2     Frames: 31
    End


  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Scaffolding
  Side            = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End

    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
        StartsActive = Yes
        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
        DeathWeapon = IsengardScaffoldSmallCollapseWeapon
        WeaponOffset = X:-40 Y:0 Z:0
    End
    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

  Geometry                = BOX
  GeometryMajorRadius    = 42.4
  GeometryMinorRadius    = 25.4
  GeometryHeight        = 57.8
  
  GeometryIsSmall        = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
;Object IsengardScaffolding11
;
;  ; *** ART Parameters ***
;  Draw = W3DScriptedModelDraw ModuleTag_01
;    DefaultModelConditionState
;      Model = IUScaff11
;    End
;  End
;
;  ; *** AUDIO Parameters ***
;
;  ; ***DESIGN parameters ***
;  DisplayName     = OBJECT:Scaffolding
;  Side            = Isengard
;  EditorSorting   = STRUCTURE
;  ThreatLevel = 1.0
;
;  ; *** ENGINEERING Parameters ***  
;  KindOf          = SELECTABLE IMMOBILE
;  Body            = ActiveBody ModuleTag_03
;    MaxHealth       = 200.0
;  End
;
;    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
;        StartsActive = Yes
;        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
;        DeathWeapon = IsengardScaffoldLargeCollapseWeapon
;        WeaponOffset = X:-40 Y:0 Z:0
;    End
;    Behavior = KeepObjectDie ModuleTag_IWantRubble
;    End
;  Geometry                = BOX
;  GeometryMajorRadius    = 24.4
;  GeometryMinorRadius    = 26.4
;  GeometryHeight        = 66.8
;  
;  GeometryIsSmall        = No
;  Shadow                = SHADOW_VOLUME
;End
;
;------------------------------------------------------------------------------
Object IsengardScaffolding12

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = IUScaff12
    End
     
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff12  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff12
        End
        AnimationState = REALLYDAMAGED
                 EnteringStateFX    = FX_BuildingReallyDamaged
        End
    
        ModelConditionState  = COLLAPSING
            Model         = IUScaff12_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff12_D2.IUScaff12_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff12_D3  
        End  

  End


  ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        AnimationSound = Sound: BuildingScaffoldShatterLightQuick    Animation: IUScaff12_D2.IUScaff12_D2    Frames: 0 50
        AnimationSound = Sound: BuildingScaffoldStressFracture    Animation: IUScaff12_D2.IUScaff12_D2    Frames: 59
        AnimationSound = Sound: BuildingScaffoldHeavyDamage        Animation: IUScaff12_D2.IUScaff12_D2     Frames: 87
    End


  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Scaffolding
  Side            = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End

    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
        StartsActive = Yes
        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
        DeathWeapon = IsengardScaffoldLargeCollapseWeapon
        WeaponOffset = X:-40 Y:0 Z:0
    End
    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

  Geometry                = BOX
  GeometryMajorRadius    = 72.4
  GeometryMinorRadius    = 16.4
  GeometryHeight        = 79.8
  
  GeometryIsSmall        = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object IsengardScaffolding13

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = IUScaff13
    End
    
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff13  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff13
        End
        AnimationState = REALLYDAMAGED
                 EnteringStateFX    = FX_BuildingReallyDamaged
        End
    
        ModelConditionState  = COLLAPSING
            Model         = IUScaff13_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff13_D2.IUScaff13_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff13_D3  
        End  

  End


  ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        AnimationSound = Sound: BuildingScaffoldShatterLightQuick    Animation: IUScaff13_D2.IUScaff13_D2    Frames: 57
        AnimationSound = Sound: BuildingScaffoldShatterMedium        Animation: IUScaff13_D2.IUScaff13_D2    Frames: 13
        AnimationSound = Sound: BuildingScaffoldStressFracture    Animation: IUScaff13_D2.IUScaff13_D2    Frames: 0
        AnimationSound = Sound: BuildingScaffoldHeavyDamage        Animation: IUScaff13_D2.IUScaff13_D2     Frames: 44
    End


  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Scaffolding
  Side            = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End

    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
        StartsActive = Yes
        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
        DeathWeapon = IsengardScaffoldLargeCollapseWeapon
        WeaponOffset = X:-40 Y:0 Z:0
    End
    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

  Geometry                = BOX
  GeometryMajorRadius    = 17.0
  GeometryMinorRadius    = 13.4
  GeometryHeight        = 100.8
  GeometryOffset        = X:15.4 Y:0 Z:0
  
  AdditionalGeometry    = BOX
  GeometryMajorRadius    = 35.4
  GeometryMinorRadius    = 13.4
  GeometryHeight        = -72.0
  GeometryOffset        = X:0 Y:0 Z:86.8
  
  GeometryIsSmall        = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
;Object IsengardScaffolding14
;
;  ; *** ART Parameters ***
;  Draw = W3DScriptedModelDraw ModuleTag_01
;    DefaultModelConditionState
;      Model = IUScaff14
;    End
;  End
;
;  ; *** AUDIO Parameters ***
;
;  ; ***DESIGN parameters ***
;  DisplayName     = OBJECT:Scaffolding
;  Side            = Isengard
;  EditorSorting   = STRUCTURE
;  ThreatLevel = 1.0
;
;  ; *** ENGINEERING Parameters ***  
;  KindOf          = SELECTABLE IMMOBILE
;  Body            = ActiveBody ModuleTag_03
;    MaxHealth       = 99999.0
;  End
;
;    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
;        StartsActive = Yes
;        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
;        DeathWeapon = IsengardScaffoldLargeCollapseWeapon
;        WeaponOffset = X:-40 Y:0 Z:0
;    End
;    Behavior = KeepObjectDie ModuleTag_IWantRubble
;    End
;    
;  Geometry                = BOX
;  GeometryMajorRadius    = 16.4
;  GeometryMinorRadius    = 12.4
;  GeometryHeight        = 81.8
;  GeometryOffset        = X:0 Y:0 Z:0
;  
;  AdditionalGeometry    = BOX
;  GeometryMajorRadius    = 30.4
;  GeometryMinorRadius    = 12.4
;  GeometryHeight        = -66.0
;  GeometryOffset        = X:0 Y:0 Z:80.8
;  
;  GeometryIsSmall        = No
;  Shadow                = SHADOW_VOLUME
;End

;------------------------------------------------------------------------------
;Object IsengardScaffolding15
;
;  ; *** ART Parameters ***
;  Draw = W3DScriptedModelDraw ModuleTag_01
;    DefaultModelConditionState
;      Model = IUScaff15
;    End
;  End
;
;  ; *** AUDIO Parameters ***
;
;  ; ***DESIGN parameters ***
;  DisplayName     = OBJECT:Scaffolding
;  Side            = Isengard
;  EditorSorting   = STRUCTURE
;  ThreatLevel = 1.0
;
;  ; *** ENGINEERING Parameters ***  
;  KindOf          = SELECTABLE IMMOBILE
;  Body            = ActiveBody ModuleTag_03
;    MaxHealth       = 99999.0
;  End
;
;    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
;        StartsActive = Yes
;        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
;        DeathWeapon = IsengardScaffoldLargeCollapseWeapon
;        WeaponOffset = X:-40 Y:0 Z:0
;    End
;    Behavior = KeepObjectDie ModuleTag_IWantRubble
;    End
;  Geometry                = BOX
;  GeometryMajorRadius    = 20.0
;  GeometryMinorRadius    = 10.4
;  GeometryHeight        = 74.8
;  GeometryOffset        = X:8.4 Y:0 Z:0
;  
;  AdditionalGeometry    = BOX
;  GeometryMajorRadius    = 45.4
;  GeometryMinorRadius    = 29.4
;  GeometryHeight        = -37.0
;  GeometryOffset        = X:0 Y:0 Z:60.8
;  
;  GeometryIsSmall        = No
;  Shadow                = SHADOW_VOLUME
;  
;End

;------------------------------------------------------------------------------
Object IsengardScaffolding16

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = IUScaff16
    End
    
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff16  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff16
        End
        AnimationState = REALLYDAMAGED
                 EnteringStateFX    = FX_BuildingReallyDamaged
        End
    
        ModelConditionState  = COLLAPSING
            Model         = IUScaff16_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff16_D2.IUScaff16_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff16_D3  
        End  

  End


  ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        AnimationSound = Sound: BuildingScaffoldShatterLightQuick    Animation: IUScaff16_D2.IUScaff16_D2    Frames: 46
        AnimationSound = Sound: BuildingScaffoldShatterMedium        Animation: IUScaff16_D2.IUScaff16_D2    Frames: 12
        AnimationSound = Sound: BuildingScaffoldStressFracture    Animation: IUScaff16_D2.IUScaff16_D2    Frames: 13
        AnimationSound = Sound: BuildingScaffoldHeavyDamage        Animation: IUScaff16_D2.IUScaff16_D2     Frames: 69
    End


  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Scaffolding
  Side            = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End
    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
        StartsActive = Yes
        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
        DeathWeapon = IsengardScaffoldLargeCollapseWeapon
        WeaponOffset = X:-40 Y:0 Z:0
    End
    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

  Geometry                = BOX
  GeometryMajorRadius    = 52.4
  GeometryMinorRadius    = 15.4
  GeometryHeight        = 72.8
  
  GeometryIsSmall        = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object IsengardScaffolding17

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    DefaultModelConditionState
      Model = IUScaff17
    End
    
        ;--damaged building
      
        ModelConditionState  = DAMAGED
            Model         = IUScaff17  
        End
        AnimationState = DAMAGED
        End        
        
        ModelConditionState  = REALLYDAMAGED
            Model         = IUScaff17
        End
        AnimationState = REALLYDAMAGED
                 EnteringStateFX    = FX_BuildingReallyDamaged
        End
    
        ModelConditionState  = COLLAPSING
            Model         = IUScaff17_D2
        End
        AnimationState = COLLAPSING
              Animation                =    RubbleAnimation
                AnimationName        =     IUScaff17_D2.IUScaff17_D2
                AnimationMode        =    ONCE
              End
        End

        ModelConditionState  = RUBBLE
            Model         = IUScaff17_D3  
        End  

  End


  ; *** AUDIO Parameters ***

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        AnimationSound = Sound: BuildingScaffoldShatterMedium        Animation: IUScaff17_D2.IUScaff17_D2    Frames: 34
        AnimationSound = Sound: BuildingScaffoldHeavyDamage        Animation: IUScaff17_D2.IUScaff17_D2     Frames: 10
    End


  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Scaffolding
  Side            = Isengard
  EditorSorting   = STRUCTURE
  ThreatLevel = 1.0


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_WOOD

    Body                = StructureBody ModuleTag_05
        MaxHealth       = 200.0
        MaxHealthDamaged = 150
        MaxHealthReallyDamaged = 100
    End

    Behavior = FireWeaponWhenDeadBehavior FireWeaponWhenDeadBehaviorModuleTag_01
        StartsActive = Yes
        DelayTime = 1000 ; milliseconds from the actual death, to the weapon firing 
        DeathWeapon = IsengardScaffoldLargeCollapseWeapon
        WeaponOffset = X:-40 Y:0 Z:0
    End
    Behavior = KeepObjectDie ModuleTag_IWantRubble
    End

  Geometry                = BOX
  GeometryMajorRadius    = 40.4
  GeometryMinorRadius    = 14.4
  GeometryHeight        = 64.8
  
  GeometryIsSmall        = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object IsengardDam

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    DefaultModelConditionState
      Model = IB_Dam
    End
    
    
    ModelConditionState  = DAMAGED
        Model         = IB_Dam_D1  
        ParticleSysBone   = bone02 WaterPokeSmall03
        ParticleSysBone   = bone03 WaterPokeSmall02
        ParticleSysBone   = bone04 WaterPokeSmall01
        ParticleSysBone   = bone02 CatapultDestroyDust
        ParticleSysBone   = bone03 CatapultDestroyDust
        ParticleSysBone   = bone04 CatapultDestroyDust
    End
    AnimationState = DAMAGED
    End
    
    
    ModelConditionState  = REALLYDAMAGED
        Model         = IB_Dam_D2
        ParticleSysBone   = bone02 WaterPokeLarge03
        ParticleSysBone   = bone03 WaterPokeLarge02
        ParticleSysBone   = bone04 WaterPokeLarge01
        ParticleSysBone   = bone02 CatapultDestroyDust
        ParticleSysBone   = bone03 CatapultDestroyDust
        ParticleSysBone   = bone04 CatapultDestroyDust  
    End
    AnimationState = REALLYDAMAGED
        Animation    =    D2Animation
            AnimationName        =    IB_Dam_D2.IB_Dam_D2
            AnimationMode        =    ONCE
        End
    End
    
            
  End

  ;----------------- AUDIO parameters -------------------

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone
    SoundAmbientDamaged        = DamBreakLeakLightWater
    SoundAmbientReallyDamaged    = DamBreakLeakHeavyWater
    SoundAmbientReallyDamaged2    = DamBreakLeakLightWater

    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
        MaxUpdateRangeCap = 800
         AnimationSound = Sound:ImpactRock                    Animation:IB_Dam_D2.IB_Dam_D2        Frames:2
         AnimationSound = Sound:BuildingTopple                Animation:IB_Dam_D2.IB_Dam_D2        Frames:29
         AnimationSound = Sound:BuildingForbiddenPoolDestroyRock    Animation:IB_Dam_D2.IB_Dam_D2        Frames:33
         AnimationSound = Sound:BuildingForbiddenPoolDestroyStone    Animation:IB_Dam_D2.IB_Dam_D2        Frames:38
         AnimationSound = Sound:DamageDebrisLightRock            Animation:IB_Dam_D2.IB_Dam_D2        Frames:45
    End


  ; ***DESIGN parameters ***

  DisplayName      = OBJECT:IsengardDam
  Side = Isengard
  EditorSorting   = STRUCTURE


  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE STRUCTURE MADE_OF_STONE
;  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 20000.0
    MaxHealthDamaged = 15000.0
    MaxHealthReallyDamaged = 11000.0
  End

ArmorSet
   Conditions        = None
   Armor             = DamArmor
    ;DamageFX          = StructureDamageFXNoShake
 End
 
  AttackContactPoint    = X:0 Y:0   Z:10
  AttackContactPoint    = X:0 Y:30  Z:100
  AttackContactPoint    = X:0 Y:-50 Z:70
  AttackContactPoint    = X:0 Y:-30 Z:10
  AttackContactPoint    = X:0 Y:50  Z:10
  
  Geometry = BOX
  GeometryMajorRadius = 25.0
  GeometryMinorRadius = 125.0
  GeometryHeight = 150.0
  GeometryIsSmall = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------

;Harad Building Foundation -- the area where faction Mordor buildings can be built on
Object HaradBuildingFoundation
 
    SelectPortrait = BPMCamp_Plot
 
  ; *** ART Parameters ***

  
    Draw = W3DScriptedModelDraw ModuleTag_Draw2
        DefaultModelConditionState
            Model = OBBFoundationX
        End
        ModelConditionState = WORLD_BUILDER
              Model = MBSizeTemplate
          End
        
    End
    
    Draw = W3DFloorDraw ModuleTag_Draw
        ModelName = HBFoundationX
  End

  ;PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:HaradBuildingFoundation
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161

  CommandSet = MordorFoundationCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = Gui_PlotSelect

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY NO_COLLIDE DO_NOT_CLASSIFY
  Behavior            = FoundationAIUpdate ModuleTag_foundationAI
  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Body                = ImmortalBody ModuleTag_05
    MaxHealth         = 15000.0
  End
 
  Geometry              = BOX
  GeometryMajorRadius   = 24.0
  GeometryMinorRadius   = 24.0
  GeometryHeight        = 0.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion        = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------------------
Object HaradCampKeep

    SelectPortrait = BP_HarodKeep

  ; *** ART Parameters ***

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState  
      Model = HBCCenter
    End

    ModelConditionState = WORLD_BUILDER
        Model = HBCCenter
    End
    
    IdleAnimationState
        BeginScript
            Prev = CurDrawablePrevAnimationState()
            if Prev == "BeingConstructed" then 
                ; Don't play completed sound when canceling build-in-progress or when
                ; destroyed halfway
                if not CurDrawableModelcondition( "DYING" ) then 
                    CurDrawablePlaySound("CampOrcCompleteKeep")
                end
            end
        EndScript
    End

;------------Build Up States
    ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED
      Model               = HBCCenter_A
;      ParticleSysBone      = NONE BuildingDoughnutCloud
      ParticleSysBone     = NONE BuildingContructDust
    End  

    AnimationState          = ACTIVELY_BEING_CONSTRUCTED
        Animation
            AnimationName    = HBCCenter_A.HBCCenter_A
            AnimationMode   = MANUAL
        End
        StateName        = BeingConstructed
        BeginScript
            ;CurDrawableHideSubObject("FIRE02")
            CurDrawablePlaySound("GondorBarracksBeginConstruction")
            CurDrawablePlaySound("BuildingTopple")
        EndScript
    End

;------------Build Up States
    ModelConditionState   = BASE_BUILD
      Model               = HBCCenter_A
;      ParticleSysBone      = NONE BuildingDoughnutCloud
      ParticleSysBone     = NONE BuildingContructDust
    End  

    AnimationState          = BASE_BUILD
        Animation
            AnimationName = HBCCenter_A.HBCCenter_A
            AnimationMode = ONCE
            AnimationBlendTime = 0            
            AnimationSpeedFactorRange = 2.0 2.0 ; 300 frame anim, but need to shrink down to 5 seconds
        End        
        BeginScript
            CurDrawablePlaySound("DebrisDust")
            CurDrawablePlaySound("GondorBarracksBeginConstruction")
            CurDrawablePlaySound("BuildingTopple")
        EndScript
    End

    ModelConditionState   = JUST_BUILT
      Model               = HBCCenter_A
;      ParticleSysBone      = NONE BuildingDoughnutCloud
      ParticleSysBone     = NONE BuildingContructDust
    End  

    AnimationState          = JUST_BUILT
        Animation
            AnimationName = HBCCenter_A.HBCCenter_A
            AnimationMode = MANUAL            
            AnimationBlendTime = 0
        End
        Flags = START_FRAME_FIRST
        ;BeginScript
        ;    CurDrawablePlaySound("DebrisDust")
        ;    CurDrawableHideSubObject("FIRE02")
        ;EndScript
    End

    ModelConditionState  = DAMAGED
      Model         = HBCCenter_D1 
      ParticleSysBone Smokebone01 TrebuchetImpactSplinters
;      ParticleSysBone Smokebone02 furnaceSmoke
    

    End
    AnimationState = DAMAGED
     EnteringStateFX    = FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = HBCCenter_D2 
      ParticleSysBone Smokebone01 TrebuchetImpactSplinters
;      ParticleSysBone Smokebone02 furnaceSmoke
    End
    AnimationState = REALLYDAMAGED
         EnteringStateFX    = FX_BuildingReallyDamaged
    End
    
    ModelConditionState  = RUBBLE
      Model         = HBCCenter_D2  
      ParticleSysBone Smokebone01 Explosion3
      ParticleSysBone Smokebone02 Explosion5
    End

    AnimationState = RUBBLE
    ;EnteringStateFX    = FX_IsengardCitadelDie        ;added to trigger BuildingSink audio but already being triggered in StructureCollapseUpdate module
    End

      ModelConditionState  = POST_RUBBLE
        Model         = GBGenRubble
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End
    AnimationState = POST_RUBBLE
    End
    
    ModelConditionState  = POST_COLLAPSE
        Model         = GBGenRubble
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End
    AnimationState = POST_COLLAPSE
    End

  End


     ; *** AUDIO Parameters ***

    SoundOnDamaged        = BuildingLightDamageStone
    SoundOnReallyDamaged    = BuildingHeavyDamageStone

    VoiceSelectUnderConstruction    = BuildingEvilVoiceSelectUnderConstruction

    UnitSpecificSounds
        UnderConstruction        = BuildingConstructionLoop  ; Built first time
        ; UnderRepairFromDamage    = NoSound                    ; Repaired No animation on the building, so don't bother playing sound
        UnderRepairFromRubble    = BuildingConstructionLoop    ; Repaired from completely destroyed (not used???)
    End


    ; ***DESIGN parameters ***

    DisplayName      = OBJECT:HaradCampKeep
    Side = Mordor
    EditorSorting   = STRUCTURE
    ThreatLevel = 1.0
    BuildCost           = 500
    BuildTime           = 30.0           ; in seconds
    CommandSet            = MordorCampKeepCommandSet
    
    ArmorSet
        Conditions        = None
        Armor             = StructureArmor
        DamageFX          = None
    End

  ; *** ENGINEERING Parameters ***  
    KindOf                    = VITAL_FOR_BASE_SURVIVAL STRUCTURE SELECTABLE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE
    RadarPriority            = STRUCTURE
    KeepSelectableWhenDead    = Yes
 
  
    Body              = ActiveBody ModuleTag_02
        MaxHealth       = M_MORDOR_CENTRAL_CAMP_KEEP_HEALTH
    End

    Behavior = GettingBuiltBehavior ModuleTag_04
        SelfBuildingLoop = BuildingBigConstructionLoop            ; Only played if we DON'T spawn a worker
        SelfRepairFromDamageLoop  = NoSound                     ; This doesn't cause an animation, so don't bother playing a sound
        SelfRepairFromRubbleLoop  = BuildingBigConstructionLoop
    End

  Behavior = CastleMemberBehavior ModuleTag_CMB
    BeingBuiltSound = BuildingBigConstructionLoop
  End 



      ;-----------------------------------------------
    ;Used for hero revival and initial construction     
    Behavior = ProductionUpdate ProductionUpdateModuleTag
        ; nothing, but is required if we have any Object-level Upgrades!
    End
    Behavior = QueueProductionExitUpdate ModuleTag_QueuePEU
        UnitCreatePoint   = X:0.0 Y:-20.0 Z:0.0
        NaturalRallyPoint = X:28.8 Y:-80.0 Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! 
        ExitDelay = 300 ;Handles delays between units if multiple produced at a time. (like Generals Redguard coming out 2 at a time)
    End  
    ;-----------------------------------------------

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  
     Behavior                  = StructureCollapseUpdate ModuleTag_06
       MinCollapseDelay        = 000
       MaxCollapseDelay        = 000
       CollapseDamping         = .5
       MaxShudder              = 0.6
       MinBurstDelay           = 250
       MaxBurstDelay           = 800
       BigBurstFrequency       = 4
       FXList                  = INITIAL FX_StructureMediumCollapse
     End

    Behavior                  = RubbleRiseUpdate ModuleTag_07
        MinRubbleRiseDelay      = 000
        MaxRubbleRiseDelay      = 000
        ;RubbleRiseDamping       = .5
        RubbleHeight            = 4.0
        MaxShudder              = 0.6
        MinBurstDelay           = 250
        MaxBurstDelay           = 800
        BigBurstFrequency       = 4
        FXList                  = INITIAL FX_StructureMediumPostCollapse    ;FX_StructureMediumCollapse
    End  
  
  Geometry              = CYLINDER
  GeometryMajorRadius   = 16.0
  GeometryMinorRadius   = 16.0
  GeometryHeight        = 88.0
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME;_NON_SELF_1 ; no non-self's for structures
  
  GeometryContactPoint    = X:0    Y:0        Z:88        Swoop
  GeometryContactPoint    = X:0        Y:0        Z:0
End

;------------------------------------------------------------------------------

Object MordorHaradTent1
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw                = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultModelConditionState
      Model           = MuGenHarTnt
    End
    
    ModelConditionState  = DAMAGED
        Model         = MuGenHarTnt_D
    End
    AnimationState = DAMAGED
        EnteringStateFX    = FX_BuildingDamaged
    End    
    
    ModelConditionState  = REALLYDAMAGED
        Model         = MuGenHarTnt_D
    End
    AnimationState = REALLYDAMAGED
        EnteringStateFX    = FX_BuildingReallyDamaged
    End    

    ModelConditionState  = RUBBLE
        Model         = MuGenHarTnt_D
    End
        
  End
  
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:HaradrimTent
  Side                = Mordor
  EditorSorting       = STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 0
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 161

;  ArmorSet
;    Conditions        = None
;    Armor             = StructureArmor
;    DamageFX          = StructureDamageFXNoShake
;  End
;  CommandSet          = MordorTentCommandSet

 
  ; *** AUDIO Parameters ***
;  VoiceSelect         = NuclearReactorSelect
;  SoundOnDamaged        = BuildingDamagedStateLight
;  SoundOnReallyDamaged  = BuildingDestroy
 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End
 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE MADE_OF_WOOD
 
; Behavior            = GettingBuiltBehavior ModuleTag_04
;   SelfBuildingLoop = BuildingConstructionLoop ; Only played if we DON'T spawn a worker
;    SelfRepairFromDamageLoop  = NoSound         ; This doesn't cause an animation, so don't bother playing a sound
;    SelfRepairFromRubbleLoop  = BuildingConstructionLoop
;  End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1500.0
  End
 
 ; Behavior            = DestroyDie ModuleTag_07
 ;   ;nothing
;  End

  Behavior = UpgradeDie  UpgradeDieModuleTag
    ;This frees the object based upgrade for the producer object.
    DeathTypes = ALL
    UpgradeToRemove     = Upgrade_TestBuilding_2 BaseUpgradeTag_02
  End

;  Behavior           = CreateObjectDie ModuleTag_08
;    CreationList     = OCL_SmallStructureDebris
;  End
 
;  Behavior = ProductionUpdate ModuleTag_10
;    ; nothing, but is required if we have any Object-level Upgrades!
;  End
 
;  Behavior = FlammableUpdate ModuleTag_14
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 5       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End
 
;  Behavior = TransitionDamageFX ModuleTag_15
;    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
;    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ;---------------------------------------------------------------------------------------
;    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
;    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
;  End
 
;  Behavior             = FXListDie ModuleTag_16
;    DeathFX       = FX_BuildingDie
;  End
 
    Behavior                  = StructureCollapseUpdate ModuleTag_06
        MinCollapseDelay        = 000
        MaxCollapseDelay        = 000
        CollapseDamping         = .5
        MaxShudder              = 0.6
        MinBurstDelay           = 250
        MaxBurstDelay           = 800
        BigBurstFrequency       = 4
        FXList                  = INITIAL   FX_StructureMediumCollapse
    End

  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 3000
  End
  
  Geometry              = CYLINDER
  GeometryMajorRadius   = 45.6
  GeometryMinorRadius   = 28.0
  GeometryHeight        = 36.0 ;40.8
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object BaradDur1

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBarDur1_D3
      ParticleSysBone   = FXbone01 EyeExplode
      ParticleSysBone   = FXbone02 BuildingChunkBitsTrail02
    End
        IdleAnimationState
        StateName                    =   STATE_Idle
            Animation = IdleA
                AnimationName        =    MBBarDur1_D3.MBBarDur1_D3
                AnimationMode        =    LOOP 
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE 
        End
    End  

    ;--------------------- AUDIO -------------------

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BaradDur
  Side = Mordor
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
;  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 3000.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object BaradDur2

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBarDur2_D3
    End
        IdleAnimationState
        StateName                    =   STATE_Idle
            Animation = IdleA
                AnimationName        =    MBBarDur2_D3.MBBarDur2_D3
                AnimationMode        =    LOOP 
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE 
        End
    End  

    ;--------------------- AUDIO -------------------

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BaradDur
  Side = Mordor
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
;  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 3000.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object BaradDur3

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBarDur3_D3
    End
        IdleAnimationState
        StateName                    =   STATE_Idle
            Animation = IdleA
                AnimationName        =    MBBarDur3_D3.MBBarDur3_D3
                AnimationMode        =    LOOP 
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE 
        End
    End  

    ;--------------------- AUDIO -------------------

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BaradDur
  Side = Mordor
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
;  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 3000.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object BaradDur4

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBarDur4_D3
    End
        IdleAnimationState
        StateName                    =   STATE_Idle
            Animation = IdleA
                AnimationName        =    MBBarDur4_D3.MBBarDur4_D3
                AnimationMode        =    LOOP 
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE 
        End
    End  

    ;--------------------- AUDIO -------------------

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BaradDur
  Side = Mordor
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
;  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 3000.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object BaradDur5

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBarDur5_D3
    End
        IdleAnimationState
        StateName                    =   STATE_Idle
            Animation = IdleA
                AnimationName        =    MBBarDur5_D3.MBBarDur5_D3
                AnimationMode        =    LOOP 
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE 
        End
    End  

    ;--------------------- AUDIO -------------------

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BaradDur
  Side = Mordor
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
;  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 3000.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object BaradDur6

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBarDur6_D3
    End
        IdleAnimationState
        StateName                    =   STATE_Idle
            Animation = IdleA
                AnimationName        =    MBBarDur6_D3.MBBarDur6_D3
                AnimationMode        =    LOOP 
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE 
        End
    End  

    ;--------------------- AUDIO -------------------

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BaradDur
  Side = Mordor
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
;  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 3000.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object BaradDur7

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBarDur7_D3
    End
        IdleAnimationState
        StateName                    =   STATE_Idle
            Animation = IdleA
                AnimationName        =    MBBarDur7_D3.MBBarDur7_D3
                AnimationMode        =    LOOP 
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE 
        End
    End  

    ;--------------------- AUDIO -------------------

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BaradDur
  Side = Mordor
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
;  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 3000.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object BaradDur8

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBarDur8_D3
    End
        IdleAnimationState
        StateName                    =   STATE_Idle
            Animation = IdleA
                AnimationName        =    MBBarDur8_D3.MBBarDur8_D3
                AnimationMode        =    LOOP 
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE 
        End
    End  

    ;--------------------- AUDIO -------------------

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BaradDur
  Side = Mordor
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
;  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 3000.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object BaradDur9

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    UseStandardModelNames = Yes
    DefaultModelConditionState
      Model = MBBarDur9_D3
    End
        IdleAnimationState
        StateName                    =   STATE_Idle
            Animation = IdleA
                AnimationName        =    MBBarDur9_D3.MBBarDur9_D3
                AnimationMode        =    LOOP 
            End
            Flags                    = RESTART_ANIM_WHEN_COMPLETE 
        End
    End  

    ;--------------------- AUDIO -------------------

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BaradDur
  Side = Mordor
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
;  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 3000.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 2.4
  GeometryMinorRadius = 2.4
  GeometryHeight = 4.8
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object BaradDur

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    UseStandardModelNames = Yes
    DefaultModelConditionState  
      Model = MBBarDur1_D3
        End
        ModelConditionState = WORLD_BUILDER
              Model = MBBarDur7_D3
              
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur1_D3
      ParticleSysBone FXbone01 EyeExplode FollowBone:yes
      ParticleSysBone FXbone02 BaradDurDust01 FollowBone:yes
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur1_D3.MBBarDur1_D3
            AnimationMode        =    ONCE
           End
       End
  End

    ;----------------------------------------------------------------------------------------------
    Draw = W3DScriptedModelDraw Draw_Wall2

    DefaultModelConditionState  
      Model = MBBarDur2_D3
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur2_D3
      ParticleSysBone FXbone01 BaradDurDust01 FollowBone:yes
      ParticleSysBone FXbone03 SmokeBuildingLarge FollowBone:yes
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur2_D3.MBBarDur2_D3
            AnimationMode        =    ONCE
           End
           End
  End

    ;----------------------------------------------------------------------------------------------
    Draw = W3DScriptedModelDraw Draw_Wall3

    DefaultModelConditionState  
      Model = MBBarDur3_D3
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur3_D3
      ParticleSysBone FXbone01 BaradDurDust01 FollowBone:yes
      ParticleSysBone FXbone03 SmokeBuildingLarge FollowBone:yes
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur3_D3.MBBarDur3_D3
            AnimationMode        =    ONCE
           End
           End
  End

    ;----------------------------------------------------------------------------------------------
    Draw = W3DScriptedModelDraw Draw_Wall4

    DefaultModelConditionState  
      Model = MBBarDur4_D3
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur4_D3
      ParticleSysBone FXbone01 BaradDurDust01 FollowBone:yes
      ParticleSysBone FXbone03 SmokeBuildingLarge FollowBone:yes
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur4_D3.MBBarDur4_D3
            AnimationMode        =    ONCE
           End
           End
  End

    ;----------------------------------------------------------------------------------------------
    Draw = W3DScriptedModelDraw Draw_Wall5

    DefaultModelConditionState  
      Model = MBBarDur5_D3
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur5_D3
      ParticleSysBone FXbone01 BaradDurDust01 FollowBone:yes
      ParticleSysBone FXbone03 SmokeBuildingLarge FollowBone:yes
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur5_D3.MBBarDur5_D3
            AnimationMode        =    ONCE
           End
           End
  End

    ;----------------------------------------------------------------------------------------------
    Draw = W3DScriptedModelDraw Draw_Wall6

    DefaultModelConditionState  
      Model = MBBarDur6_D3
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur6_D3
      ParticleSysBone FXbone01 BaradDurDust01 FollowBone:yes
      ParticleSysBone FXbone03 SmokeBuildingLarge FollowBone:yes
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur6_D3.MBBarDur6_D3
            AnimationMode        =    ONCE
           End
           End
  End

    ;----------------------------------------------------------------------------------------------
    Draw = W3DScriptedModelDraw Draw_Wall7

    DefaultModelConditionState  
      Model = MBBarDur7_D3
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur7_D3
      FXEvent = Frame: 300 Name: FX_BaradDurWaveDust
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur7_D3.MBBarDur7_D3
            AnimationMode        =    ONCE
           End
           End
  End

    ;--------------------- AUDIO -------------------

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BaradDur
  Side = Mordor
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
;  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 300
  GeometryMinorRadius = 300
  GeometryHeight = 300
  GeometryIsSmall = No
End

;------------------------------------------------------------------------------
Object BaradDurCINE

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_Draw
    UseStandardModelNames = Yes
    DefaultModelConditionState  
      Model = MBBarDur1_DE
        End
        ModelConditionState = WORLD_BUILDER
              Model = MBBarDur7_D3
              
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur1_DE
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur1_DE.MBBarDur1_DE
            AnimationMode        =    ONCE
           End
           End
  End

    ;----------------------------------------------------------------------------------------------
    Draw = W3DScriptedModelDraw Draw_Wall2

    DefaultModelConditionState  
      Model = MBBarDur2_DE
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur2_DE
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur2_DE.MBBarDur2_DE
            AnimationMode        =    ONCE
           End
           End
  End

    ;----------------------------------------------------------------------------------------------
    Draw = W3DScriptedModelDraw Draw_Wall3

    DefaultModelConditionState  
      Model = MBBarDur3_D3
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur3_D3
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur3_D3.MBBarDur3_D3
            AnimationMode        =    ONCE
           End
           End
  End

    ;----------------------------------------------------------------------------------------------
    Draw = W3DScriptedModelDraw Draw_Wall4

    DefaultModelConditionState  
      Model = MBBarDur4_D3
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur4_D3
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur4_D3.MBBarDur4_D3
            AnimationMode        =    ONCE
           End
           End
  End

    ;----------------------------------------------------------------------------------------------
    Draw = W3DScriptedModelDraw Draw_Wall5

    DefaultModelConditionState  
      Model = MBBarDur5_D3
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur5_D3
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur5_D3.MBBarDur5_D3
            AnimationMode        =    ONCE
           End
           End
  End

    ;----------------------------------------------------------------------------------------------
    Draw = W3DScriptedModelDraw Draw_Wall6

    DefaultModelConditionState  
      Model = MBBarDur6_D3
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur6_D3
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur6_D3.MBBarDur6_D3
            AnimationMode        =    ONCE
           End
           End
  End

    ;----------------------------------------------------------------------------------------------
    Draw = W3DScriptedModelDraw Draw_Wall7

    DefaultModelConditionState  
      Model = MBBarDur7_D3
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = MBBarDur7_D3
    End
    AnimationState = REALLYDAMAGED
           Animation                =    REALLYDAMAGEDanimation
            AnimationName        =     MBBarDur7_D3.MBBarDur7_D3
            AnimationMode        =    ONCE
           End
           End
  End

    ;--------------------- AUDIO -------------------

    SoundOnDamaged            = BuildingLightDamageStone
    SoundOnReallyDamaged        = BuildingHeavyDamageStone


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BaradDur
  Side = Mordor
  EditorSorting   = STRUCTURE

  ; *** ENGINEERING Parameters ***  
  KindOf          = SELECTABLE IMMOBILE
;  Shadow          = SHADOW_VOLUME
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 300
  GeometryMinorRadius = 300
  GeometryHeight = 300
  GeometryIsSmall = No
End
