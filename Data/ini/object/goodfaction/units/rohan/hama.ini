;------------------------------------------------------------------------------
;
;	Hama.ini
;
;------------------------------------------------------------------------------

; Hama
Object RohanHama
	SelectPortrait = HPRohanHama
	ButtonImage = HIRohanHama
	
	Draw = W3DScriptedModelDraw ModuleTag_DRAW
	  OkToChangeModelColor = Yes
	    StaticModelLODMode = yes

		DefaultModelConditionState
			Model = ruhama_skn
			Skeleton = RUTheoden_SKL
		End

		ModelConditionState = WORLD_BUILDER
			Model = ruhama_skn
			Skeleton = RUTheoden_SKL
		End

		ModelConditionState = MOUNTED
			Model	=	ruhama_mnt
			Skeleton = rurohrm_SKL
			WeaponLaunchBone    = PRIMARY PASSENGERBONE
		End

		AnimationState			    = MOUNTED DEBUG
			Animation
				AnimationName       = rurohrm_idla      
				AnimationMode       = ONCE
			End
			ParticleSysBone = BAT_HHEAD glowHorseGold FollowBone:Yes			
			ParticleSysBone = B_HHIPL glowHorseRearGold FollowBone:Yes
			ParticleSysBone = BAT_SPINE2 glowGold FollowBone:Yes			
		End
		AnimationState				=	MOUNTED FREEFALL 
			Animation				=	freefall
				AnimationName		=	rurohrm_flyb
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End
		AnimationState				=	MOUNTED STUNNED_FLAILING 
			Animation				=	JustDie
				AnimationName		=	rurohrm_flyb
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End
		AnimationState				=	MOUNTED PASSENGER
			Animation				=	grabbed
				AnimationName		=	rurohrm_gbda
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End
		AnimationState				=	MOUNTED DYING DEATH_2
			Animation				=	RUHHs_Theo_IDLA
				AnimationName		=	rurohrm_idla
				AnimationMode		=	ONCE
			End
		End		
		AnimationState				=	MOUNTED DYING SPLATTED
			Animation				=	Land
				AnimationName		=	rurohrm_lnda
				AnimationMode		=	ONCE
				AnimationBlendTime  =   2
			End
			FXEvent	= Frame:2 Name:FX_SplatDust
		End
		AnimationState				=	MOUNTED DYING
			Animation				=	JustDie
				AnimationName		=	rurohrm_diea
				AnimationMode		=	ONCE
			End
		End
		AnimationState				=	MOUNTED STUNNED_STANDING_UP
			Animation				=	StandUp
				AnimationName		=	rurohrm_gtpa
				AnimationMode		=	ONCE
				AnimationSpeedFactorRange = 3.5 3.5
			End
		End
		AnimationState				=	MOUNTED STUNNED
			Animation				=	Land
				AnimationName		=	rurohrm_lnda
				AnimationMode		=	ONCE
			End
		End
		; AnimationState						= PARALYZED MOUNTED
		; 	Animation
		; 		AnimationName				= rurohrm_idla
		; 		AnimationMode				= LOOP
		; 	End
		; End
		AnimationState        = MOUNTED MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
				AnimationName       = rurohrm_atra
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART 
		End
		; AnimationState				=	MOUNTED MOVING USING_SPECIAL_ABILITY
			; Animation				=	RousingSpeech
				; AnimationName		=	RUHHs_Theo_WLKB
				; AnimationMode		=	LOOP
			; End
		; End
		AnimationState				=	MOUNTED TURN_LEFT_HIGH_SPEED
			Animation				=	TurnLeft
				AnimationName		=	rurohrm_tnl1
				AnimationMode		=	LOOP
				AnimationSpeedFactorRange= 1.2 1.2
				AnimationBlendTime	=	20
			End
		End
		AnimationState				=	MOUNTED TURN_RIGHT_HIGH_SPEED
			Animation				=	TurnLeft
				AnimationName		=	rurohrm_tnr1
				AnimationMode		=	LOOP
				AnimationSpeedFactorRange= 1.2 1.2
				AnimationBlendTime	=	20
			End
		End
		AnimationState				=	MOUNTED MOVING TURN_LEFT 
			Animation				=	TurnLeft
				AnimationName		=	rurohrm_trnl
				AnimationMode		=	LOOP
			End
		End
		AnimationState				=	MOUNTED MOVING TURN_RIGHT 
			Animation				=	TurnRight
				AnimationName		=	rurohrm_trnr
				AnimationMode		=	LOOP
			End
		End
		AnimationState				=	MOUNTED MOVING ACCELERATE
			Animation				=	Accelerate
				AnimationName		=	rurohrm_accl
				AnimationMode		=	LOOP
			End
		End
		AnimationState				=	MOUNTED MOVING DECELERATE
			Animation				=	Decelerate
				AnimationName		=	rurohrm_decl
				AnimationMode		=	ONCE
				AnimationSpeedFactorRange = 0.6 0.6
			End
		End
		AnimationState				=	MOUNTED MOVING WALKING
			Animation				=	Walk
				AnimationName		=	rurohrm_wlka
				AnimationMode		=	LOOP
			End
		End
		AnimationState				=	MOUNTED MOVING BACKING_UP
			Animation				=	BackingUp
				AnimationName		=	rurohrm_baka
				AnimationMode		=	LOOP
			End
		End
		AnimationState				=	MOUNTED MOVING
			Animation				=	RunA
				AnimationName		=	rurohrm_runa
				AnimationMode		=	LOOP
			End
		End
		; AnimationState						=	PACKING_TYPE_2 MOUNTED
			; StateName						=	SPELL
			; Animation						=	SPCC
				; AnimationName				=	RUHHs_Theo_SPCA
				; AnimationMode				=	ONCE
				; AnimationBlendTime	=	20
			; End
		; End
		; AnimationState						=	PACKING_TYPE_1 MOUNTED
			; StateName						=	SPELL
			; Animation						=	SPCC
				; AnimationName				=	RUHHs_Theo_IDLC
				; AnimationSpeedFactorRange	=	0.842 0.842
				; AnimationMode				=	ONCE
			; End		
		; End
		AnimationState				=	MOUNTED FIRING_OR_PREATTACK_A
			Animation				=	AttackA
				AnimationName		=	rurohrm_atka
				AnimationMode		=	ONCE
				UseWeaponTiming		=	Yes
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState				=	MOUNTED ATTACKING
			Animation				=	AttackA
				AnimationName		=	rurohrm_atka
				AnimationMode		=	MANUAL
			End
		End
		AnimationState				= MOUNTED LEVELED
			StateName				= Idle
			Animation				= LevelUp
				AnimationName		= RUHHs_Theo_IDLC
				AnimationMode		= ONCE
				AnimationSpeedFactorRange	=	0.666 0.666
			End
		End
		; AnimationState				=	RAISING_FLAG MOUNTED
		; 		Animation           =	CHRA
		; 			AnimationName   =	rurohrm_chra
		; 			AnimationMode   =	LOOP
		; 		End
		; End
		AnimationState				=	EMOTION_TAUNTING MOUNTED
				Animation           =	CHRA
					AnimationName   =	rurohrm_tntb
					AnimationMode   =	LOOP
				End
		End
		AnimationState				= MOUNTED EMOTION_CELEBRATING
			Animation				= LevelUp
				AnimationName		= rurohrm_chra
				AnimationMode		= LOOP
			End
		End
		AnimationState				=	MOUNTED SELECTED
			SimilarRestart			=   Yes			
			StateName				=	AtAttentionIdle
			Animation				=	ATNB
				AnimationName		=	rurohrm_idla
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
				if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
			EndScript
		End
		TransitionState				=	TRANS_MountedSelect
			Animation				=	ATNA
				AnimationName		=	rurohrm_atna
				AnimationMode		=	ONCE
			End
		End
		AnimationState			= MOUNTED
			StateName = Idle
			Animation	=	IdleA
				AnimationName		=	rurohrm_idla
				AnimationPriority	=	20
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End
		IdleAnimationState
			StateName				=	BORED
			Animation				=	IDLB
				AnimationName		=	RUTheoden_IDLB
				AnimationMode		=	ONCE
				AnimationPriority	=	1
			End
			Animation				=	IDLC
				AnimationName		=	RUTheoden_IDLC
				AnimationMode		=	ONCE
				AnimationPriority	=	10
			End
			Animation				=	IDLD
				AnimationName		=	RUTheoden_IDLD
				AnimationMode		=	ONCE
				AnimationPriority	=	1
			End
			Animation				=	IDLE
				AnimationName		=	RUTheoden_IDLE
				AnimationMode		=	ONCE
				AnimationPriority	=	1
			End
			Flags				=	RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "SELECTED"	then CurDrawableSetTransitionAnimState("Transition_SelectedToBored") end
				if Prev == "READY"		then CurDrawableSetTransitionAnimState("Transition_ReadyToBored") end
			EndScript
		End
		AnimationState				=	FREEFALL 
			Animation				=	freefall
				AnimationName		=	RUTheoden_FLYA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End
		AnimationState						=	STUNNED_FLAILING 
			Flags							=	RANDOMSTART
			Animation						=	RUTheoden_FLYA
				AnimationName				=	RUTheoden_FLYA
				AnimationMode				=	LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
		End
		AnimationState						=	DYING DEATH_2
			Animation						=	RUTheoden_IDLA
				AnimationName				=	RUTheoden_IDLA
				AnimationMode				=	ONCE
			End
		End
		AnimationState						=	DYING SPLATTED
			Animation						=	RUTheoden_LNDA
				AnimationName				=	RUTheoden_LNDA
				AnimationMode				=	ONCE
			End
		End
		AnimationState						=	DYING
			Animation						=	RUTheoden_DIEA
				AnimationName				=	RUTheoden_DIEA
				AnimationMode				=	ONCE
			End
			Animation						=	RUTheoden_DIEB
				AnimationName				=	RUTheoden_DIEB
				AnimationMode				=	ONCE
			End
		End
		; AnimationState						= PARALYZED
		; 	Animation
		; 		AnimationName				= RUTheoden_IDLB
		; 		AnimationMode				= ONCE_BACKWARDS
		; 	End
		; 	Flags							= START_FRAME_FIRST
		; End
		AnimationState						=	STUNNED_STANDING_UP
			Animation						=	RUTheoden_GTPA
				AnimationName				=	RUTheoden_GTPA
				AnimationMode				=	ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End
		AnimationState						=	STUNNED 
			Animation						=	RUTheoden_LNDA
				AnimationName				=	RUTheoden_LNDA
				AnimationMode				=	ONCE
			End
		End
		AnimationState        = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
				AnimationName       = RUTheoden_ATRA
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART 
		End
		AnimationState						=	FIRING_OR_PREATTACK_A
			Animation						=	ATKA
				AnimationName				=	RUTheoden_ATKA
				AnimationMode				=	ONCE
				UseWeaponTiming				=	Yes
			End
			Animation						=	ATKB
				AnimationName				=	RUTheoden_ATKB
				AnimationMode				=	ONCE
			End
			Animation						=	ATKC
				AnimationName				=	RUTheoden_ATKC
				AnimationMode				=	ONCE
				UseWeaponTiming				=	Yes
			End
			Animation						=	ATKD
				AnimationName				=	RUTheoden_ATKD
				AnimationMode				=	ONCE
				UseWeaponTiming				=	Yes
			End
		End
		AnimationState						=	MOVING ATTACKING
			Animation						=	RUTheoden_RUNB
				AnimationName				=	RUTheoden_RUNB
				AnimationSpeedFactorRange	=	0.4 0.4
				AnimationMode				=	LOOP
				AnimationBlendTime			=   10
				Distance					=	30
			End
		End	
		AnimationState						=	MOVING 
			Animation						=	RUTheoden_RUNA
				AnimationName				=	RUTheoden_RUNA
				AnimationMode				=	LOOP
				Distance					=	30
			End
		End
		AnimationState						=	PACKING_TYPE_2
			StateName						=	SPELL
			Animation						=	SPCC
				AnimationName				=	RUTheoden_SPCB
				AnimationSpeedFactorRange	=	1.1666 1.1666
				AnimationMode				=	ONCE
				AnimationBlendTime	=	20
			End
			Animation						=	SPCD
				AnimationName				=	RUTheoden_SPCC
				AnimationMode				=	ONCE
				AnimationBlendTime	=	20
			End
		End
		AnimationState						= HIT_REACTION HIT_LEVEL_1
			Animation						= Hit_Level_1_a
				AnimationName				= RUTheoden_HITA
				AnimationMode				= ONCE
			End
		End
		AnimationState				= LEVELED
			Animation				= LevelUp
				AnimationName		= RUTheoden_CHRB
				AnimationMode		= ONCE
			End
		End
		AnimationState				=	EMOTION_CELEBRATING
			Animation				=	CHRA
				AnimationName		=	RUTheoden_CHRA
				AnimationMode		=	ONCE
			End
			Animation				=	CHRB
				AnimationName		=	RUTheoden_CHRB
				AnimationMode		=	ONCE
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState				=	EMOTION_TAUNTING
			Animation				=	CHRB
				AnimationName		=	RUTheoden_CHRB
				AnimationMode		=	ONCE
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End
		AnimationState				=	EMOTION_ALERT
			StateName				=	READY
			Animation				=	ready
				AnimationName		=	RUTheoden_IDLA
				AnimationMode		=	LOOP
				AnimationBlendTime	=	20
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "BORED"		then CurDrawableSetTransitionAnimState("Transition_BoredToReady") end
				if Prev == "SELECTED"	then CurDrawableSetTransitionAnimState("Transition_SelectedToReady") end
			EndScript
		End
		; AnimationState				=	RAISING_FLAG
		; 	Animation				=	CHRA
		; 		AnimationName		=	RUTheoden_CHRA
		; 		AnimationMode		=	ONCE
		; 	End
		; 	Animation				=	CHRB
		; 		AnimationName		=	RUTheoden_CHRB
		; 		AnimationMode		=	ONCE
		; 	End
		; 	Flags					=	RESTART_ANIM_WHEN_COMPLETE
		; End
		AnimationState				=	SELECTED 
			StateName				=	SELECTED
			Animation				=	ATNB
				AnimationName		=	RUTheoden_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "BORED" then CurDrawableSetTransitionAnimState("Transition_BoredToSelected") end
				if Prev == "READY" then CurDrawableSetTransitionAnimState("Transition_ReadyToSelected") end
				if Prev == "SPELL" then CurDrawableSetTransitionAnimState("Transition_ReadyToSelected") end
			EndScript
		End		
		TransitionState Transition_BoredToReady
			Animation				=	ready
				AnimationName		=	RUTheoden_IDLA
				AnimationMode		=	LOOP
				AnimationBlendTime	=	20
			End
		End
		TransitionState Transition_ReadyToBored
			Animation				=	IDLC
				AnimationName		=	RUTheoden_IDLC
				AnimationMode		=	ONCE
				AnimationBlendTime	=	20
			End
		End
		TransitionState Transition_BoredToSelected
			Animation				=	ATNA
				AnimationName		=	RUTheoden_ATNA
				AnimationMode		=	ONCE
			End
		End
		TransitionState Transition_SelectedToBored
			Animation				=	ATNE
				AnimationName		=	RUTheoden_ATNE
				AnimationMode		=	ONCE
			End
		End
		TransitionState Transition_SelectedToReady
			Animation				=	ATNC
				AnimationName		=	RUTheoden_ATNA
				AnimationMode		=	ONCE
			End
		End
		TransitionState Transition_ReadyToSelected
			Animation				=	ATNC
				AnimationName		=	RUTheoden_ATNA
				AnimationMode		=	ONCE_BACKWARDS
			End
			Flags = START_FRAME_LAST
		End
	End
	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState = MOUNTED MOVING WADING
			ParticleSysBone = None FootstepSlash
	    End
	    AnimationState = MOUNTED MOVING ACCELERATE
			ParticleSysBone = None GenericSiegeTrailDust
	    End
	    AnimationState = MOUNTED MOVING ACCELERATE
			ParticleSysBone = None GenericSiegeTrailDust
	    End
	    AnimationState = MOUNTED MOVING
			ParticleSysBone = None GenericSiegeTrailDust
	    End
	End
    Side = Rohan
    EditorSorting = UNIT
    ThreatLevel = 4.0
    ThingClass = CHARACTER_UNIT
  BuildCost = M_FARAMIR_BUILDCOST                
  BuildTime = M_FARAMIR_BUILDTIME                
    TransportSlotCount = 1
    DisplayMeleeDamage = M_FARAMIR_DAMAGE 
    WeaponSet
        Conditions            = MOUNTED
        Weapon                = PRIMARY    FaramirSword
    End
    WeaponSet
        Weapon = PRIMARY    FaramirSword
        AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    End
    ArmorSet
        Conditions      = None
        Armor           = HeroArmor
        DamageFX        = NormalDamageFX
    End

    ArmorSet
        Conditions      = MOUNTED
        Armor           = HeroArmorMounted
        DamageFX        = NormalDamageFX
    End
    ArmorSet
        Conditions      = PLAYER_UPGRADE
        Armor           = TheodredLuckOfBattleArmor
        DamageFX        = NormalDamageFX
    End

    VisionRange = M_VISION_HERO_RANGED
    ShroudClearingRange = M_SHROUD_CLEAR_RANGED_HERO
    BountyValue = M_GONDOR_FARAMIR_BOUNTY_VALUE
    DisplayName = OBJECT:RohanHama
    RecruitText = CONTROLBAR:RohanHamaRecruit
    ReviveText    = CONTROLBAR:RohanHamaRevive
    Hotkey        = CONTROLBAR:RohanHamaHotkey

    CrusherLevel = 0
    MountedCrusherLevel = 1
    CrushableLevel = 2
    MountedCrushableLevel = 2
    CrushWeapon        = HeroCrush  
    MinCrushVelocityPercent = 50
    CrushDecelerationPercent = 30
    CrushKnockback = 40
    CrushZFactor = 1.0

    CommandSet = RohanHamaCommandSet

    CommandPoints = 0
    VoiceAttack                = TheodredVoiceAttack
    VoiceAttackAir                = TheodredVoiceAttack
    VoiceAttackCharge            = TheodredVoiceAttackCharge
    VoiceAttackMachine        = TheodredVoiceAttack
    VoiceAttackStructure        = TheodredVoiceAttackBuilding
    VoiceMove                = TheodredVoiceMove
    VoiceMoveToCamp            = TheodredVoiceMoveCamp
    VoiceMoveWhileAttacking        = TheodredVoiceSelect
    VoicePriority            = 82
    VoiceRetreatToCastle        = TheodredVoiceDisengage
    VoiceSelect                = TheodredVoiceSelect
    VoiceSelect2            = HeroVoiceSelect2
    VoiceSelectBattle         = TheodredVoiceSelectBattle
    VoiceGuard                = TheodredVoiceMove
    SoundImpact                = ImpactHorse
    UnitSpecificSounds
        VoiceGarrison        = TheodredVoiceGarrison              
    End
    ClientBehavior = ModelConditionSoundSelectorClientBehavior ModuleTag_MCSoundSelector1
        SoundState = MOUNTED
            VoiceAttack                = TheodredVoiceAttack
            VoiceAttackCharge            = TheodredVoiceAttackCharge
            VoiceAttackMachine        = TheodredVoiceAttack
            VoiceAttackStructure        = TheodredVoiceAttackBuilding
            VoiceFear                 = TheodredVoiceHelpMe
            VoiceMove                = TheodredVoiceMove
            VoiceMoveToCamp            = TheodredVoiceMoveCamp
            VoiceMoveWhileAttacking        = TheodredVoiceSelect
            VoiceRetreatToCastle        = TheodredVoiceDisengage
            VoiceSelect                = TheodredVoiceSelect
            VoiceSelect2            = BannerRiderVoiceSelect2
            VoiceSelectBattle         = TheodredVoiceSelectBattle
            VoiceGuard                = TheodredVoiceMove
            SoundMoveStart            = GondorHorseMoveStart
            SoundImpact                = ImpactHorse
            VoicePriority            = 82
            UnitSpecificSounds
                VoiceGarrison        = TheodredVoiceGarrison              
            End
        End
    End
    EvaEventDamagedOwner                = UnitUnderAttack
    EvaEventDieOwner                    = TheodredDie
    Behavior = LargeGroupAudioUpdate ModuleTag_LGAU1
        Key = Human Unit Infantry Hero
        UnitWeight = 2
    End
    ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior1
        MaxUpdateRangeCap = 800
        AnimationSound = Sound:FootstepDirtA        Animation:GUFaramir_SKL.GUFaramir_RUNA        Frames:2 12
        AnimationSound = Sound:FootstepDirtA        Animation:GUFaramir_SKL.GUFaramir_RUNB        Frames:2 12
        AnimationSound = Sound:WeaponSwitchBow        Animation:GUFaramir_SKL.GUFaramir_ATKC        Frames:18
        AnimationSound = Sound:SwordShingClean1        Animation:GUFaramir_SKL.GUFaramir_STHA        Frames:21
        AnimationSound = Sound:SwordIntoScabbard1        Animation:GUFaramir_SKL.GUFaramir_STHB        Frames:11
        AnimationSound = Sound:WeaponSwitchBow        Animation:GUFaramir_SKL.GUFaramir_STHB        Frames:28
        AnimationSound = Sound:SwordIntoScabbard1        Animation:GUFaramir_SKL.GUFaramir_STHC        Frames:2
        AnimationSound = Sound:WeaponSwitchBow        Animation:GUFaramir_SKL.GUFaramir_STHC        Frames:3
        AnimationSound = Sound:SwordShingClean1        Animation:GUFaramir_SKL.GUFaramir_STHD        Frames:6
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:GUFaramir_SKL.GUFaramir_DIEA        Frames:88
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:GUFaramir_SKL.GUFaramir_DIEB        Frames:85
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:GUFaramir_SKL.GUFaramir_DIEC        Frames:49
        AnimationSound = Sound:BodyFallSoldier        Animation:GUFaramir_SKL.GUFaramir_LNDA        Frames:3
        AnimationSound = Sound:BodyFallSoldier        Animation:GUFaramir_SKL.GUFaramir_LNDB        Frames:2
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_ACCL        Frames:14 32
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_RUNA        Frames:0
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNL1        Frames:0
        AnimationSound = Sound:HorseMoveFootsteps        Animation:RUHHs_Theo_SKL.RUHHs_Theo_TNR1        Frames:0
        AnimationSound = Sound:HorseWhinny50Percent    Animation:RUHHs_Theo_SKL.RUHHs_Theo_IDLC        Frames:0
        AnimationSound = Sound:HorseDieForHero        Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA        Frames:0
        AnimationSound = Sound:BodyFallSoldier        Animation:RUHHs_Theo_SKL.RUHHs_Theo_LNDA        Frames:1 9
        AnimationSound = Sound:HorseDieForHero        Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA        Frames:0
        AnimationSound = Sound:BodyFallGenericNoArmor    Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA        Frames:4
        AnimationSound = Sound:BodyFallSoldier        Animation:RUHHs_Theo_SKL.RUHHs_Theo_DIEA        Frames:42
    End
    RadarPriority = UNIT
    KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE ARMY_SUMMARY ATTACK_NEEDS_LINE_OF_SIGHT
    PathfindDiameter = 40.0
    Body = RespawnBody ModuleTag_RespawnBody1
        CheerRadius             = M_EMOTION_CHEER_RADIUS
        MaxHealth                 = M_FARAMIR_HEALTH
        PermanentlyKilledByFilter    = NONE
           DodgePercent              = M_HERO_DODGE_PERCENT
    End
    Behavior = RespawnUpdate ModuleTag_RespawnUpdate1
        DeathAnim                = DYING
        DeathFX                = FX_TheodredDieToRespawn
        DeathAnimationTime        = 5000
        InitialSpawnFX            = FX_TheodredInitialSpawn
        RespawnAnim                = LEVELED
        RespawnFX                = FX_TheodredRespawn
        RespawnAnimationTime        = 2000
        AutoRespawnAtObjectFilter    = NONE +CASTLE_KEEP
        ButtonImage                = HIRohanHama
        RespawnRules =            AutoSpawn:No    Cost:600        Time:90000        Health:100%
        RespawnEntry =    Level:2                Cost:700        Time:90000
        RespawnEntry =    Level:3                Cost:800        Time:90000        
        RespawnEntry =    Level:4                Cost:900        Time:90000        
        RespawnEntry =    Level:5                Cost:1000        Time:120000        
        RespawnEntry =    Level:6                Cost:1100        Time:120000        
        RespawnEntry =    Level:7                Cost:1200        Time:120000        
        RespawnEntry =    Level:8                Cost:1300        Time:120000        
        RespawnEntry =    Level:9                Cost:1400        Time:120000        
        RespawnEntry =    Level:10            Cost:1500        Time:120000        
    End
	
    Behavior = AutoHealBehavior ModuleTag_FaramirHealing1
        StartsActive = Yes
        HealingAmount = M_HERO_HEAL_AMOUNT
        HealingDelay = 1000
        StartHealingDelay = M_HERO_HEAL_DELAY
        HealOnlyIfNotInCombat = Yes
    End
    Behavior = AIUpdateInterface ModuleTag_031
        AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
        MoodAttackCheckRate        = 500
		AILuaEventsList				= TheodredFunctions
    End
    LocomotorSet
        Locomotor = HeroHumanLocomotor
        Condition = SET_NORMAL 
        Speed     = M_NORMAL_GOOD_HERO_SPEED
    End
	
    ; ------------------- Luck of Battle ----------------- ;
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ThirstEnabler
		SpecialPowerTemplate = SpecialAbilityEomerGuthwine
		TriggeredBy = Upgrade_GenericUpgrade7
	End
	Behavior = SpecialPowerModule ModuleTag_ThirstStarter                ; SpecialAbility is a SpecialPower, SpecialPower is anyting special
		SpecialPowerTemplate    = SpecialAbilityEomerGuthwine
		StartsPaused			= Yes
	End
	Behavior = HeroModeSpecialAbilityUpdate ModuleTag_ThirstUpdate   ; So the difference in SpecialAbility is that it takes timing from this Update, instead of simply firing.
		SpecialPowerTemplate    = SpecialAbilityEomerGuthwine
		HeroAttributeModifier	= TheodredLuckOfBattleSetState
		HeroEffectDuration		= 25000
		UnpackTime              = 1 ; insant unpack
		TriggerSound			= TheodredVoiceDetermination
	End

    Behavior = HeroDie ModuleTag_HeroDeath1
        SpecialPowerTemplate = SpecialAbilitySmite
    End
    Behavior = SpecialPowerModule    ModuleTag_SpecialAbilityGrabPassenger1
        SpecialPowerTemplate      =    SpecialAbilityGrabPassenger
        UpdateModuleStartsAttack  =    Yes
    End
    Behavior = SpecialAbilityUpdate ModuleTag_SpecialAbilityGrabPassengerUpdate1
        SpecialPowerTemplate    = SpecialAbilityGrabPassenger
        StartAbilityRange       = 8.0
        UnpackTime              = 300
        PreparationTime         = 1
        PersistentPrepTime      = 630
        PackTime                = 1000
        AwardXPForTriggering    = 0
    End
    
    ; ------------------- Bond Leadership -------------------- ;
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TheodredBondsofBloodUnpause
        SpecialPowerTemplate = SpecialAbilityFakeLeadership2
        TriggeredBy = Upgrade_GenericUpgrade3
    End     
    Behavior = SpecialPowerModule ModuleTag_TheodredBondsofBloodUpdate
        SpecialPowerTemplate      = SpecialAbilityFakeLeadership2
        UpdateModuleStartsAttack  = Yes
        StartsPaused = Yes
    End    
		Behavior = AttributeModifierAuraUpdate ModuleTag_TheodredBondsofBlood
	    TriggeredBy = Upgrade_GenericUpgrade3
        StartsActive    = No
        BonusName        = TheodredBloodLeadership
        RefreshDelay    = 2000
        Range            = 200
        ObjectFilter    = NONE +RohanTheoden +RohanEowyn +RohanEomer
    End    
    ; --------------------------------------------------------- ;

    Behavior = AutoAbilityBehavior ModuleTag_AutoAbilityBehavior1
    End       
    Behavior = EmotionTrackerUpdate    Module_EmotionTracker1
        TauntAndPointDistance        =    300
         TauntAndPointUpdateDelay    =    1000
        AddEmotion    =    Alert_Base
     End    
    LocomotorSet
        Locomotor = HeroHorseLocomotor
        Condition = SET_MOUNTED 
        Speed     = M_NORMAL_CAVALRY_HORDE_SPEED
    End
    Behavior = PhysicsBehavior ModuleTag_041
        GravityMult = 1.0
        ShockStandingTime        = 2533
    End
    Behavior = SlowDeathBehavior ModuleTag_051
        DeathTypes = ALL 
        SinkDelay = 30000
        SinkRate = 0.40
        DestructionDelay = 8000
        Sound = INITIAL TheodredVoiceDie
    End
    Behavior = SquishCollide ModuleTag_061
    End
    Behavior = HitReactionBehavior HitReactionBehaviorModuleTag1
        HitReactionLifeTimer1 = 1500
        HitReactionLifeTimer2 = 1500
        HitReactionLifeTimer3 = 1500
        HitReactionThreshold1 = 5.0
        HitReactionThreshold2 = 25.0
        HitReactionThreshold3 = 50.0
        FastHitsResetReaction = Yes    If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
    End
     Behavior = SpecialPowerModule ModuleTag_HorseToggleStarter1
         SpecialPowerTemplate      = SpecialAbilityToggleMounted
         UpdateModuleStartsAttack  = Yes
         StartsPaused = No
     End
    Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle1
         SpecialPowerTemplate    = SpecialAbilityToggleMounted
         UnpackTime              = 1200
         PreparationTime         = 1  
         PersistentPrepTime      = 250
         PackTime                = 1200
         OpacityTarget            = .3
         AwardXPForTriggering    = 0
    End
    ; Behavior = ExperienceLevelCreate ModuleTag_MPLevelBonus
    ;     LevelToGrant = 10
    ;     MPOnly = Yes
    ; End
    Geometry = CYLINDER
    GeometryMajorRadius = 8.0
    GeometryMinorRadius = 8.0
    GeometryHeight = 19.2
    GeometryIsSmall = No
  Shadow = SHADOW_DECAL
  ShadowSizeX = 20
  ShadowSizeY = 20
  ShadowTexture = ShadowI
End

