Object LossarnachAxeMan
	; *** ART Parameters ***

	SelectPortrait         = UPLossAxemen
	ButtonImage         = UILossAxemen

	Draw = W3DScriptedModelDraw ModuleTag_DRAW

   StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

	  OkToChangeModelColor = Yes

		DefaultModelConditionState
			Model               = guNaxeman_skn
		End
		; --- Idle Anims
		IdleAnimationState
			StateName = Idle			
			Animation           = IDLB
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_IDLB 0 15
				AnimationMode     = ONCE
				AnimationPriority   = 20
			End			
			Animation           = IDLC
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_IDLC
				AnimationMode     = ONCE
				AnimationPriority   = 5
			End			
			Animation           = IDLD
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_IDLD
				AnimationMode     = ONCE
				AnimationPriority   = 5
			End			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
			EndScript			
		End

		
		AnimationState        = STUNNED_FLAILING 
			Flags               = RANDOMSTART
			Animation           = GUBoromir_FLYA
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_FLYA
				AnimationMode     = LOOP
			End
		End


		; --- Dying anims

		AnimationState        = DYING DEATH_2
			Animation           = GUBoromir_DTHA
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_IDLA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState        = DYING SPLATTED
			Animation           = GUBoromir_LNDA
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_LNDA
				AnimationMode     = ONCE
			End
		End
		AnimationState        = DYING AFLAME
			Animation = DieAflame
				AnimationName       = Kuhwaldar_SKL.Kuhwaldar_MFDA
				AnimationMode       = LOOP
			End
		End
		AnimationState        = DYING
			Animation           = GUBoromir_DTHA
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_DTHA
				AnimationMode     = ONCE
			End
		End
		
		; --- Stunned anims
		AnimationState        = STUNNED_STANDING_UP
			Animation           = GUBoromir_GTPA
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_GTPA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 1.3 1.3
			End
		End
		AnimationState        = STUNNED 
			Animation           = GUBoromir_LNDA
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_LNDA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState        = PACKING_TYPE_2 
			StateName		  =	CaptainPower
			Animation           = GUBoromir_CHRA
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_CHRA
				AnimationMode     = LOOP
				AnimationSpeedFactorRange = 1.2 1.2
			End
		End

		AnimationState        = SPECIAL_POWER_1
			Animation           
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_SPCC
				AnimationMode     = LOOP
			End
		End
		
		
		; --- Moving Anims
		AnimationState        = MOVING WANDER WEAPONSTATE_CLOSE_RANGE
			StateName           = WithSword
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_WLKA
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_WLKA
				AnimationMode     = LOOP
			End
		End
		; non mo cap
		AnimationState        = MOVING WANDER
			;ParticleSysBone     = None InfantryDustTrails
			Animation           = GUBoromir_WLKA
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_WLKA
				AnimationMode     = LOOP
			End
		End
		
		
		AnimationState        = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
				AnimationName       = Kuhwaldar_SKL.Kuhwaldar_RUNB
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART  
		End
		
		
		AnimationState        = MOVING
			;ParticleSysBone     = None InfantryDustTrails
			Flags               = RANDOMSTART
			Animation           = MOVE
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_RUNA
				AnimationMode     = LOOP
			End
		End
		
		

		; Attacking Anims [Weapon_A]
		AnimationState        = FIRING_OR_PREATTACK_A 
			StateName           = Attack
			Animation           = ATKA
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATKB
				AnimationName    = Kuhwaldar_SKL.Kuhwaldar_ATKB
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
		End


		


		
		; --------- Selected Anims and Transitions
		TransitionState					=	TRANS_Idle_to_Selected
			Animation					=	ATNA
				AnimationName			=	Kuhwaldar_SKL.Kuhwaldar_ATNA
				AnimationMode			=	ONCE
			End
		End
		
		TransitionState					=	TRANS_Selected_To_Idle
			Animation					=	ATNC
				AnimationName			=	Kuhwaldar_SKL.Kuhwaldar_ATNC
				AnimationMode			=	ONCE
			End
		End
		
		AnimationState				= LEVELED 						; This state clears itself in 3 seconds
			Animation				= LevelUp
				AnimationName		= Kuhwaldar_SKL.Kuhwaldar_LVLA
				AnimationMode		= ONCE
			End
		End

		AnimationState				=	SELECTED
			StateName				=	Selected
			SimilarRestart			=   Yes			
			Animation				=	ATNB
				AnimationName		=	Kuhwaldar_SKL.Kuhwaldar_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
			EndScript
		End
		
		;------------emotions---------------
		AnimationState			= EMOTION_CELEBRATING
			Animation           = CHRA
				AnimationName   = Kuhwaldar_SKL.Kuhwaldar_CHRA
				AnimationMode   = LOOP
			End
		End
		
		AnimationState					= EMOTION_ALERT EMOTION_MORALE_HIGH
			Animation					= Taunting
				AnimationName			=  Kuhwaldar_SKL.Kuhwaldar_TNTA
				AnimationMode			= ONCE
			End
			Animation					= Taunting
				AnimationName			=  Kuhwaldar_SKL.Kuhwaldar_TNTB
				AnimationMode			= ONCE
			End
			Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End
		
		; READY IDLE
		AnimationState        = EMOTION_ALERT
			Animation           = ALERT_1
				AnimationName     = Kuhwaldar_SKL.Kuhwaldar_IDLA
				AnimationMode     = LOOP ;ONCE
			End
;			Flags               = RESTART_ANIM_WHEN_COMPLETE ; acts like an idle animation & keeps running the animations.
		End
		
		
		; --------- Click and Hit Reactions ------------
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = Kuhwaldar_SKL.Kuhwaldar_HITA
				AnimationMode = ONCE
			End
		End		

	End
	
	; ***DESIGN parameters ***
	Side = Gondor
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 3
	BountyValue = M_GONDOR_SOLDIER_BOUNTY_VALUE
	
	EmotionRange = 240 ; Make sure this value is greater than the fear distribution range. 

	TransportSlotCount = 1
	
	;;; WEAPON SETS ;;;
	WeaponSet
		Conditions			= None 
		Weapon				= PRIMARY    GondorAxe
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions			= PLAYER_UPGRADE
		Weapon				= PRIMARY	GondorSwordUpgraded
		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	;;; ARMOUR SETS ;;;
	ArmorSet
		Conditions      = None
		Armor           = SoldierArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = SoldierHeavyArmor
		DamageFX        = NormalDamageFX
	End
	
	VisionRange = VISION_STANDARD_MELEE
	ShroudClearingRange = SHROUD_CLEAR_STANDARD				

	DisplayName = OBJECT:GondorFighter
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrushRevengeWeapon = BasicInfantryCrushRevenge
	
	CommandSet = GondorFighterCommandSet


	; *** AUDIO Parameters ***;

	VoiceAmbushed				= AxemanLossnVoiceAmbushed	
	VoiceAttack					= AxemanLossnVoiceAttack
	VoiceAttackCharge				= AxemanLossnVoiceAttackCharge
	VoiceAttackMachine			= AxemanLossnVoiceAttack
	VoiceAttackStructure			= AxemanLossnVoiceAttackBuilding
	VoiceEnterStateAttack			= AxemanLossnVoiceEnterStateAttack
	VoiceEnterStateAttackCharge		= AxemanLossnVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine		= AxemanLossnVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure	= AxemanLossnVoiceEnterStateAttackBuilding
	VoiceCreated				= AxemanLossnVoiceSalute
	VoiceFullyCreated 			= AxemanLossnVoiceSalute				;GondorSoldierVoiceCreated
	VoiceGuard					= AxemanLossnVoiceMove
	VoiceMove					= AxemanLossnVoiceMove
	VoiceMoveToCamp				= AxemanLossnVoiceMoveCamp
	VoiceMoveWhileAttacking			= AxemanLossnVoiceDisengage				;TEMP_GondorSoldierVoiceMoveWhileAttacking_TEMP
	VoicePriority				= 49
	VoiceRetreatToCastle			= AxemanLossnVoiceRetreat
	VoiceSelect					= AxemanLossnVoiceSelect
	VoiceSelect2				= AxemanLossnVoiceLineFormation
	VoiceSelectBattle 			= AxemanLossnVoiceSelectBattle
	VoiceEnterStateMove			= AxemanLossnVoiceEnterStateMove
	VoiceEnterStateMoveToCamp		= AxemanLossnVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking	= AxemanLossnVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle	= AxemanLossnVoiceEnterStateRetreat

	SoundImpact					= ImpactHorse

	UnitSpecificSounds
		VoiceGarrison							= AxemanLossnVoiceGarrison              
		VoiceDesperateAttack						= AxemanLossnVoiceTightFormation 
	End

	EvaEventDamagedOwner 							= UnitUnderAttack	;Eva event to trigger when unit is damaged

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Infantry Gondor_Soldier
	End
	
	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: TauntHumanHitShield	Animation:GUMAArms_SKL.GUManMocap_IDLC	Frames: 17 27
		AnimationSound = Sound: TauntHumanHitShield	Animation:GUMAArms_SKL.GUManMocap_TNTC	Frames: 74 82 94 125 139

		AnimationSound = Sound:BodyFallGeneric1		Animation:GUMAArms_SKL.GUManMocap_DIEB	Frames:89
		AnimationSound = Sound:BodyFallGeneric1		Animation:GUMAArms_SKL.GUManMocap_DIEC	Frames:71
		AnimationSound = Sound:BodyFallGeneric1		Animation:GUMAArms_SKL.GUManMocap_DIED	Frames:29
		AnimationSound = Sound:BodyFallGeneric1		Animation:GUMAArms_SKL.GUManMocap_DIEE	Frames:28
		AnimationSound = Sound:BodyFallGeneric1		Animation:GUMAArms_SKL.GUMAARMS_LNDA	Frames:0
	End


	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ATTACK_NEEDS_LINE_OF_SIGHT NOTIFY_OF_PREATTACK GRAB_AND_DROP
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = M_GONDOR_SOLDIER_HEALTH
		MaxHealthDamaged  = M_GONDOR_SOLDIER_HEALTH_DAMAGED
		;RecoveryTime      = GONDOR_SOLDIER_HEALTH_RECOVERY_TIME
	End
	
	Behavior = WeaponSetUpgrade WeaponSetUpgradeModuleTag
		TriggeredBy = Upgrade_GondorForgedBlades Upgrade_TechnologyGondorForgedBlades
		RequiresAllTriggers = Yes
	End

	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy = Upgrade_GondorHeavyArmor
		ArmorSetFlag			= PLAYER_UPGRADE
	End
	
	;-------------------------------------------------------------------------
	;
	;	Sub object upgrading.
	;
	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy		= Upgrade_GondorHeavyArmor
		RecolorHouse	= Yes
		ShowSubObjects	= HIPS SPAULDERS ;SHLDR BRACERS BODYHA LEGARMOR
		;HideSubObjects	= BODYLA
		ExcludeSubobjects = Forged_Blade
	End
	
	Behavior = SubObjectsUpgrade ForgedBlade_Upgrade
		TriggeredBy		= Upgrade_GondorForgedBlades
		ShowSubObjects	= Forged_Blade
	End	
	;-------------------------------------------------------------------------
		
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	=	Yes ATTACK_BUILDINGS
		MoodAttackCheckRate			=	500
		AILuaEventsList				=	AxemenofLamedonFunctions
		MinCowerTime				=	3000
		MaxCowerTime				=	5000
		AttackPriority				= 	AttackPriority_Infantry
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = 50
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStunnedTimeLow		= 1400	;msec
		ShockStunnedTimeHigh	= 2400	;msec
		ShockStandingTime		= 666	;msec
	End 

	Behavior = AttributeModifierUpgrade ModuleTag_AMU
		TriggeredBy = Upgrade_GondorFighterFearless
		AttributeModifier = FearlessForever
	End
	 
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 2500 ; level 1 (light  damage)  hit reaction animations in ms
		HitReactionLifeTimer2 = 2500 ; level 2 (medium damage)  hit reaction animations in ms
		HitReactionLifeTimer3 = 2500 ; level 3 (heavy  damage)  hit reaction animations in ms

		HitReactionThreshold1 = 5.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger
		
		FastHitsResetReaction = Yes    If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK -FADED
		SinkDelay = 3000
		SinkRate = 0.60     ; in Dist/Sec
		DestructionDelay = 10000
		Sound = INITIAL HumanVoiceDie ;GondorSoldierVoiceDie
	End
	
	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.60     ; in Dist/Sec
		DestructionDelay = 10000
	End

	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes = NONE +FADED
		FadeDelay = 0
		FadeTime = 5000
		DestructionDelay = 5000
        DeathFlags = DEATH_2
        FX = INITIAL FX_UnSummonElvenAllies
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; To tweak a Bezier path
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = No

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19;
    ShadowSizeY = 19;
    ShadowTexture = ShadowI;
End

; ------------------------------------------------------------------------------
ChildObject LossarnachAxeMan_Summoned LossarnachAxeMan
	IsTrainable = No
	CommandPoints = 0
	EquivalentTo = LossarnachAxeMan
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
	; This one does the work, but the one in the horde displays the timer
		MinLifetime		= 120000 ; 180000
		MaxLifetime		= 120000 ; 180000
		DeathType		= FADED
	End	
End