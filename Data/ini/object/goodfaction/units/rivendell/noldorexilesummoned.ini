;------------------------------------------------------------------------------
;Creating this elf will randomize between several variations of the elf.
;------------------------------------------------------------------------------
Object RivendellNolderExile_Summoned

	SelectPortrait	= uprivexile

	Draw = W3DScriptedModelDraw ModuleTag_01  
		DefaultModelConditionState
			;Give it a model so it'll show up in WB
			Model               = auexileM_skn
		End
	End

	;***** IMPORTANT NOTE! ***************************************************************	
	;Certain Upgrades and costs may need to be propagated from here. One example was veterancy
	;overlays.
	;*************************************************************************************	

	Side            = Rivendell
	EditorSorting   = UNIT
	BuildVariations = RivendellNoldorExileM_Summoned RivendellNoldorExileF_Summoned
	KindOf          = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP ATTACK_NEEDS_LINE_OF_SIGHT SUMMONED

End

;--------------------------------------- MALE VARIANT
Object RivendellNoldorExileM_Summoned              
  ; *** ART Parameters ***
  	Scale = 1.05

  ; This is required for garrisoned objects - please put in all objects.
 	  ButtonImage			= uirivexile
	  SelectPortrait  = uprivexile
  
  Draw = W3DHordeModelDraw ModuleTag_01
		OkToChangeModelColor          = Yes
		StaticModelLODMode            = Yes
	
    DefaultModelConditionState
      Model                       = auexileM_skn
			Skeleton            				= eumthlnd_skl
    End

		ModelConditionState           = COMING_OUT_OF_FACTORY
			Model                       = auexileM_skn
			Skeleton           			    = eumthlnd_skl
		End

;;================== ANIMATIONS =================================================================        

AnimationState                        = PASSENGER
            Animation                        = Grabbed
                AnimationName                = eumthlnd_FLYA
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = THROWN_PROJECTILE
            Animation                       = FlyA
                AnimationName                   = eumthlnd_FLYA
                AnimationMode               = LOOP
            End
        End
        AnimationState                        = FREEFALL
            Animation                        = Falling
                AnimationName                = eumthlnd_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End
	AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A
	 	Animation = ATKC
			AnimationName		= EUMthlnd_ATKA
			AnimationMode		= LOOP
			UseWeaponTiming		= Yes	
		End
	End
	AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
		Animation = ATKC
			AnimationName		= EUMthlnd_ATKA
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes
		End
		StateName = PikeUp
	End
    AnimationState = ALTERNATE_FORMATION MOVING BACKING_UP
		Animation = Moving_Back
			AnimationName = EUMthlnd_BAKA	
		    AnimationMode = LOOP
		End	
    End
	AnimationState = ALTERNATE_FORMATION MOVING
	 	Animation = ATKC
			AnimationName		= EUMthlnd_RUNB
			AnimationMode		= LOOP
		End
	End
	AnimationState						= DYING SPLATTED
 		Animation						= Splat
			AnimationName				= EUMthlnd_LNDA
			AnimationMode				= ONCE
		End
    End
     AnimationState = ALTERNATE_FORMATION DYING AFLAME
		Animation = Flaming_Death
			AnimationName = EUMthlnd_MFDA
		    AnimationMode = ONCE
		End
    End
    AnimationState =  ALTERNATE_FORMATION DYING 
		Animation = Dying_1
			AnimationName = EUMthlnd_DIEA
			AnimationMode = ONCE
			AnimationBlendTime			= 15
		End
		Animation = Dying_2
			AnimationName = EUMthlnd_DIEB
			AnimationMode = ONCE
			AnimationBlendTime			= 15
		End
		Animation = Dying_3
			AnimationName = EUMthlnd_DIEC
			AnimationMode = ONCE
			AnimationBlendTime			= 15
		End
    End
	 AnimationState = ALTERNATE_FORMATION
         Animation = ATKC
            AnimationName        = EUMthlnd_PTLB
            AnimationMode        = LOOP
        End
        StateName = STATE_Planted
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev ~= "STATE_Planted"	and Prev ~= "Trans_Up_To_Down" then CurDrawableSetTransitionAnimState("Trans_Up_To_Down") return end
		EndScript
    End
        AnimationState                        = STUNNED_FLAILING 
            Animation                       = FlyA
                AnimationName               = eumthlnd_FLYA
                AnimationMode               = LOOP
            End
        End
        AnimationState                         = DYING SPLATTED
            Animation                         = Splatted_On_Ground
                AnimationName                 = eumthlnd_LNDA
                AnimationMode                 = ONCE
            End
            EnteringStateFX                    = FX_OrcHitGround
        End
        AnimationState                        = DYING AFLAME
            Animation                        = MFDA
                AnimationName                = eumthlnd_MFDA
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = DYING
            Animation                        = DIEB
                AnimationName                = eumthlnd_DIEA
                AnimationMode                = ONCE
            End
            Animation                        = DIEC
                AnimationName                = eumthlnd_DIEB
                AnimationMode                = ONCE
            End
            Animation                        = DIED
                AnimationName                = eumthlnd_DIEC
                AnimationMode                = ONCE
            End
        End
        AnimationState                        = STUNNED_STANDING_UP
            Animation                        = GTPA
                AnimationName                = eumthlnd_GTPA
                AnimationMode                = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End
        AnimationState            =     STUNNED
            Animation            =     Slatted_On_Ground
            AnimationName                 = eumthlnd_LNDA
                AnimationMode                 = ONCE
            End
            EnteringStateFX                    = FX_OrcHitGround
       End
	   
	   ; "building" with huge hammer
		AnimationState = ACTIVELY_CONSTRUCTING DEPLOYED ; building from too far to smack his hammer
			Animation				=	Stand
				AnimationName		=	IUSaruman_SKL.eumthlnd_idla 
				AnimationMode		=	LOOP
			End
		End

		
		AnimationState				= ACTIVELY_CONSTRUCTING
			Animation				= WRKA
				AnimationName		= IUSaruman_SKL.eumthlnd_ATKA
				AnimationMode		= ONCE
			End
			Flags					= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End	
	   
        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
			Animation           = RunAndFire
                AnimationName       = eumthlnd_ATRA
                AnimationMode       = LOOP
            End
            ParticleSysBone                = None InfantryDustTrails
            Flags               = RANDOMSTART  
        End
        AnimationState                        = MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
            Animation                    = TerrorFromTheSky
                AnimationName            = eumthlnd_RUNE
                AnimationMode            = LOOP
            End
            ParticleSysBone                = None InfantryDustTrails
            Flags = RANDOMSTART
        End
        AnimationState                        = MOVING EMOTION_TERROR
            Animation                        = TerrorFromTheSky
                AnimationName                = eumthlnd_RUNE
                AnimationMode                = ONCE
            End
            ParticleSysBone                = None InfantryDustTrails
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End
        AnimationState                        = MOVING BACKING_UP
            Animation                        = BAKA
                AnimationName                = eumthlnd_BAKA
                AnimationMode                = LOOP
            End
            Animation                        = BAKB
                AnimationName                = eumthlnd_BAKB
                AnimationMode                = LOOP
            End
            Flags = RANDOMSTART
        End
        AnimationState                        = MOVING PANICKING
            Animation                        = MFDA
                AnimationName                = eumthlnd_MFDA
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
            ParticleSysBone                = None InfantryDustTrails
        End
		AnimationState                        = MOVING ATTACKING
            Animation = TrotAndFire
				AnimationName = EUMthlnd_RUNC
				AnimationMode = LOOP
			End
			Animation = TrotAndFire2
				AnimationName = EUMthlnd_RUND
				AnimationMode = LOOP
			End
            Flags                            = RANDOMSTART
            ParticleSysBone                = None InfantryDustTrails
        End
		AnimationState                        = MOVING
            ShareAnimation                    = Yes
			Animation = RUNA
				AnimationName = EUMthlnd_RUNA
				AnimationMode = LOOP
			End
			Animation = RUNB
				AnimationName = EUMthlnd_RUNB
				AnimationMode = LOOP
			End
            Flags                            = RANDOMSTART
            ParticleSysBone                = None InfantryDustTrails
        End
        AnimationState                        = EMOTION_UNCONTROLLABLY_AFRAID
            Animation                        = FERA
                AnimationName                = eumthlnd_FERA
                AnimationMode                = LOOP
            End 
        End
        AnimationState                        = FIRING_OR_PREATTACK_A
           Animation                        = ATA1
                AnimationName                = eumthlnd_ATKA
                AnimationMode                = ONCE
            End
			Animation                        = ATA2
                AnimationName                = eumthlnd_ATKB
                AnimationMode                = ONCE
            End
			Animation                        = ATA3
                AnimationName                = eumthlnd_ATKC
                AnimationMode                = ONCE
            End
			Flags                            = RANDOMSTART
            ParticleSysBone                = None MeleeDust
        End
        AnimationState                        = ATTACKING
            Animation                        = ALERT_1
                AnimationName                = eumthlnd_IDLA
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = HIT_REACTION
            Animation                        = HITB
                AnimationName                = eumthlnd_HITA
                AnimationMode                = ONCE
            End
        End
        AnimationState                        = EMOTION_ALERT EMOTION_AFRAID
            Animation                        = APPB
                AnimationName                = eumthlnd_PNTB
                AnimationMode                = ONCE
            End
            Flags                            = RANDOMSTART
        End
        AnimationState                        = EMOTION_AFRAID
            Animation                        = FERA
                AnimationName                = eumthlnd_FERA
                AnimationMode                = LOOP
            End 
        End
        AnimationState                        = EMOTION_POINTING
            Animation                        = Pointing1
                AnimationName                = eumthlnd_PNTA
                AnimationMode                = LOOP
            End
        End
		AnimationState                        = EMOTION_TAUNTING
            Animation                        = Taunting1
                AnimationName                = eumthlnd_TNTA
                AnimationMode                = ONCE
            End
            Animation                        = Taunting2
                AnimationName                = eumthlnd_TNTB
                AnimationMode                = ONCE
            End
            Flags                            = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End
        AnimationState                        = EMOTION_CELEBRATING
            Animation                        = CHRB
                AnimationName                = eumthlnd_CHRA
                AnimationMode                = ONCE
            End
            Animation                        = CHRC
                AnimationName                = eumthlnd_CHRB
                AnimationMode                = ONCE
            End
			Animation                        = CHRC
                AnimationName                = eumthlnd_CHRC
                AnimationMode                = ONCE
            End
            Flags                            =    RESTART_ANIM_WHEN_COMPLETE
        End
		AnimationState                        = EMOTION_ALERT
            Animation                        = ALERT_1
                AnimationName                = eumthlnd_IDLA
                AnimationMode                = LOOP
                AnimationPriority            = 10
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End
        AnimationState        = SELECTED
            StateName           = STATE_Selected
            Animation           = ATNB
                AnimationName     = eumthlnd_ATNB
                AnimationMode     = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" 
                then 
                    CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") 
                end
                if CurDrawableModelcondition("ATTACKING")
                then
                    return "IDLA"
                else
                    return "ATNA"
                end
            EndScript
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
            EndScript
        End
        AnimationState                = USER_3
            StateName                = STATE_User_3
            Animation                = GUARD_STANCE
                AnimationName        = eumthlnd_IDLA
                AnimationMode        = LOOP
            End
        End	
        IdleAnimationState				= 
            StateName                = STATE_Idle
            Animation                = IDLB
                AnimationName       = eumthlnd_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 20
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLF
                AnimationName       = eumthlnd_IDLC
                AnimationMode       = ONCE
                AnimationPriority   = 1
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLG
                AnimationName       = eumthlnd_IDLD
                AnimationMode       = ONCE
                AnimationPriority   = 1
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLJ
                AnimationName       = eumthlnd_IDLE
                AnimationMode       = ONCE
                AnimationPriority   = 1
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End       
			Flags                    = RESTART_ANIM_WHEN_COMPLETE  
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript
        End
        TransitionState       = TRANS_TO_USER_1
            Animation
                AnimationName     = eumthlnd_RCTA
                AnimationMode     = ONCE
            End
        End
        TransitionState       = TRANS_IdleToSelected
            Animation           = ATNA
                AnimationName     = eumthlnd_ATNA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.9 1.0
            End
        End
        TransitionState        = TRANS_SelectedToIdle
            Animation            = ATND
                AnimationName    = eumthlnd_ATNC
                AnimationMode    = ONCE
                AnimationSpeedFactorRange = 0.9 1.0
            End
        End
		TransitionState = Trans_Down_To_Up
			Animation = Transition
				AnimationName = EUMthlnd_PLTC
				AnimationMode = ONCE
			End
		End
		TransitionState = Trans_Up_To_Down
			Animation = Transition
				AnimationName = EUMthlnd_PLTA
				AnimationMode = ONCE
			End
		End
		TransitionState = TRANS_BS_Normal
			Animation = Transition
				AnimationName				= EUMthlnd_ATNA
				AnimationMode				= ONCE
				AnimationBlendTime			= 10
				AnimationMustCompleteBlend	= yes
			End
		End
		TransitionState = TRANS_SR_Alt
		End
		TransitionState = TRANS_RS_Alt
		End
		TransitionState = TRANS_BS_Alt
		End
		TransitionState = TRANS_SB_Alt
		End
		TransitionState = TRANS_BR_Alt
		End
		TransitionState = TRANS_RB_Alt
		End
	End
    
	; ***DESIGN parameters ***
	Side 		                  = Rivendell
	EditorSorting 	          = UNIT
	ThreatLevel 	            = 1.0
	ThingClass 	              = HORDE_UNIT
	CommandPoints 	          = 0

	TransportSlotCount        = 1
  
	WeaponSet
		Conditions              = None 
		Weapon                  = PRIMARY GondorTowerShieldGuardSword ;NoldorExileSpear
	End
	
	ArmorSet
		Conditions      	      = None
		Armor           	      = TowerGuardHeavyArmor
		DamageFX        	      = NormalDamageFX
	End
	
	ArmorSet
			Conditions            = PLAYER_UPGRADE
			Armor                 = PikemenHeavyArmor
			DamageFX              = NormalDamageFX	
	End

	; This is required so that the build phase lasts as long as the anim.
	BuildFadeInOnCreateTime   = 0 ; 2.0 ;temporarily set to 0

	VisionRange               = M_VISION_STANDARD_MELEE
	ShroudClearingRange       = M_SHROUD_CLEAR_STANDARD

	BountyValue               = M_GONDOR_TOWERGUARD_BOUNTY_VALUE
	DisplayName               = OBJECT:NoldorExile
	CrushableLevel            = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel              = 0 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles
 	CrushRevengeWeapon        = BasicInfantryCrushRevenge

  CommandSet                = GenericCommandSet

 
  ; *** AUDIO Parameters ***;
	VoiceAttack 							          = NoSound ;ElfSentryVoiceAttack
	VoiceAttackAir							        = NoSound ;ElfSentryVoiceAttack
	VoiceAttackCharge 						      = NoSound ;ElfSentryVoiceAttackCharge
	VoiceAttackMachine 						      = NoSound ;ElfSentryVoiceAttack
	VoiceAttackStructure 					      = NoSound ;ElfSentryVoiceAttackBuilding
	VoiceCreated 							          = NoSound ;ElfSentryVoiceSalute
	VoiceFullyCreated						        = NoSound ;ElfSentryVoiceSalute
	VoiceGuard								          = NoSound ;ElfSentryVoiceMove
	VoiceMove 								          = NoSound ;ElfSentryVoiceMove
	VoiceMoveToCamp 						        = NoSound ;ElfSentryVoiceMoveCamp
	VoiceMoveWhileAttacking 				    = NoSound ;ElfSentryVoiceDisengage
	VoicePriority							          = 40      
	VoiceRetreatToCastle 					      = NoSound ;ElfSentryVoiceRetreat
	VoiceSelect 							          = NoSound ;ElfSentryVoiceSelectMS
	VoiceSelectBattle  						      = NoSound ;ElfSentryVoiceSelectBattle
	
	VoiceEnterStateAttack 					    = NoSound ;ElfSentryVoiceEnterStateAttack
	VoiceEnterStateAttackCharge 			  = NoSound ;ElfSentryVoiceEnterStateAttackCharge
	VoiceEnterStateAttackStructure	 		= NoSound ;ElfSentryVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackMachine 			  = NoSound ;ElfSentryVoiceEnterStateAttackBuilding
	VoiceEnterStateMove 					      = NoSound ;ElfSentryVoiceEnterStateMove
	VoiceEnterStateMoveToCamp 				  = NoSound ;ElfSentryVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking		= NoSound ;ElfSentryVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle	 		= NoSound ;ElfSentryVoiceEnterStateRetreat

	UnitSpecificSounds
		VoiceGarrison         						= NoSound ;ElfSentryVoiceMoveGarrison
		;VoiceMoveToTrees									= NoSound ;ElfSentryVoiceMoveForest				
		;VoiceEnterStateMoveToTrees				= NoSound ;ElfSentryVoiceEnterStateMoveForest		
	End

	;ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
		;ModelCondition = Required:EMOTION_CELEBRATING	Excluded:DYING ENGAGED	Sound:NoSound ;EmotionElfCompilationVoxCheerSinglesLoop	;MOVING ATTACKING 
		;ModelCondition = Required:EMOTION_TAUNTING		Excluded:DYING ENGAGED	Sound:NoSound ;EmotionElfCompilationVoxTauntSinglesLoop	;MOVING ATTACKING
	;End

	EvaEventDamagedOwner                  = UnitUnderAttack
	
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
			Key                               = Human Unit Infantry Gondor_Guard
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:BodyFallOrc			Animation:EUMthlnd_SKL.EUMthlnd_DIEC	Frames:56
		AnimationSound = Sound:BodyFallOrc			Animation:EUMthlnd_SKL.EUMthlnd_DTHA	Frames:23
		AnimationSound = Sound:BodyFallOrc			Animation:EUMthlnd_SKL.EUMthlnd_DTHB	Frames:34
		AnimationSound = Sound:BodyFallOrc			Animation:EUMthlnd_SKL.EUMthlnd_LNDD	Frames:2

		AnimationSound = Sound:BodyFallOrc			Animation:EUMTHLND_SKL.EUMTHLND_LNDA	Frames:6
		AnimationSound = Sound:BodyFallGeneric1		Animation:EUMTHLND_SKL.EUMTHLND_DIEA	Frames:50
		AnimationSound = Sound:BodyFallGeneric1		Animation:EUMTHLND_SKL.EUMTHLND_DIEB	Frames:75
		AnimationSound = Sound:BodyFallGeneric1		Animation:EUMTHLND_SKL.EUMTHLND_DIEC	Frames:53
		AnimationSound = Sound:BodyFallGeneric1		Animation:EUMTHLND_SKL.EUMTHLND_PLTA	Frames:18
	End

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP ATTACK_NEEDS_LINE_OF_SIGHT SUMMONED
 
	Body = PorcupineFormationBodyModule ModuleTag_porcupineFormation
			CheerRadius                      = M_EMOTION_CHEER_RADIUS
			MaxHealth                        = M_GONDOR_TOWERGUARD_HEALTH
			MaxHealthDamaged                 = M_GONDOR_TOWERGUARD_HEALTH_DAMAGED
			CrushDamageWeaponTemplate        = TowerGuardPorcupineCrushDamage
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
			AutoAcquireEnemiesWhenIdle       = Yes ATTACK_BUILDINGS
			MoodAttackCheckRate              = 500
			AILuaEventsList                  = GondorFighterFunctions ;NoldorExilesFunctions
			AttackPriority                   = AttackPriority_Spearman
	End

  	;Heavy Armor
	; Behavior                           = ArmorUpgrade ArmorUpgradeModuleTag
		; TriggeredBy 										 = Upgrade_ElvenHeavyArmor
		; ArmorSetFlag										 = PLAYER_UPGRADE
	; End
		
	LocomotorSet
		Locomotor                          = HumanLocomotor
		Condition                          = SET_NORMAL
		Speed                              = M_NORMAL_GOOD_INFANTRY_MEMBER_SPEED		
	End

	Behavior = PhysicsBehavior ModuleTag_04
			GravityMult                			 = 1.0
			ShockStunnedTimeLow        			 = 1400
			ShockStunnedTimeHigh       			 = 2400
			ShockStandingTime          			 = 1333
	End
  
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes                         = ALL -KNOCKBACK -FADED
		SinkDelay                          = 3000
		SinkRate                           = 0.40     ; in Dist/Sec
		DestructionDelay                   = 8000
		;Sound                              = INITIAL NoldorElfGenericVoiceDie
	End
	
	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact ... )
		DeathTypes                         = NONE +KNOCKBACK -FADED
		SinkDelay                          = 3000
		SinkRate                           = 0.40     ; in Dist/Sec
		DestructionDelay                   = 8000
		;Sound                              = INITIAL NoldorElfGenericVoiceDie
	End
	
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
		MinLifetime                      	 = 75000 ; 180000
		MaxLifetime                      	 = 75000 ; 180000
		DeathType                        	 = FADED
	End
	
	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
			DeathTypes                       = NONE +FADED
			FadeDelay                        = 0
			FadeTime                         = 8000
			DestructionDelay                 = 8000
			DeathFlags                       = DEATH_2
			FX                               = INITIAL FX_RohirrimAlliesUnsummon
	End
 
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	 
	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight                        = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight                       = 24
		FirstPercentIndent                 = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent                = 70%
		TumbleRandomly                     = Yes
		CrushStyle                         = Yes ; I don't detonate, I just hit
		DieOnImpact                        = Yes
		BounceCount                        = 1   ; When I hit the ground, I'll arc again
		BounceDistance                     = 40 ; this far
		BounceFirstHeight                  = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight                 = 24
		BounceFirstPercentIndent           = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent          = 80%
		GroundHitFX                        = FX_ThrownRockGroundHit
		GroundBounceFX                     = FX_ThrownRockBounceHit
	End
  
	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End
 
	Geometry                    = CYLINDER
	GeometryMajorRadius         = 8.0
	GeometryMinorRadius         = 8.0
	GeometryHeight              = 19.2
	GeometryIsSmall             = Yes

	Shadow                      = SHADOW_DECAL
	ShadowSizeX                 = 21;
	ShadowSizeY                 = 21;
	ShadowTexture               = ShadowI;
End

;------------------------------------- FEMALE VARIANT

ChildObject RivendellNoldorExileF_Summoned RivendellNoldorExileM_Summoned
  ; *** ART Parameters ***
  Scale = 1.04

  ; This is required for garrisoned objects - please put in all objects.
 	ButtonImage			       = uirivexile
	SelectPortrait         = uprivexile
  
  Draw = W3DHordeModelDraw ModuleTag_01
		OkToChangeModelColor     = Yes
		StaticModelLODMode       = Yes
	
    DefaultModelConditionState
      Model                  = auexileF_skn
			Skeleton               = eumthlnd_skl
    End

		ModelConditionState = COMING_OUT_OF_FACTORY
			Model                  = auexileF_skn
			Skeleton               = eumthlnd_skl
		End

;;================== ANIMATIONS =================================================================        

AnimationState                        = PASSENGER
            Animation                        = Grabbed
                AnimationName                = eumthlnd_FLYA
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = THROWN_PROJECTILE
            Animation                       = FlyA
                AnimationName                   = eumthlnd_FLYA
                AnimationMode               = LOOP
            End
        End
        AnimationState                        = FREEFALL
            Animation                        = Falling
                AnimationName                = eumthlnd_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End
	AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A
	 	Animation = ATKC
			AnimationName		= EUMthlnd_ATKA
			AnimationMode		= LOOP
			UseWeaponTiming		= Yes	
		End
	End
	AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
		Animation = ATKC
			AnimationName		= EUMthlnd_ATKA
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes
		End
		StateName = PikeUp
	End
    AnimationState = ALTERNATE_FORMATION MOVING BACKING_UP
		Animation = Moving_Back
			AnimationName = EUMthlnd_BAKA	
		    AnimationMode = LOOP
		End	
    End
	AnimationState = ALTERNATE_FORMATION MOVING
	 	Animation = ATKC
			AnimationName		= EUMthlnd_RUNB
			AnimationMode		= LOOP
		End
	End
	AnimationState						= DYING SPLATTED
 		Animation						= Splat
			AnimationName				= EUMthlnd_LNDA
			AnimationMode				= ONCE
		End
    End
     AnimationState = ALTERNATE_FORMATION DYING AFLAME
		Animation = Flaming_Death
			AnimationName = EUMthlnd_MFDA
		    AnimationMode = ONCE
		End
    End
    AnimationState =  ALTERNATE_FORMATION DYING 
		Animation = Dying_1
			AnimationName = EUMthlnd_DIEA
			AnimationMode = ONCE
			AnimationBlendTime			= 15
		End
		Animation = Dying_2
			AnimationName = EUMthlnd_DIEB
			AnimationMode = ONCE
			AnimationBlendTime			= 15
		End
		Animation = Dying_3
			AnimationName = EUMthlnd_DIEC
			AnimationMode = ONCE
			AnimationBlendTime			= 15
		End
    End
	 AnimationState = ALTERNATE_FORMATION
         Animation = ATKC
            AnimationName        = EUMthlnd_PTLB
            AnimationMode        = LOOP
        End
        StateName = STATE_Planted
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev ~= "STATE_Planted"	and Prev ~= "Trans_Up_To_Down" then CurDrawableSetTransitionAnimState("Trans_Up_To_Down") return end
		EndScript
    End
        AnimationState                        = STUNNED_FLAILING 
            Animation                       = FlyA
                AnimationName               = eumthlnd_FLYA
                AnimationMode               = LOOP
            End
        End
        AnimationState                         = DYING SPLATTED
            Animation                         = Splatted_On_Ground
                AnimationName                 = eumthlnd_LNDA
                AnimationMode                 = ONCE
            End
            EnteringStateFX                    = FX_OrcHitGround
        End
        AnimationState                        = DYING AFLAME
            Animation                        = MFDA
                AnimationName                = eumthlnd_MFDA
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = DYING
            Animation                        = DIEB
                AnimationName                = eumthlnd_DIEA
                AnimationMode                = ONCE
            End
            Animation                        = DIEC
                AnimationName                = eumthlnd_DIEB
                AnimationMode                = ONCE
            End
            Animation                        = DIED
                AnimationName                = eumthlnd_DIEC
                AnimationMode                = ONCE
            End
        End
        AnimationState                        = STUNNED_STANDING_UP
            Animation                        = GTPA
                AnimationName                = eumthlnd_GTPA
                AnimationMode                = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End
        AnimationState            =     STUNNED
            Animation            =     Slatted_On_Ground
            AnimationName                 = eumthlnd_LNDA
                AnimationMode                 = ONCE
            End
            EnteringStateFX                    = FX_OrcHitGround
       End
	   
	   ; "building" with huge hammer
		AnimationState = ACTIVELY_CONSTRUCTING DEPLOYED ; building from too far to smack his hammer
			Animation				=	Stand
				AnimationName		=	IUSaruman_SKL.eumthlnd_idla 
				AnimationMode		=	LOOP
			End
		End

		
		AnimationState				= ACTIVELY_CONSTRUCTING
			Animation				= WRKA
				AnimationName		= IUSaruman_SKL.eumthlnd_ATKA
				AnimationMode		= ONCE
			End
			Flags					= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End	
	   
        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
			Animation           = RunAndFire
                AnimationName       = eumthlnd_ATRA
                AnimationMode       = LOOP
            End
            ParticleSysBone                = None InfantryDustTrails
            Flags               = RANDOMSTART  
        End
        AnimationState                        = MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
            Animation                    = TerrorFromTheSky
                AnimationName            = eumthlnd_RUNE
                AnimationMode            = LOOP
            End
            ParticleSysBone                = None InfantryDustTrails
            Flags = RANDOMSTART
        End
        AnimationState                        = MOVING EMOTION_TERROR
            Animation                        = TerrorFromTheSky
                AnimationName                = eumthlnd_RUNE
                AnimationMode                = ONCE
            End
            ParticleSysBone                = None InfantryDustTrails
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End
        AnimationState                        = MOVING BACKING_UP
            Animation                        = BAKA
                AnimationName                = eumthlnd_BAKA
                AnimationMode                = LOOP
            End
            Animation                        = BAKB
                AnimationName                = eumthlnd_BAKB
                AnimationMode                = LOOP
            End
            Flags = RANDOMSTART
        End
        AnimationState                        = MOVING PANICKING
            Animation                        = MFDA
                AnimationName                = eumthlnd_MFDA
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
            ParticleSysBone                = None InfantryDustTrails
        End
		AnimationState                        = MOVING ATTACKING
            Animation = TrotAndFire
				AnimationName = EUMthlnd_RUNC
				AnimationMode = LOOP
			End
			Animation = TrotAndFire2
				AnimationName = EUMthlnd_RUND
				AnimationMode = LOOP
			End
            Flags                            = RANDOMSTART
            ParticleSysBone                = None InfantryDustTrails
        End
		AnimationState                        = MOVING
            ShareAnimation                    = Yes
			Animation = RUNA
				AnimationName = EUMthlnd_RUNA
				AnimationMode = LOOP
			End
			Animation = RUNB
				AnimationName = EUMthlnd_RUNB
				AnimationMode = LOOP
			End
            Flags                            = RANDOMSTART
            ParticleSysBone                = None InfantryDustTrails
        End
        AnimationState                        = EMOTION_UNCONTROLLABLY_AFRAID
            Animation                        = FERA
                AnimationName                = eumthlnd_FERA
                AnimationMode                = LOOP
            End 
        End
        AnimationState                        = FIRING_OR_PREATTACK_A
           Animation                        = ATA1
                AnimationName                = eumthlnd_ATKA
                AnimationMode                = ONCE
            End
			Animation                        = ATA2
                AnimationName                = eumthlnd_ATKB
                AnimationMode                = ONCE
            End
			Animation                        = ATA3
                AnimationName                = eumthlnd_ATKC
                AnimationMode                = ONCE
            End
			Flags                            = RANDOMSTART
            ParticleSysBone                = None MeleeDust
        End
        AnimationState                        = ATTACKING
            Animation                        = ALERT_1
                AnimationName                = eumthlnd_IDLA
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = HIT_REACTION
            Animation                        = HITB
                AnimationName                = eumthlnd_HITA
                AnimationMode                = ONCE
            End
        End
        AnimationState                        = EMOTION_ALERT EMOTION_AFRAID
            Animation                        = APPB
                AnimationName                = eumthlnd_PNTB
                AnimationMode                = ONCE
            End
            Flags                            = RANDOMSTART
        End
        AnimationState                        = EMOTION_AFRAID
            Animation                        = FERA
                AnimationName                = eumthlnd_FERA
                AnimationMode                = LOOP
            End 
        End
        AnimationState                        = EMOTION_POINTING
            Animation                        = Pointing1
                AnimationName                = eumthlnd_PNTA
                AnimationMode                = LOOP
            End
        End
		AnimationState                        = EMOTION_TAUNTING
            Animation                        = Taunting1
                AnimationName                = eumthlnd_TNTA
                AnimationMode                = ONCE
            End
            Animation                        = Taunting2
                AnimationName                = eumthlnd_TNTB
                AnimationMode                = ONCE
            End
            Flags                            = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End
        AnimationState                        = EMOTION_CELEBRATING
            Animation                        = CHRB
                AnimationName                = eumthlnd_CHRA
                AnimationMode                = ONCE
            End
            Animation                        = CHRC
                AnimationName                = eumthlnd_CHRB
                AnimationMode                = ONCE
            End
			Animation                        = CHRC
                AnimationName                = eumthlnd_CHRC
                AnimationMode                = ONCE
            End
            Flags                            =    RESTART_ANIM_WHEN_COMPLETE
        End
		AnimationState                        = EMOTION_ALERT
            Animation                        = ALERT_1
                AnimationName                = eumthlnd_IDLA
                AnimationMode                = LOOP
                AnimationPriority            = 10
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End
        AnimationState        = SELECTED
            StateName           = STATE_Selected
            Animation           = ATNB
                AnimationName     = eumthlnd_ATNB
                AnimationMode     = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" 
                then 
                    CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") 
                end
                if CurDrawableModelcondition("ATTACKING")
                then
                    return "IDLA"
                else
                    return "ATNA"
                end
            EndScript
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
            EndScript
        End
        AnimationState                = USER_3
            StateName                = STATE_User_3
            Animation                = GUARD_STANCE
                AnimationName        = eumthlnd_IDLA
                AnimationMode        = LOOP
            End
        End	
        IdleAnimationState				= 
            StateName                = STATE_Idle
            Animation                = IDLB
                AnimationName       = eumthlnd_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 20
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLF
                AnimationName       = eumthlnd_IDLC
                AnimationMode       = ONCE
                AnimationPriority   = 1
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLG
                AnimationName       = eumthlnd_IDLD
                AnimationMode       = ONCE
                AnimationPriority   = 1
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLJ
                AnimationName       = eumthlnd_IDLE
                AnimationMode       = ONCE
                AnimationPriority   = 1
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End       
			Flags                    = RESTART_ANIM_WHEN_COMPLETE  
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript
        End
        TransitionState       = TRANS_TO_USER_1
            Animation
                AnimationName     = eumthlnd_RCTA
                AnimationMode     = ONCE
            End
        End
        TransitionState       = TRANS_IdleToSelected
            Animation           = ATNA
                AnimationName     = eumthlnd_ATNA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.9 1.0
            End
        End
        TransitionState        = TRANS_SelectedToIdle
            Animation            = ATND
                AnimationName    = eumthlnd_ATNC
                AnimationMode    = ONCE
                AnimationSpeedFactorRange = 0.9 1.0
            End
        End
		TransitionState = Trans_Down_To_Up
			Animation = Transition
				AnimationName = EUMthlnd_PLTC
				AnimationMode = ONCE
			End
		End
		TransitionState = Trans_Up_To_Down
			Animation = Transition
				AnimationName = EUMthlnd_PLTA
				AnimationMode = ONCE
			End
		End
		TransitionState = TRANS_BS_Normal
			Animation = Transition
				AnimationName				= EUMthlnd_ATNA
				AnimationMode				= ONCE
				AnimationBlendTime			= 10
				AnimationMustCompleteBlend	= yes
			End
		End
		TransitionState = TRANS_SR_Alt
		End
		TransitionState = TRANS_RS_Alt
		End
		TransitionState = TRANS_BS_Alt
		End
		TransitionState = TRANS_SB_Alt
		End
		TransitionState = TRANS_BR_Alt
		End
		TransitionState = TRANS_RB_Alt
		End
	End
  
	Behavior                 = SlowDeathBehavior ModuleTag_05
		DeathTypes             = ALL -KNOCKBACK -FADED
		SinkDelay              = 3000
		SinkRate               = 0.40     ; in Dist/Sec
		DestructionDelay       = 8000
		;Sound                  = INITIAL ElfGenericFemaleVoiceDie
	End
	
	Behavior                 = SlowDeathBehavior ModuleTag_07
		DeathTypes             = NONE +KNOCKBACK -FADED
		SinkDelay              = 3000
		SinkRate               = 0.40     ; in Dist/Sec
		DestructionDelay       = 8000
		;Sound                  = INITIAL ElfGenericFemaleVoiceDie
	End
	
End
;-------------------------------------
