; ------------------------------------------------------------------------------
;
;    Ranger.ini
;
; ------------------------------------------------------------------------------
; aka Gondor Ranger
Object DunedainRanger
	; *** ART Parameters ***

	SelectPortrait                      = uprivdunedain
	ButtonImage                         = uirivdunedain

	Draw = W3DHordeModelDraw ModuleTag_01
		OkToChangeModelColor              = Yes	
		StaticModelLODMode                = Yes
		ParticlesAttachedToAnimatedBones  = Yes
		
; ------------------------------------------------------------------------------ MODELS 
		DefaultModelConditionState
			Model							              = audunedain_bow
			Model 							            = audunhood_bow  ExtraMesh:Yes
			WeaponLaunchBone				        = PRIMARY ARROW
			;WeaponLaunchBone				        = TERTIARY ARROW
		End
		
		ModelConditionState			          = WEAPONSET_TOGGLE_1 RIDER1
			Model							              = audunedain_spr
			Model 							            = audunhood_spr  ExtraMesh:Yes
		End	
		
		ModelConditionState			          =	WEAPONSET_TOGGLE_1
			Model							              = audunedain_swd
			Model 							            = audunhood_swd  ExtraMesh:Yes
		End
		
; ------------------------------------------------------------------------------ ANIMATIONS  		 
; ----------------------------------  DYING 
; --- Flying through the air.
		AnimationState                    = STUNNED_FLAILING WEAPONSET_TOGGLE_1
			StateName                       = STATE_Sword
			Animation                       = GUFaramir_FLYB
				AnimationName                 = GUFaramir_SKL.GUFaramir_FLYB
				AnimationMode                 = LOOP
			End
			BeginScript
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
			Flags                           = RANDOMSTART
		End
		
		AnimationState                    = STUNNED_FLAILING 
			StateName                       = STATE_Bow
			Animation                       = GUFaramir_FLYA
				AnimationName                 = GUFaramir_SKL.GUFaramir_FLYA
				AnimationMode                 = LOOP
			End
			BeginScript

			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
			Flags                           = RANDOMSTART
		End
		
; --- Dying anims
		AnimationState                    = DYING SPLATTED WEAPONSET_TOGGLE_1
			StateName                       = STATE_Sword
			Animation                       = GUFaramir_LNDB
				AnimationName                 = GUFaramir_SKL.GUFaramir_LNDB
				AnimationMode                 = ONCE
			End
			BeginScript
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End

		AnimationState                    = DYING SPLATTED
			StateName                       = STATE_Bow
			Animation                       = GUFaramir_LNDA
				AnimationName                 = GUFaramir_SKL.GUFaramir_LNDA
				AnimationMode                 = ONCE
			End
			BeginScript

			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End
		
		; with sword
		AnimationState                    = DYING WEAPONSET_TOGGLE_1 DEATH_2	;WEAPONSTATE_CLOSE_RANGE
			StateName                       = STATE_Sword

			Animation                       = GUFaramir_IDLA
				AnimationName                 = GUFaramir_SKL.GUFaramir_IDLE
				AnimationMode                 = ONCE
			End
			BeginScript
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End
		
		; with bow
		AnimationState                    = DYING DEATH_2
			StateName                       = STATE_Bow
			Animation                       = GUFaramir_IDLB
				AnimationName                 = GUFaramir_SKL.GUFaramir_IDLC
				AnimationMode                 = ONCE
			End
			BeginScript

			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")			
			EndScript
		End
		AnimationState                    = DYING WEAPONSET_TOGGLE_1	;WEAPONSTATE_CLOSE_RANGE
			StateName                       = STATE_Sword

			Animation                       = GUFaramir_DIEA
				AnimationName                 = GUFaramir_SKL.GUFaramir_DIEA
				AnimationMode                 = ONCE
			End
			BeginScript
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
			
			Animation                       = GUFaramir_DIEB
				AnimationName                 = GUFaramir_SKL.GUFaramir_DIEB
				AnimationMode                 = ONCE
			End
			BeginScript
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End
		
		; with bow
		AnimationState                    = DYING
			StateName                       = STATE_Bow
			Animation                       = GUFaramir_DIEC
				AnimationName                 = GUFaramir_SKL.GUFaramir_DIEC
				AnimationMode                 = ONCE
			End
			BeginScript

			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")			
			EndScript
		End


; --- Stunned anims


		AnimationState                    = STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
			StateName                       = STATE_Sword
			Animation                       = GUFaramir_GTPB
				AnimationName                 = GUFaramir_SKL.GUFaramir_GTPB
				AnimationMode                 = ONCE
				AnimationSpeedFactorRange     = 1.5 1.5
			End
			BeginScript
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End
		
		AnimationState                    = STUNNED_STANDING_UP
			StateName                       = STATE_Bow
			Animation                       = GUFaramir_GTPA
				AnimationName                 = GUFaramir_SKL.GUFaramir_GTPA
				AnimationMode                 = ONCE
				AnimationSpeedFactorRange     = 1.5 1.5
			End
			BeginScript

			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")			
			EndScript
		End

		AnimationState                    = STUNNED WEAPONSET_TOGGLE_1
			StateName                       = STATE_Sword
			
			Animation                       = GUFaramir_LNDB
				AnimationName                 = GUFaramir_SKL.GUFaramir_LNDB
				AnimationMode                 = ONCE
			End
			BeginScript
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End

		AnimationState                    = STUNNED 
			StateName                       = STATE_Bow
			
			Animation                       = GUFaramir_LNDA
				AnimationName                 = GUFaramir_SKL.GUFaramir_LNDA
				AnimationMode                 = ONCE
			End
			BeginScript

			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")			
			EndScript
		End				

;;------------------ ATTACKING SWORD/SPEAR--------------------------------------------------------------------
	AnimationState                      = MOVING WEAPONSET_TOGGLE_1 FIRING_OR_PREATTACK_A RIDER1
			Animation                       = TrotAndFire
				AnimationName                 = GUFaramir_SKL.gudundan_atra
				AnimationMode                 = LOOP
				AnimationSpeedFactorRange     = 1.0 1.3
			End
			Flags                           = RANDOMSTART
			StateName                       = RunAndSwing
			BeginScript
				CurDrawableHideSubObject("arrow")
			EndScript
		End
		AnimationState                    = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1 RIDER1
			StateName                       = STATE_Sword
			Animation                       = ATKD
				AnimationName                 = GUFaramir_SKL.gudundan_atka
				AnimationMode                 = ONCE
				UseWeaponTiming		            = Yes
				AnimationSpeedFactorRange     = 1.149 1.149
			End
			Animation                       = ATKE
				AnimationName                 = GUFaramir_SKL.gudundan_atkb
				AnimationMode                 = ONCE
				UseWeaponTiming		            = Yes
				AnimationSpeedFactorRange     = 1.149 1.149
			End
			Animation                       = ATKF
				AnimationName                 = GUFaramir_SKL.gudundan_atka
				AnimationMode                 = ONCE
				AnimationSpeedFactorRange     = 1.47 1.47
			End
			Flags				                    =	RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev                          = CurDrawablePrevAnimationState()
				if Prev                       == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
			EndScript
		End
		; Attacking Anims [Weapon_A]
		AnimationState                    = MOVING WEAPONSET_TOGGLE_1 FIRING_OR_PREATTACK_A
			Animation                       = TrotAndFire
				AnimationName                 = GUFaramir_SKL.GUFaramir_ATRA
				AnimationMode                 = LOOP
			End
			BeginScript
			
				
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")			
			EndScript
			Flags                           = RANDOMSTART
			StateName                       = RunAndSwing
		End
		
		AnimationState                    = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
			StateName                       = STATE_Sword
			
			Animation                       = ATKD
				AnimationName                 = GUFaramir_SKL.GUFaramir_ATKD
				AnimationMode                 = ONCE
				UseWeaponTiming		            = Yes
			End
			BeginScript
			
			
				
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
			
			Animation                       = ATKE
				AnimationName                 = GUFaramir_SKL.GUFaramir_ATKE
				AnimationMode                 = ONCE
				UseWeaponTiming		            = Yes
			End
			BeginScript

			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")			
			EndScript
			
			Animation                       = ATKF
				AnimationName                 = GUFaramir_SKL.GUFaramir_ATKF
				AnimationMode                 = ONCE
				AnimationSpeedFactorRange     = 1.2 1.2
			End
			Flags				                    =	RESTART_ANIM_WHEN_COMPLETE
			;	FrameForPristineBonePositions = 59
			BeginScript
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
				Prev                          = CurDrawablePrevAnimationState()
				if Prev                       == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
			EndScript
		End

;;------------------ MOVING -------------------------------------------------------------

		AnimationState                    = MOVING USER_4                 ; Moving slaughter
			StateName                       = Slaughter
			Flags                           = RANDOMSTART
			;ParticleSysBone                = None InfantryDustTrails
			Animation                       = GUFaramir_ATKE
				AnimationName                 = GUFaramir_SKL.GUFaramir_ATKE
				AnimationMode                 = LOOP
			End
			StateName                       = NoSword
			BeginScript

			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")			
				Prev                          = CurDrawablePrevAnimationState()
				if Prev                       == "Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
			EndScript
		End

		; -- Running with Spear 
		AnimationState			              = MOVING WEAPONSET_TOGGLE_1 RIDER1
			StateName                       = STATE_RunningSword
			Flags                           = RANDOMSTART
			Animation                       = gudundan_rund
				AnimationName                 = GUFaramir_SKL.gudundan_rund
				AnimationSpeedFactorRange     = 1.0 1.3
				; AnimationSpeedFactorRange   = 0.85 0.85
				; Distance		                = 28
			End
			Animation                       = gudundan_rune
				AnimationName                 = GUFaramir_SKL.gudundan_rune
				AnimationSpeedFactorRange     = 1.0 1.3
				;AnimationSpeedFactorRange    = 0.85 0.85
				; Distance		                = 28
			End
			BeginScript
				Prev                          = CurDrawablePrevAnimationState()
				if Prev                       == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
				if Prev                       == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
				CurDrawableHideSubObject("arrow")
			EndScript
		End
		
		;--- Running with sword
		AnimationState			              = MOVING WEAPONSET_TOGGLE_1
			StateName                       = STATE_RunningSword
			Flags                           = RANDOMSTART
			;ParticleSysBone                = None InfantryDustTrails
			
			Animation                       = GUFaramir_RUNB
				AnimationName                 = GUFaramir_SKL.GUFaramir_RUNB
;				AnimationMode                 = LOOP
				AnimationSpeedFactorRange     = 0.85 0.85
				Distance		                  = 28
			End
			BeginScript
				Prev                          = CurDrawablePrevAnimationState()
				
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")				
				if Prev                       == "STATE_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
				if Prev                       == "STATE_RunningBow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Running") end
			EndScript
		End

		;--- Running with bow
		AnimationState			              = MOVING
			StateName                       = STATE_RunningBow
			Flags                           = RANDOMSTART
			;ParticleSysBone                = None InfantryDustTrails
			
			Animation                       = GUFaramir_RUNA
				AnimationName                 = GUFaramir_SKL.GUFaramir_RUNA
				AnimationSpeedFactorRange     = 0.85 0.85
				Distance                      = 28
			End
			BeginScript
				CurDrawableHideSubObject("back1")
				CurDrawableHideSubObject("back2")			
				Prev                          = CurDrawablePrevAnimationState()
				if Prev                       == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
				if Prev                       == "STATE_RunningSword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Running") end
			EndScript
		End
		
		; -- Fire Arrow Ability
		AnimationState                    = PREATTACK_B WEAPONLOCK_SECONDARY
			StateName                       = STATE_Firing
			Animation                       = ReadyToDrawn
					AnimationName               = GUFaramir_SKL.GUFaramir_ATKA1
					AnimationMode               = ONCE
			End
			BeginScript
				CurDrawableShowSubObject("ArrowNock")
				CurDrawableShowSubObject("FireArowTip")	
				CurDrawableHideSubObject("back1")
				CurDrawableHideSubObject("back2")			
			EndScript
    End
		
		AnimationState                    = FIRING_OR_RELOADING_B WEAPONLOCK_SECONDARY
			StateName                       = STATE_Firing
			Animation                       = LooseReloadDraw
					AnimationName               = GUFaramir_SKL.GUFaramir_ATKA2
					AnimationMode               = ONCE
			End
			BeginScript
				CurDrawableShowSubObject("ArrowNock")
				CurDrawableShowSubObject("FireArowTip")	
				CurDrawableHideSubObject("back1")
				CurDrawableHideSubObject("back2")			
			EndScript
		End
		
		AnimationState                    = CONTINUOUS_FIRE_MEAN WEAPONLOCK_SECONDARY
			Animation                       = HangFrameWhileCoasting
					AnimationName               = GUFaramir_SKL.GUFaramir_ATKA2
					AnimationMode               = MANUAL
			End
			BeginScript
				CurDrawableShowSubObject("ArrowNock")
				CurDrawableShowSubObject("FireArowTip")	
				CurDrawableHideSubObject("back1")
				CurDrawableHideSubObject("back2")			
			EndScript
		End
		
		AnimationState                    = CONTINUOUS_FIRE_SLOW WEAPONLOCK_SECONDARY
			Animation                       = PutAwayArrow
					AnimationName               = GUFaramir_SKL.GUFaramir_ATKA3
					AnimationMode               = ONCE
			End
			BeginScript
				CurDrawableShowSubObject("ArrowNock")
				CurDrawableShowSubObject("FireArowTip")	
				CurDrawableHideSubObject("back1")
				CurDrawableHideSubObject("back2")			
			EndScript
		End	

		;---------------------------------------------------
		;New style firing with bow
		AnimationState					          =	PREATTACK_A 
			StateName					              =	STATE_Firing
			Animation					              =	ReadyToDrawn
				AnimationName			            =	GUFaramir_SKL.GUFaramir_ATKA1
				AnimationMode			            =	ONCE
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				CurDrawableHideSubObject("back1")
				CurDrawableHideSubObject("back2")			
			EndScript
		End

		AnimationState					          =	FIRING_OR_RELOADING_A 
			StateName					              =	STATE_Firing
			Animation					              =	LooseReloadDraw
				AnimationName			            =	GUFaramir_SKL.GUFaramir_ATKA2
				AnimationMode			            =	ONCE
				AnimationSpeedFactorRange     = 1.1 1.1		; Therefore, this is all you get.  A slight speed up so that the animation can always finish before any possible random value Design sets the range for
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				CurDrawableHideSubObject("back1")
				CurDrawableHideSubObject("back2")			
			EndScript
		End
		
		;----Keep PreAttack_C after _A. Thats what fixes the strange shooting		
		AnimationState						= PREATTACK_C
			StateName						= STATE_Firing
			Animation						= ReadyToDrawn
				AnimationName				= GUFaramir_SKL.guithil_atka1
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 1.5 1.5		// Therefore, this is all you get.  A slight speed up so that the animation can always finish before any possible random value Design sets the range for
				AnimationBlendTime			= 10			
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End
		
		AnimationState						= FIRING_OR_RELOADING_C
			StateName						= STATE_Firing
			Animation						= OneFrameOfShooting
				AnimationName				= GUFaramir_SKL.guithil_atka2
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 1.0 1.0 ;1.25 1.25
				AnimationBlendTime			= 0
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End
		
		;---------------------End New style firing

		AnimationState					          =	CONTINUOUS_FIRE_MEAN
			Animation					              =	HangFrameWhileCoasting
				AnimationName			            =	GUFaramir_SKL.GUFaramir_ATKA2
				AnimationMode			            =	MANUAL
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				CurDrawableHideSubObject("back1")
				CurDrawableHideSubObject("back2")			
			EndScript
		End
		
		AnimationState						        = CONTINUOUS_FIRE_SLOW
			Animation						            = PutAwayArrow
				AnimationName				          = GUFaramir_SKL.GUFaramir_ATKA3
				AnimationMode				          = ONCE
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				CurDrawableHideSubObject("back1")
				CurDrawableHideSubObject("back2")			
			EndScript
		End

;;-------------------- HIT REACTIONS -----------------------------------------------------------

; this hit animation attack stance
		AnimationState                    = EMOTION_ALERT HIT_REACTION WEAPONSET_TOGGLE_1
			Animation                       = Hit_Level_1_d
				AnimationName                 = GUFaramir_SKL.GUFaramir_HITD
				AnimationMode                 = ONCE
			End
			BeginScript
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End

		AnimationState                    = HIT_REACTION WEAPONSET_TOGGLE_1
			Animation                       = Hit_Level_1_b
				AnimationName                 = GUFaramir_SKL.GUFaramir_HITB
				AnimationMode                 = ONCE
			End
			BeginScript
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End

		AnimationState                    = HIT_REACTION
			Animation                       = Hit_Level_1_c
				AnimationName                 = GUFaramir_SKL.GUFaramir_HITC
				AnimationMode                 = ONCE
			End
			BeginScript
			
			
				
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End

;;------------ EMOTIONS ------------------------------------------------------------------		
;;                                    ====== LEVELED
		AnimationState				            = LEVELED WEAPONSET_TOGGLE_1	
			Animation				                = LevelUp
				AnimationName		              = GUFaramir_SKL.GUFaramir_CHRC
				AnimationMode		              = ONCE
			End
		End

		AnimationState				            = LEVELED 						
			Animation				                = LevelUp
				AnimationName		              = GUFaramir_SKL.GUFaramir_CHRD
				AnimationMode		              = ONCE
			End
		End

;;                                    ====== CELEBRATING	

	AnimationState				              =	EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
				Animation                     =	CHRC
					AnimationName               =	GUFaramir_SKL.GUFaramir_CHRc
					AnimationMode               =	ONCE
					AnimationPriority	          =	10
				End
				Animation                     =	CHRD
					AnimationName               =	GUFaramir_SKL.GUFaramir_CHRD
					AnimationMode               =	ONCE
					AnimationPriority	          =	5
				End
				Flags				                  =	RESTART_ANIM_WHEN_COMPLETE		
			End
		
		AnimationState				            =	EMOTION_CELEBRATING
				Animation                     =	CHRD
					AnimationName               =	GUFaramir_SKL.GUFaramir_CHRD
					AnimationMode               =	LOOP	;change to ONCE if adding other anims, and uncomment the Flags
				End
			;	Flags				                  =	RESTART_ANIM_WHEN_COMPLETE		
			End
;
;;------------------- SELECTED STATES ------------------------------------------------------------
		AnimationState                    = ATTACKING WEAPONSET_TOGGLE_1 RIDER1
			StateName                       = STATE_Sword
			Animation                       = ATKD
				AnimationName                 = GUFaramir_SKL.gudundan_idlat
				AnimationMode                 = MANUAL
			End			
		End

		AnimationState                    = ATTACKING WEAPONSET_TOGGLE_1
			StateName                       = STATE_Sword
			Animation                       = ATKD
				AnimationName                 = GUFaramir_SKL.GUFaramir_ATKD
				AnimationMode                 = MANUAL
			End
			BeginScript

			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End

;;------------------- SELECTED STATES ------------------------------------------------------------
		AnimationState					          = SELECTED WEAPONSET_TOGGLE_1 RIDER1
			StateName					              = STATE_Selected_Sword
			Animation					              = ATNE
				AnimationName			            = GUFaramir_SKL.gudundan_idlb
				AnimationMode			            = LOOP
				AnimationBlendTime		        = 15
			End
			Flags						                = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableHideSubObject("arrow")
				Prev                          = CurDrawablePrevAnimationState()
				if Prev                       == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSpear") end
				if Prev                       == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedSpear") return end
			EndScript
		End
		
		AnimationState					          = SELECTED WEAPONSET_TOGGLE_1
			StateName					              = STATE_Selected_Sword
			
			Animation					              = ATNE
				AnimationName			            = GUFaramir_SKL.GUFaramir_ATNE
				AnimationMode			            = LOOP
				AnimationBlendTime		        = 15
			End
			Flags						                = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
			
				CurDrawableHideSubObject("arrow")
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
				Prev                          = CurDrawablePrevAnimationState()
				if Prev                       == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
				if Prev                       == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedSword") return end
			EndScript
		End
		
		; -- ALERT
		AnimationState				            =	EMOTION_ALERT WEAPONSET_TOGGLE_1
			StateName				                =	STATE_READY
			Animation				                =	ready
				AnimationName		              =	GUFaramir_SKL.GUFaramir_IDLA
				AnimationMode		              =	LOOP
				AnimationBlendTime	          =	20
			End
			BeginScript
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End
		
		AnimationState				            =	SELECTED 
			StateName				                =	STATE_Selected_Bow
			
			Animation				                =	ATNB
				AnimationName		              =	GUFaramir_SKL.GUFaramir_ATNB
				AnimationMode		              =	LOOP
				AnimationBlendTime            = 15
			End
			BeginScript
			
				
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
				Prev                          = CurDrawablePrevAnimationState()
				if Prev                       == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
				if Prev                       == "STATE_Idle_Bow"	then CurDrawableSetTransitionAnimState("TRANS_BoredToSelectedBow") return end
				if Prev                       == "STATE_CaptainBow" then CurDrawableSetTransitionAnimState("TRANS_CaptainBowToSelectedBow") end
			EndScript
		End
	
;;--------------- IDLE STATES -----------------------------------------------------------------	
		AnimationState					          = WEAPONSET_TOGGLE_1 RIDER1
			StateName					              = STATE_Idle_Sword	
			Animation           		        = IDLE
				AnimationName       	        = GUFaramir_SKL.gudundan_atnb
				AnimationMode       	        = LOOP
				AnimationPriority	            = 20
				AnimationBlendTime            = 15
			End
			Animation           		        = IDLF
				AnimationName       	        = GUFaramir_SKL.gudundan_atnb
				AnimationMode       	        = LOOP
				AnimationPriority	            = 1
			End
			Animation           		        = IDLG
				AnimationName       	        = GUFaramir_SKL.gudundan_atnb
				AnimationMode       	        = LOOP
				AnimationPriority	            = 1
			End
			BeginScript
				CurDrawableHideSubObject("arrow")
				Prev                          = CurDrawablePrevAnimationState()
				if Prev                       == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSpear") end
				if Prev                       == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSpear") end
			EndScript
		End
		
		AnimationState					          = WEAPONSET_TOGGLE_1
			StateName					              = STATE_Idle_Sword	

			Animation           		        = IDLE
				AnimationName       	        = GUFaramir_SKL.GUFaramir_IDLE
				AnimationMode       	        = LOOP
				AnimationPriority	            = 20
				AnimationBlendTime            = 15
			End
			BeginScript
			
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
			
			Animation           		        = IDLF
				AnimationName       	        = GUFaramir_SKL.GUFaramir_IDLF
				AnimationMode       	        = LOOP
				AnimationPriority	            = 1
			End
			BeginScript
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript

			Animation           		        = IDLG
				AnimationName       	        = GUFaramir_SKL.GUFaramir_IDLG
				AnimationMode       	        = LOOP
				AnimationPriority	            = 1
			End
			
			BeginScript
				CurDrawableHideSubObject("arrow")
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
				Prev                          = CurDrawablePrevAnimationState()
				if Prev                       == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword") end
				if Prev                       == "STATE_Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredSword") end
			EndScript
		End
		
		IdleAnimationState
			StateName                       = STATE_Idle_Bow
			
			Animation                       = IdleBow
				AnimationName                 = GUFaramir_SKL.GUFaramir_IDLC
				AnimationMode                 = ONCE
				AnimationBlendTime            = 15
			End
			BeginScript
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
				Prev                          = CurDrawablePrevAnimationState()
				if Prev                       == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow") end
				if Prev                       == "STATE_Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoredBow") end
			EndScript
		End

	;---transitions--------------------------------------------
		TransitionState                   = TRANS_BoredToSelectedSpear
			Animation                       = ANTD
				AnimationName		              = GUFaramir_SKL.gudundan_atna
				AnimationMode				          = ONCE_BACKWARDS
			End		
			Flags							              = START_FRAME_LAST
		End
		
		TransitionState                   = TRANS_SelectedToBoredSpear
			Animation			                  = ATNF
				AnimationName	                = GUFaramir_SKL.gudundan_atna
				AnimationMode	                = ONCE
			End		
		End	
		
		TransitionState                   = TRANS_BoredToSelectedSword
			Animation                       = ANTD
				AnimationName		              = GUFaramir_SKL.GUFaramir_ANTD
				AnimationMode		              = ONCE
			End
			BeginScript
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript			
		End
		
		TransitionState                   = TRANS_SelectedToBoredSword
			Animation			                  = ATNF
				AnimationName	                = GUFaramir_SKL.GUFaramir_ATNF
				AnimationMode	                = ONCE
			End
			BeginScript
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript	
		End	

		TransitionState                   = TRANS_BoredToSelectedBow
			Animation                       = ATNC
				AnimationName		              = GUFaramir_SKL.GUFaramir_ATNC
				AnimationMode		              = ONCE
			End	
			BeginScript
			CurDrawableHideSubObject("arrow")
			
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript			
		End
		
		TransitionState                   = TRANS_CaptainBowToSelectedBow
			Animation                       = ATNC
				AnimationName		              = GUFaramir_SKL.GUFaramir_ATNC
				AnimationMode		              = ONCE
				AnimationBlendTime	          = 10
				AnimationSpeedFactorRange     = 1.5 1.5
			End
			BeginScript
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript			
		End
		
		TransitionState                   = TRANS_SelectedToBoredBow
			Animation			                  = ATNA
;				AnimationName	                = GUFaramir_SKL.GUFaramir_ATND
				AnimationName	                = GUFaramir_SKL.GUFaramir_ATND
				AnimationMode	                = ONCE
			End
			BeginScript
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End	


		TransitionState                   = TRANS_BowToSword
			Animation                       = GUFaramir_STHA
				AnimationName                 = GUFaramir_SKL.GUFaramir_STHA 
				AnimationMode                 = ONCE
			End
			BeginScript
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End

		TransitionState                   = TRANS_SwordToBow
			Animation                       = GUFaramir_STHB
				AnimationName                 = GUFaramir_SKL.GUFaramir_STHB 
				AnimationMode                 = ONCE
			End
			BeginScript
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript			
		End	

		TransitionState       		        = TRANS_BowToSword_Running
			Animation           	          = DrawSwords
				AnimationName                 = GUFaramir_SKL.GUFaramir_STHD
				AnimationMode                 = ONCE
			End
			BeginScript
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript		
		End
		
		TransitionState       		        = TRANS_SwordToBow_Running
			Animation           	          = DrawBow
				AnimationName                 = GUFaramir_SKL.GUFaramir_STHC
				AnimationMode                 = ONCE
			End
			BeginScript
			CurDrawableHideSubObject("back1")
			CurDrawableHideSubObject("back2")
			EndScript
		End		

	End
    
	; ***DESIGN parameters ***
	Side 			          = Rivendell
	EditorSorting 	    = UNIT
	ThreatLevel 	      = 1.0
	ThingClass 		      = HORDE_UNIT
	CommandPoints       = 4
	BountyValue 	      = DUN_RANGER_BOUNTY_VALUE
	TransportSlotCount  = 1
	VisionRange         = VISION_STANDARD_MELEE
	ShroudClearingRange = SHROUD_CLEAR_STANDARD
	DisplayName         = OBJECT:DunedainRanger
	CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrushRevengeWeapon  = RangedInfantryCrushRevenge
	CommandSet          = DunedainRangerCommandSet
	
	WeaponSet
		Conditions 	      = None
		Weapon 		        = PRIMARY   DunedainRangerBow
    Weapon            = SECONDARY DunedainRangerBowFire 
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    AutoChooseSources = SECONDARY NONE
	End

	WeaponSet
		Conditions 	      = WEAPONSET_TOGGLE_1		
		Weapon 		        = PRIMARY DunedainRangerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI		
	End
	
	WeaponSet
		Conditions 	      = WEAPONSET_TOGGLE_1 PLAYER_UPGRADE	 
		Weapon 		        = PRIMARY DunedainRangerSpear
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI		
	End
	
	ArmorSet
		Conditions        = None
		Armor             = RangerArmor
		DamageFX          = NormalDamageFX
	End

  ; *** AUDIO Parameters ***;
	VoiceAttack                       = DunedainRangerVoiceAttackSword
	VoiceAttackAir                    = DunedainRangerVoiceEnterStateAttackBow                
	VoiceAttackCharge                 = DunedainRangerVoiceAttackCharge
	VoiceAttackMachine                = DunedainRangerVoiceAttackSword
	VoiceAttackStructure              = DunedainRangerVoiceAttackBuilding
	VoiceEnterStateAttack             = DunedainRangerVoiceEnterStateAttackSword    
	VoiceEnterStateAttackCharge       = DunedainRangerVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine      = DunedainRangerVoiceEnterStateAttackSword
	VoiceEnterStateAttackStructure    = DunedainRangerVoiceEnterStateAttackBuilding
	VoiceCreated                      = DunedainRangerVoiceSalute
	VoiceFullyCreated                 = DunedainRangerVoiceSalute    
	VoiceGuard                        = DunedainRangerVoiceMove
	VoiceMove                         = DunedainRangerVoiceMove        
	VoiceMoveToCamp                   = DunedainRangerVoiceMoveCamp
	VoiceMoveWhileAttacking           = DunedainRangerVoiceMove
	VoiceEnterStateMove               = DunedainRangerVoiceEnterStateMove
	VoiceEnterStateMoveToCamp         = DunedainRangerVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking = DunedainRangerVoiceEnterStateMove
	VoicePriority                     = 60
	VoiceRetreatToCastle              = DunedainRangerVoiceRetreat
	VoiceEnterStateRetreatToCastle    = DunedainRangerVoiceEnterStateRetreat
	VoiceSelect                       = DunedainRangerVoiceSelect                ;GondorArcherVoiceSelect
	VoiceSelect2                      = YeomanArcherVoiceSelect2
	VoiceSelectBattle                 = DunedainRangerVoiceSelectBattle            ;GondorArcherVoiceSelect ;GondorArcherVoiceSelectBattle

	SoundImpact					= ImpactHorse

	UnitSpecificSounds
		VoiceGarrison			= DunedainRangerVoiceMoveGarrison              
	End

	EvaEventDamagedOwner = UnitUnderAttack		;Eva event to trigger when unit is damaged

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU			; Tie into LargeGroupAudio system
		Key = Human Unit Infantry Ranger
	End

		ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:ArrowDrawBow					Animation:GUfaramir_SKL.GUfaramir_ATKA1	Frames:28
		AnimationSound = Sound:ArrowDrawBow					Animation:GUfaramir_SKL.GUfaramir_ATKa2	Frames:32
		AnimationSound = Sound:ArrowDrawBow					Animation:GUfaramir_SKL.GUfaramir_ATKC	Frames:40
		
		AnimationSound = Sound:SwordShingClean1ForHordes 		Animation:GUfaramir_SKL.GUfaramir_STHA 	Frames:24
		AnimationSound = Sound:SwordIntoScabbard1ForHordes		Animation:GUfaramir_SKL.GUfaramir_STHB 	Frames:15
		AnimationSound = Sound:SwordShingClean1ForHordes 		Animation:GUfaramir_SKL.GUfaramir_STHD 	Frames:11
		AnimationSound = Sound:SwordIntoScabbard1ForHordes 		Animation:GUfaramir_SKL.GUfaramir_STHC 	Frames:6
		
		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GUfaramir_SKL.GUfaramir_LNDA	Frames:15
		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GUfaramir_SKL.GUfaramir_LNDB	Frames:8

		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GUfaramir_SKL.GUfaramir_DIEA	Frames:134
		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GUfaramir_SKL.GUfaramir_DIEB	Frames:93
		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GUfaramir_SKL.GUfaramir_DIEB	Frames:58
	End


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP SWARM_DOZER GRAB_AND_DROP DOZER ATTACK_NEEDS_LINE_OF_SIGHT ARCHER
	
	Body                                  = ActiveBody ModuleTag_02
		CheerRadius 	                      = EMOTION_CHEER_RADIUS
		MaxHealth                           = DUN_RANGER_HEALTH                 ;BALANCE Ranger Health
		MaxHealthDamaged                    = DUN_RANGER_HEALTH_DAMAGED
	End
	
  	
	Behavior                              = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle          = Yes ATTACK_BUILDINGS STEALTHED
		StopChaseDistance                   = 562
		MoodAttackCheckRate                 = 500
		HoldGroundCloseRangeDistance        = 40
		CanAttackWhileContained             = Yes
		AILuaEventsList				              =	DunedainRangerFunctions
		MinCowerTime				                =	4000
		MaxCowerTime				                =	6000
		AttackPriority				              = AttackPriority_Archer
	End

	Behavior                              = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1               = 1667 ; level 1 (light  damage)  hit reaction animations in ms
		HitReactionLifeTimer2               = 1667 ; level 2 (medium damage)  hit reaction animations in ms
		HitReactionLifeTimer3               = 1667 ; level 3 (heavy  damage)  hit reaction animations in ms

		HitReactionThreshold1               = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2               = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3               = 50.0  ; level 3 (heavy  damage) threshold trigger

		FastHitsResetReaction               = Yes    ;If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
	End

	Behavior                              = StealthUpdate StealthUpdateModuleTag
		StealthDelay						            = 2500         ; msec
		FriendlyOpacityMin					        = STEALTH_FRIENDLY_OPACITY_MIN
		FriendlyOpacityMax					        = STEALTH_FRIENDLY_OPACITY_MAX
		PulseFrequency						          = 750   ; msec
		StealthForbiddenConditions			    = HORDEBRAIN_NOT_STEALTHED
		OrderIdleEnemiesToAttackMeUponReveal= Yes
		DetectedByAnyoneRange				        = 120
		RevealWeaponSets					          = CLOSE_RANGE CONTESTING_BUILDING
		VoiceMoveToStealthyArea				      = DunedainRangerVoiceMoveTrees
		VoiceEnterStateMoveToStealthyArea	  = DunedainRangerVoiceEnterStateMoveTrees
	End
	
	LocomotorSet
		Locomotor                           = HumanLocomotor
		Condition                           = SET_NORMAL 
		Speed                               = 50 ; NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	LocomotorSet
		Locomotor                           = HumanWanderLocomotor
		Condition                           = SET_WANDER
		Speed                               = 50 ; NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	Behavior                              = PhysicsBehavior ModuleTag_04
		GravityMult                         = 1.0
	End
	
	Behavior                              = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior                              = HordeMemberCollide ModuleTag_HMC
		;nothing
	End
	
	Behavior                              = SlowDeathBehavior ModuleTag_KnockDeath
		DeathTypes                          = ALL +KNOCKBACK
		SinkDelay                           = 3000
		SinkRate                            = 1.0     ; in Dist/Sec
		DestructionDelay                    = 15000
  End
	
	Behavior                              = SlowDeathBehavior ModuleTag_RegularDeath
		DeathTypes                          = ALL 
		SinkDelay                           = 3000
		SinkRate                            = 1.0     ; in Dist/Sec
		DestructionDelay                    = 15000
		Sound                               = INITIAL DunedainRangerVoiceDie
  End

	Behavior                              = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; To tweak a Bezier path
		FirstHeight                         = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight                        = 24
		FirstPercentIndent                  = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent                 = 70%
		TumbleRandomly                      = Yes

		CrushStyle                          = Yes ; I don't detonate, I just hit
		DieOnImpact                         = Yes
		BounceCount                         = 1   ; When I hit the ground, I'll arc again
		BounceDistance                      = 40 ; this far
		BounceFirstHeight                   = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight                  = 24
		BounceFirstPercentIndent            = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent           = 80%

		GroundHitFX                         = FX_ThrownRockGroundHit
		GroundBounceFX                      = FX_ThrownRockBounceHit
	End

	; -- FORGED BLADES UPGRADE 
	Behavior                              = SubObjectsUpgrade ForgedBlades_Upgrade
		TriggeredBy		                      = Upgrade_RivendellForgedBlades
		ShowSubObjects	                    = FORGED_BLADE
	End
	
	; -- LINDON FLETCHING UPGRADE 
	Behavior                              = SubObjectsUpgrade Fletching_Upgrade
		TriggeredBy		                      = Upgrade_RivendellImprovedArrows
		ShowSubObjects	                    = ARROWUP QUIVARROWUP
		HideSubObjects	                    = ARROW QUIVARROW
	End
	
	; -- Dunedain Sword Upgrade  
	Behavior                              = UnpauseSpecialPowerUpgrade ModuleTag_SwordEnabler
			SpecialPowerTemplate 		          = SpecialAbilityRank2
			TriggeredBy 				              = Upgrade_RivendellDunedainSwords
	End	
	
	Behavior                              = SpecialPowerModule ModuleTag_SwordSpecialPower                      
			SpecialPowerTemplate		          = SpecialAbilityRank2
			StartsPaused				              = Yes
	End
	Behavior                              = WeaponModeSpecialPowerUpdate ModuleTag_SwordUpdate
			SpecialPowerTemplate		          = SpecialAbilityRank2
			Duration					                = 99999999 ; forever lol
			WeaponSetFlags				            = WEAPONSET_TOGGLE_1
			StartsPaused				              = Yes
	End  
	
	; -- Dunedain Spear Upgrade  	
	Behavior                              = UnpauseSpecialPowerUpgrade ModuleTag_SpearEnabler
			SpecialPowerTemplate 		          = SpecialAbilityRank2
			TriggeredBy 				              = Upgrade_RivendellDunedainSpears
	End	
	
	Behavior                              = SpecialPowerModule ModuleTag_SpearSpecialPower                      
			SpecialPowerTemplate		          = SpecialAbilityRank2
			StartsPaused				              = Yes
	End
	Behavior                              = WeaponModeSpecialPowerUpdate ModuleTag_SpearUpdate
			SpecialPowerTemplate		          = SpecialAbilityRank2
			Duration					                = 99999999 ; forever lol
			WeaponSetFlags				            = WEAPONSET_TOGGLE_1
			StartsPaused				              = Yes
	End 	
	
	; give the bonus cav/hero damage bonus for spears
	Behavior                              = WeaponSetUpgrade ModuleTag_WeaponSetUpgradeTagSpears
		TriggeredBy                         = Upgrade_RivendellDunedainSpears
	End
	Behavior                              = ModelConditionUpgrade ModuleTag_AmonSul
		TriggeredBy			                    = Upgrade_RivendellDunedainSpears
		AddConditionFlags		                = RIDER1
	End	
	
 ; -- Fire Arrow Rank 2 Ability
	Behavior                              = UnpauseSpecialPowerUpgrade ModuleTag_UnpauseLeadership2
		SpecialPowerTemplate                = SpecialAbilityFireArrowVolley
		TriggeredBy                         = Upgrade_GenericUpgrade2
	End
	Behavior                              = SpecialPowerModule ModuleTag_FireArrowUser_1_Start
		SpecialPowerTemplate                = SpecialAbilityFireArrowVolley
		StartsPaused			                  = Yes
		AttributeModifier                   = FireArrowsUSER_1
		AttributeModifierRange              = 50
		AttributeModifierAffectsSelf        = Yes
	End	
	Behavior                              = WeaponModeSpecialPowerUpdate ModuleTag_SwitchToWeaponset1
		SpecialPowerTemplate	              = SpecialAbilityFireArrowVolley
		Duration				                    = 10000
		LockWeaponSlot                      = SECONDARY
		StartsPaused			                  = Yes
	End
	Behavior                              = SpecialAbilityUpdate ModuleTag_FireArrowUpdate
		SpecialPowerTemplate                = SpecialAbilityFireArrowVolley
		UnpackTime                          = 1
		UnpackingVariation                  = 2      
		AwardXPForTriggering		            = 0		
		TriggerSound				                = UpgradeFlamingArrows
	End	
	
	; -- Elvish Medicine
	Behavior                              = AutoHealBehavior ModuleTag_HealHordeMembers
		StartsActive			                  = No
		HealOnlyIfNotInCombat 		          = Yes				
		HealOnlyIfNotUnderAttack	          = Yes				
		TriggeredBy			                    = Upgrade_TechnologyRivendellMedicine
		HealingAmount		                    = 1
		HealingDelay		                    = 2000
		KindOf				                      = INFANTRY CAVALRY
		UnitHealPulseFX			                = FX_SpellHealUnitHealBuff
	End
	
	Geometry            = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight      = 19.2
	GeometryIsSmall     = Yes
	Shadow              = SHADOW_DECAL
	ShadowSizeX         = 19;
	ShadowSizeY         = 19;
	ShadowTexture       = ShadowI;
End
;; ----------------------------------------------------------------------------------------------


