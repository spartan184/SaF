; ------------------------------------------------------------------------------
;
; FarmerMaggot.ini
;
; ------------------------------------------------------------------------------
Object RivendellFarmerMaggot
	SelectPortrait 	= hprivmaggot
  ButtonImage 		= hirivmaggot
	
	Draw = W3DScriptedModelDraw ModuleTag_01 ;aumaggot_skn
	  OkToChangeModelColor 	= Yes
	  StaticModelLODMode 		= yes
		
		DefaultModelConditionState
			Model                         = aumaggot_skn
			Skeleton                      = guhbtshf_skl
			WeaponLaunchBone              = PRIMARY B_HANDR
			WeaponLaunchBone              = SECONDARY B_HANDR
		End
;;--------------- DYING & FLYING --------------------------------------------------

		AnimationState					        = STUNNED_FLAILING WEAPONSET_TOGGLE_1
			StateName					            = STATE_Bored_Rocks
			Animation					            = FLYA
				AnimationName			          = GUHbtShfB_FLYA
				AnimationMode			          = LOOP
				AnimationBlendTime		      = 0
				AnimationSpeedFactorRange	  = 0.4 0.6
			End
			Flags						              = RANDOMSTART
		End
		AnimationState					        = STUNNED_FLAILING
			StateName					            = STATE_Bored_Sword
			Animation					            = FLYA
				AnimationName			          = GUHbtShfS_FLYA
				AnimationMode			          = LOOP
				AnimationBlendTime		      = 0
				AnimationSpeedFactorRange	  = 0.4 0.6
			End
			Flags						              = RANDOMSTART
		End
		
		AnimationState					        = PASSENGER FREEFALL
			Animation
				AnimationName			          = GUHbtShfB_FLLA
				AnimationMode			          = LOOP
			End
		End

		AnimationState						      = DYING DEATH_2 WEAPONSET_TOGGLE_1
			Animation
				AnimationName				        = GUHbtShfB_IDLB
				AnimationMode				        = LOOP
			End
		End
		AnimationState						      = DYING DEATH_2
			Animation
				AnimationName				        = GUHbtShfS_IDLB
				AnimationMode				        = LOOP
			End
		End
		
		AnimationState					        = DYING SPLATTED WEAPONSET_TOGGLE_1
			Animation					            = LNDA
				AnimationName			          = GUHbtShfB_LNDA
				AnimationMode			          = ONCE
			End
		End
		AnimationState					        = DYING SPLATTED
			Animation
				AnimationName			          = GUHbtShfS_LNDA
				AnimationMode			          = ONCE
			End
		End
		AnimationState					        = DYING WEAPONSET_TOGGLE_1
			StateName					            = STATE_Bored_Rocks
			Animation					            = DIEA
				AnimationName			          = GUHbtShfB_DIEA
				AnimationMode			          = ONCE
			End
			Animation					            = DIEA
				AnimationName			          = GUHbtShfB_DIEB
				AnimationMode			          = ONCE
			End
			Animation					            = DIEA
				AnimationName			          = GUHbtShfB_DIEC
				AnimationMode			          = ONCE
			End
		End

		AnimationState					        = DYING
			Animation
				AnimationName			          = GUHbtShfS_DIEA
				AnimationMode			          = ONCE
			End
			Animation
				AnimationName			          = GUHbtShfS_DIEB
				AnimationMode			          = ONCE
			End
			Animation
				AnimationName			          = GUHbtShfS_DIEC
				AnimationMode			          = ONCE
			End
		End

		; AnimationState						    = BURNINGDEATH
			; Animation
				; AnimationName				      = GUHbtShfB_MFDA
				; AnimationMode				      = LOOP
				; Distance					        = 80
			; End
		; End
		
		; AnimationState						    = PARALYZED
			; Animation
				; AnimationName				      = GUHbtShfS_IDLB
				; AnimationMode				      = LOOP
			; End
		; End

;;======= STUNNED

		AnimationState					        = STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
			StateName					            = STATE_Ready_Rocks
			Animation					            = GTPA
				AnimationName			          = GUHbtShfB_GTPA
				AnimationMode			          = ONCE
				AnimationSpeedFactorRange   = 1.5 1.5
			End
		End
		AnimationState					        = STUNNED_STANDING_UP
			StateName					            = STATE_Ready_Sword
			Animation
				AnimationName			          = GUHbtShfS_GTPA
				AnimationMode			          = ONCE
				AnimationSpeedFactorRange   = 1.5 1.5
			End
		End		
		
		AnimationState					        = STUNNED WEAPONSET_TOGGLE_1
			StateName					            = STATE_Bored_Rocks
			Animation					            = LNDA
				AnimationName			          = GUHbtShfB_LNDA
				AnimationMode			          = ONCE
			End
		End
		AnimationState					        = STUNNED
			StateName					            = STATE_Bored_Sword
			Animation					            = LNDA
				AnimationName			          = GUHbtShfS_LNDA
				AnimationMode			          = ONCE
			End
		End
		
;;---------------- ATTAFIRING_OR_RELOADING_ACKING -----------------------------------------------------------------

		
		AnimationState                  = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		            = Yes
			Animation
				AnimationName               = GUHbtShfS_RUNC
				AnimationMode               = ONCE
			End
			Animation
				AnimationName               = GUHbtShfS_RUND
				AnimationMode               = ONCE
			End
			Flags                         = RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState			            = MOVING EMOTION_TERROR WEAPONSET_TOGGLE_1
			Animation
				AnimationName			          = GUHbtShfB_RUNC
				AnimationMode			          = LOOP
			End
		End
		AnimationState			            = MOVING EMOTION_TERROR
			Animation
				AnimationName			          = GUHbtShfS_RUNE
				AnimationMode			          = LOOP
			End
		End
		
		AnimationState					        = BETWEEN_FIRING_SHOTS_A WEAPONSET_TOGGLE_1
			StateName					            = STATE_Ready_Rocks
			Animation					            = IDLA
				AnimationName			          = GUHbtShfB_IDLA
				AnimationMode			          = LOOP
				AnimationBlendTime		      = 20
			End
			BeginScript
				CurDrawableAllowToContinue()
			EndScript
		End

		AnimationState					        = BETWEEN_FIRING_SHOTS_A
			StateName					            = STATE_Ready_Sword
			Animation					            = IDLB
				AnimationName			          = GUHbtShfS_IDLA
				AnimationMode			          = LOOP
				AnimationBlendTime		      = 10
			End
			BeginScript
				CurDrawableAllowToContinue()
			EndScript
		End

		AnimationState					        = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
			StateName					            = STATE_Ready_Rocks
			Animation					            = THRA
				AnimationName			          = GUHbtShfB_ATKA
				AnimationMode			          = ONCE
				UseWeaponTiming			        = Yes
			End
			FrameForPristineBonePositions = 21
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
			EndScript
		End
		
		AnimationState					        = FIRING_OR_PREATTACK_A 
			StateName					            = STATE_Ready_Sword
			Animation					            = ATKA
				AnimationName			          = GUHbtShfS_ATKA
				AnimationMode			          = ONCE
				UseWeaponTiming			        = Yes
				AnimationBlendTime		      = 10
			End
			Animation					            = ATKB
				AnimationName			          = GUHbtShfS_ATKB
				AnimationMode			          = ONCE
				UseWeaponTiming			        = Yes
				AnimationBlendTime		      = 10
			End
			Animation					            = ATKB
				AnimationName			          = GUHbtShfS_ATKB
				AnimationMode			          = ONCE
				UseWeaponTiming			        = Yes
				AnimationBlendTime		      = 10
			End
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
			EndScript
		End

;;--------------------- MOVING ---------------------------------------------------------------------
;;======= MOVING

		AnimationState					        = MOVING WEAPONSET_TOGGLE_1
			StateName					            = STATE_Running_Rocks
			Animation					            = RUNA
				AnimationName			          = GUHbtShfB_RUNA
				AnimationMode			          = ONCE
			End
			Animation					            = RUNA
				AnimationName			          = GUHbtShfB_RUNB
				AnimationMode			          = ONCE
			End
			Flags						              = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_SwordToRocks") end
			EndScript
		End

		AnimationState					        = MOVING ATTACKING
			StateName					            = STATE_Running_Sword
			Animation					            = RUNA
				AnimationName			          = GUHbtShfS_RUNC
				AnimationMode			          = ONCE
			End
			Animation					            = RUNA
				AnimationName			          = GUHbtShfS_RUND
				AnimationMode			          = ONCE
			End
			Flags						              = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
			EndScript
		End
		
		AnimationState					        = MOVING BACKING_UP WEAPONSET_TOGGLE_1
			StateName					            = STATE_Running_Rocks
			Animation
				AnimationName			          = GUHbtShfB_BAKA
				AnimationMode			          = ONCE
			End
			Animation
				AnimationName			          = GUHbtShfB_BAKB
				AnimationMode			          = ONCE
			End
			Flags						              = RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState					        = MOVING BACKING_UP
			StateName					            = STATE_Running_Sword
			Animation
				AnimationName			          = GUHbtShfS_BAKA
				AnimationMode			          = ONCE
			End
			Animation
				AnimationName			          = GUHbtShfS_BAKB
				AnimationMode			          = ONCE
			End
			Flags						              = RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState					        = MOVING
			StateName					            = STATE_Running_Sword
			Animation					            = RUNA
				AnimationName			          = GUHbtShfS_RUNB
				AnimationMode			          = LOOP
			End
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_Running_RocksToSword") end
			EndScript
		End

;;---------------------- HIT REACTIONS ----------------------------------------------------------

;		AnimationState					        = HIT_REACTION WEAPONSET_TOGGLE_1
;			Animation           
;				AnimationName			          = GUHbtShfB_HITA
;				AnimationMode			          = ONCE
;			End
;		End
;		AnimationState					        = HIT_REACTION
;			Animation           
;				AnimationName			          = GUHbtShfS_HITA
;				AnimationMode			          = ONCE
;			End
;		End

;;---------------------- EMOTIONS ---------------------------------------------------------------

		AnimationState					        = EMOTION_POINTING WEAPONSET_TOGGLE_1
			StateName					            = STATE_Ready_Rocks
			Animation					            = IDLA
				AnimationName			          = GUHbtShfB_PNTA
				AnimationMode			          = ONCE
			End
			Animation					            = IDLA
				AnimationName			          = GUHbtShfB_PNTB
				AnimationMode			          = ONCE
			End
			Flags						              = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
			EndScript
		End
		AnimationState					        = EMOTION_POINTING
			StateName					            = STATE_Ready_Sword
			Animation
				AnimationName			          = GUHbtShfS_PNTA
				AnimationMode			          = ONCE
			End
			Animation
				AnimationName			          = GUHbtShfS_PNTB
				AnimationMode			          = ONCE
			End
			Flags						              = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
			EndScript
		End

		AnimationState					        = EMOTION_TAUNTING WEAPONSET_TOGGLE_1
			StateName					            = STATE_Ready_Rocks
			Animation
				AnimationName			          = GUHbtShfB_TNTA
				AnimationMode			          = ONCE
			End
			Animation
				AnimationName			          = GUHbtShfB_TNTB
				AnimationMode			          = ONCE
			End
			Animation
				AnimationName			          = GUHbtShfB_TNTC
				AnimationMode			          = ONCE
			End
			Flags						              = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
			EndScript
		End
		AnimationState					        = EMOTION_TAUNTING
			StateName					            = STATE_Ready_Sword
			Animation
				AnimationName			          = GUHbtShfS_TNTA
				AnimationMode			          = ONCE
			End
			Animation
				AnimationName			          = GUHbtShfS_TNTB
				AnimationMode			          = ONCE
			End
			Animation
				AnimationName			          = GUHbtShfS_TNTC
				AnimationMode			          = ONCE
			End
			Flags						              = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
			EndScript
		End

		AnimationState					        = EMOTION_AFRAID
			Animation
				AnimationName			          = GUHbtShfB_FERA
				AnimationMode			          = LOOP
			End
		End

		AnimationState					        = EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
			StateName					            = STATE_Ready_Rocks
			Animation
				AnimationName			          = GUHbtShfB_CHRA
				AnimationMode			          = ONCE
			End
			Animation
				AnimationName			          = GUHbtShfB_CHRB
				AnimationMode			          = ONCE
			End
			Animation
				AnimationName			          = GUHbtShfB_CHRC
				AnimationMode			          = ONCE
			End
			Flags						              = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
			EndScript
		End

		AnimationState					        = EMOTION_CELEBRATING
			StateName					            = STATE_Ready_Sword
			Animation
				AnimationName			          = GUHbtShfS_CHRA
				AnimationMode			          = ONCE
			End
			Animation
				AnimationName			          = GUHbtShfS_CHRB
				AnimationMode			          = ONCE
			End
			Flags						              = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
			EndScript
		End
		
;;------------------ SELECTED STATE -------------------------------------------------------------

		AnimationState					        = SELECTED WEAPONSET_TOGGLE_1
			StateName					            = STATE_Attention_Rocks
			Animation					            = IDLA
				AnimationName			          = GUHbtShfB_ATNB
				AnimationMode			          = LOOP
			End
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Rocks") end
			EndScript
		End

		; AnimationState					      = RAISING_FLAG
			; StateName					          = STATE_Ready_Sword
			; Animation
				; AnimationName			        = GUHbtShfS_CHRA
				; AnimationMode			        = ONCE
				; AnimationSpeedFactorRange = 0.9 1.1
			; End
			; Animation
				; AnimationName			        = GUHbtShfS_CHRB
				; AnimationMode			        = ONCE
				; AnimationSpeedFactorRange = 0.9 1.1
			; End
			; Flags						            = RESTART_ANIM_WHEN_COMPLETE
		; End

		AnimationState					        = SELECTED
			StateName					            = STATE_Attention_Sword
			Animation					            = IDLA
				AnimationName			          = GUHbtShfS_ATNB
				AnimationMode			          = LOOP
			End
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Bored_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Ready_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Running_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToAttention_Sword") end
			EndScript
		End

;;------------------ IDLE STATES ----------------------------------------------------------------
		AnimationState					        = WEAPONSET_TOGGLE_1
			StateName					            = STATE_Bored_Rocks
			Animation
				AnimationName			          = GUHbtShfB_IDLB
				AnimationMode			          = ONCE
				AnimationPriority		        = 100
			End
			Animation
				AnimationName			          = GUHbtShfB_IDLC
				AnimationMode			          = ONCE
				AnimationPriority		        = 10
			End
			Animation
				AnimationName			          = GUHbtShfB_IDLD
				AnimationMode			          = ONCE
				AnimationPriority		        = 10
			End
			Animation
				AnimationName			          = GUHbtShfB_IDLE
				AnimationMode			          = ONCE
				AnimationPriority		        = 10
			End
			Flags						              = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToRocks") end
				if Prev                     == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_AttentionToBored_Rocks") end
			EndScript
		End

		IdleAnimationState
			StateName					            = STATE_Bored_Sword
			Animation					            = IDLA
				AnimationName			          = GUHbtShfS_IDLB
				AnimationMode			          = ONCE
				AnimationPriority		        = 100
			End
			Animation
				AnimationName			          = GUHbtShfS_IDLC
				AnimationMode			          = ONCE
				AnimationPriority		        = 10
			End
			Animation
				AnimationName			          = GUHbtShfS_IDLD
				AnimationMode			          = ONCE
				AnimationPriority		        = 10
			End
			Animation
				AnimationName			          = GUHbtShfS_IDLE
				AnimationMode			          = ONCE
				AnimationPriority		        = 10
			End
			Animation
				AnimationName			          = GUHbtShfS_IDLF
				AnimationMode			          = ONCE
				AnimationPriority		        = 10
			End
			Animation
				AnimationName			          = GUHbtShfS_IDLG
				AnimationMode			          = ONCE
				AnimationPriority		        = 10
			End
			Flags						              = RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				Prev                        = CurDrawablePrevAnimationState()
				if Prev                     == "STATE_Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Running_Sword" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Attention_Rocks" then CurDrawableSetTransitionAnimState("TRANS_RocksToSword") end
				if Prev                     == "STATE_Attention_Sword" then CurDrawableSetTransitionAnimState("TRANS_AttentionToBored_Sword") end
			EndScript
		End

;;------------------ TRANSITIONS ----------------------------------------------------------------

;;====== GETTING SWORD
		TransitionState					        = TRANS_RocksToSword
			Animation					            = STHA
				AnimationName			          = GUHbtShfB_STHB
				AnimationMode			          = ONCE
			End
		End
		TransitionState					        = TRANS_Running_RocksToSword
			Animation					            = STHA
				AnimationName			          = GUHbtShfB_STHD
				AnimationMode			          = ONCE
			End
		End

		TransitionState					        = TRANS_SwordToRocks
			Animation					            = STHA
				AnimationName			          = GUHbtShfB_STHA
				AnimationMode			          = ONCE
			End
		End
		TransitionState					        = TRANS_Running_SwordToRocks
			Animation					            = STHA
				AnimationName			          = GUHbtShfB_STHC
				AnimationMode			          = ONCE
			End
		End
		TransitionState					        = TRANS_BoredToAttention_Rocks
			Animation					            = ATNA
				AnimationName			          = GUHbtShfB_ATNA
				AnimationMode			          = ONCE
			End
		End
		TransitionState					        = TRANS_AttentionToBored_Rocks
			Animation					            = ATNC
				AnimationName			          = GUHbtShfB_ATNC
				AnimationMode			          = ONCE
			End
		End

		TransitionState					        = TRANS_BoredToAttention_Sword
			Animation					            = ATNA
				AnimationName			          = GUHbtShfS_ATNA
				AnimationMode			          = ONCE
			End
		End
		TransitionState					        = TRANS_AttentionToBored_Sword
			Animation					            = ATNC
				AnimationName			          = GUHbtShfBS_ATNC
				AnimationMode			          = ONCE
			End
		End
;;----------------------------------------------------------------------------------------
	End
  
	Side                  = Rivendell
	EditorSorting         = UNIT
	ThreatLevel           = 5
	ThingClass            = CHARACTER_UNIT
	HeroSortOrder         = 70
	DisplayName           = OBJECT:FarmerMaggot
	RecruitText           = CONTROLBAR:FarmerMaggotRecruit
	ReviveText	          = CONTROLBAR:FarmerMaggotRevive
	Hotkey		            = CONTROLBAR:FarmerMaggotHotkey	
	MaxSimultaneousOfType = 1
	
	WeaponSet
		Conditions          = None 
		Weapon              = PRIMARY    HobbitSword
		AutoChooseSources   = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
  
	WeaponSet
		Conditions          = WEAPONSET_TOGGLE_1
		Weapon              = PRIMARY    SamRockThrow  
		AutoChooseSources   = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
  
	ArmorSet
		Conditions          = None
		Armor               = HeroArmor
		DamageFX            = NormalDamageFX
	End
  
	VisionRange           = M_VISION_HOBBIT
	ShroudClearingRange   = M_SHROUD_CLEAR_STANDARD	
	BuildCost             = M_MAGGOT_BUILDCOST
	BuildTime             = 15
	BountyValue           = 5
	CrushableLevel        = 2
	CommandSet            = FarmerMaggotCommandset
	CommandPoints         = 0

	;------------------------------------------		
	VoiceAttack				                  = FarmerMaggotVoiceAttack
	VoiceAttackCharge			              = FarmerMaggotVoiceAttackCharge
	VoiceAttackMachine		              = FarmerMaggotVoiceAttack
	VoiceAttackStructure		            = FarmerMaggotVoiceAttackBuilding
	VoiceFear 				                  = FarmerMaggotVoiceHelpMe
	VoiceMove				                    = FarmerMaggotVoiceMove
	VoiceMoveToCamp			                = FarmerMaggotVoiceMove
	VoiceMoveWhileAttacking		          = FarmerMaggotVoiceMove
	VoicePriority			                  = 64
	VoiceRetreatToCastle		            = FarmerMaggotVoiceRetreat
	VoiceSelect				                  = FarmerMaggotVoiceSelect
	VoiceSelectBattle 		              = FarmerMaggotVoiceSelectBattle
	VoiceGuard				                  = FarmerMaggotVoiceMove
	SoundImpact				                  = ImpactHorse
  
	UnitSpecificSounds
		VoiceGarrison							        = FarmerMaggotVoiceGarrison
	End
  
	EvaEventDieOwner			              = FarmerMaggotDie
  
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Humanoid_Male Hobbit Unit Infantry
	End
  
	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:BodyFallGeneric1			Animation:GUHBTSHF_SKL.GUHBTSHF_LNDA	Frames:6
		AnimationSound = Sound:BodyFallGeneric1			Animation:GUHBTSHF_SKL.GUHBTSHF_DIEA	Frames:48
		AnimationSound = Sound:BodyFallGeneric1			Animation:GUHBTSHF_SKL.GUHBTSHF_DIEB	Frames:67
		AnimationSound = Sound:BodyFallGeneric1			Animation:GUHBTSHF_SKL.GUHBTSHF_DIEC	Frames:25
	End
	RadarPriority = UNIT
  
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT HOBBIT HERO ARMY_SUMMARY ATTACK_NEEDS_LINE_OF_SIGHT

	Body = RespawnBody ModuleTag_RespawnBody
		MaxHealth					        = M_MAGGOT_HEALTH
		PermanentlyKilledByFilter	= NONE
		DodgePercent				      = HERO_DODGE_PERCENT	
	End
  
	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim				          = DYING
		DeathFX				            = FX_GenericGoodDieToRespawn ;FX_MaggotDieToRespawn
		DeathAnimationTime	      = 2600
		InitialSpawnFX			      = FX_MaggotInitialSpawn
		RespawnAnim				        = LEVELED
		RespawnFX				          = FX_MaggotRespawn
		RespawnAnimationTime		  = 2000
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP
		ButtonImage				        = HIRivMaggot

		RespawnRules =			AutoSpawn:No	Cost:160		Time:10000		Health:100%
		RespawnEntry =	Level:2				Cost:170		Time:20000
		RespawnEntry =	Level:3				Cost:180		Time:30000
		RespawnEntry =	Level:4				Cost:190		Time:30000
		RespawnEntry =	Level:5				Cost:200		Time:30000
		RespawnEntry =	Level:6				Cost:210		Time:30000
		RespawnEntry =	Level:7				Cost:220		Time:30000
		RespawnEntry =	Level:8				Cost:230		Time:30000
		RespawnEntry =	Level:9				Cost:240		Time:30000
		RespawnEntry =	Level:10			Cost:250		Time:30000
	End
  
	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	300		; max distance to taunted/pointed objet
 		TauntAndPointUpdateDelay	=	1000	; how often scan (milliseconds)
 		
		AddEmotion	=	Alert_Base
 	End	
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 500
		HoldGroundCloseRangeDistance = 40
	End
	
	Behavior = AttributeModifierAuraUpdate ModuleTag_HeroRadiateFear
		StartsActive	= No ;If no, requires upgrade to turn on.
		BonusName		= HeroRadiateFear
		TriggeredBy		= Upgrade_HeroRadiateFear
		RefreshDelay	= 2000
		Range			= 120
		TargetEnemy		= Yes
		ObjectFilter	= ANY +ORC
	End	
  
	Behavior = AutoAbilityBehavior ModuleTag_AutoAbilityBehavior
	End
  
	LocomotorSet
		Locomotor = HeroHumanLocomotor
		Condition = SET_NORMAL 
		Speed = M_NORMAL_GOOD_HOBBIT_SPEED
	End
  
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime = 3800
	End
    
	Behavior = SquishCollide ModuleTag_06
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK -FADED
		SinkDelay = 3000
		SinkRate = 0.40
		DestructionDelay = 8000
		Sound = INITIAL FarmerMaggotVoiceDie
	End

	Behavior = SlowDeathBehavior ModuleTag_07
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40
		DestructionDelay = 8000
	End
  
	Behavior = BezierProjectileBehavior ModuleTag_08
		FirstHeight = 24
		SecondHeight = 24
		FirstPercentIndent = 30%
		SecondPercentIndent = 70%
		TumbleRandomly = Yes
		CrushStyle = Yes
		DieOnImpact = Yes
		BounceCount = 1
		BounceDistance = 40
		BounceFirstHeight = 24
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20%
		BounceSecondPercentIndent = 80%
		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

  ; -- Maggot's Hounds	
	Behavior = ProductionUpdate ProductionUpdateModuleTag
		GiveNoXP = Yes
	End
	
	Behavior = QueueProductionExitUpdate ModuleTag_11
		PlacementViewAngle  = 45
		UnitCreatePoint			= X:10.0 Y:0.0 Z:0.0
		NaturalRallyPoint		= X:20.0 Y:-20.0 Z:0.0
		ExitDelay			= 100 ;STANDARD_HORDE_EXIT_DELAY
	End
	
	Behavior = SpawnBehavior ModuleTag_SpawnDogs
		SpawnNumber = 3
		InitialBurst = 3
		SpawnTemplateName = RivendellMaggotsHound
		SpawnReplaceDelay = 60000
		CanReclaimOrphans	= Yes
	End

	;	-- Maggot's Farm
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MaggotsFarmEnabler
    SpecialPowerTemplate 			 = SpecialAbilityMaggotsFarm
    TriggeredBy 							 = Upgrade_GenericUpgrade2
  End
	
	Behavior = OCLSpecialPower ModuleTag_MaggotsFarm
		SpecialPowerTemplate       = SpecialAbilityMaggotsFarm
		OCL                        = OCL_SpawnMaggotsFarmEgg
		CreateLocation             = USE_OWNER_OBJECT
		StartsPaused               = Yes
		;SetModelCondition          = ModelConditionState:USER_1
		;SetModelConditionTime      = 8.1
		TriggerFX			             = FX_RohirimSummon
	End
	
	Behavior = AutoHealBehavior ModuleTag_FrodoHealing
		StartsActive          = Yes
		HealingAmount         = M_HERO_HEAL_AMOUNT
		HealingDelay          = 1000
		StartHealingDelay     = M_HERO_HEAL_DELAY
		HealOnlyIfNotInCombat = Yes
	End
	
	Geometry                = CYLINDER
	GeometryMajorRadius     = 8.0
	GeometryMinorRadius     = 8.0
	GeometryHeight          = 19.2
	GeometryIsSmall         = Yes
  Shadow                  = SHADOW_DECAL
  ShadowSizeX             = 18
  ShadowSizeY             = 18
  ShadowTexture           = ShadowI
End

