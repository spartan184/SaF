Object RivendellBreelandRam

; *** ART Parameters ***

	; This is required for garrisoned objects - please put in all objects.
	SelectPortrait         = UPRivendellRam
	ButtonImage	         = uirivram
	
	Draw = W3DScriptedModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes
	  
	  StaticModelLODMode = No
	  
		ExtraPublicBone = CREWBONE
		ExtraPublicBone = PASSENGER
	  DependencySharedModelFlags = MOVING FIRING_OR_PREATTACK_A FIRING_OR_PREATTACK_B FIRING_OR_PREATTACK_C TURN_LEFT TURN_RIGHT BACKING_UP

		DefaultModelConditionState
			Model = auram_skn
			WeaponLaunchBone			=	PRIMARY CREWBONE07
		  Skeleton = IUBATTRRAM_SKL
			WeaponFireFXBone	PRIMARY CREWBONE07		
		End

		IdleAnimationState
			Animation = IDL
				AnimationName = IUBATTRRAM_IDLA
				AnimationMode = LOOP
			End
			StateName = Idle
		End
		;------------------------------------ ATTEMPTED TO FIX INVISIBLE WHEN STUNNED BUG -------------------------------------------------
		; -- Stunned Anims		
		AnimationState        = STUNNED_FLAILING
			Animation           = StunFlail
				AnimationName     = IUBATTRRAM_IDLA
				AnimationMode      = LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			Flags               = RANDOMSTART
		End
		;---------------------------------------------------------------------------------------------------------------------------------------

		AnimationState = MOVING
			Animation = Moving
				AnimationName = IUBATTRRAM_RUNA
				AnimationMode = LOOP
			End
			ParticleSysBone = None InfantryDustTrails
		End

		AnimationState = FIRING_OR_PREATTACK_A
			Animation = Attacking
				AnimationName = IUBATTRRAM_ATKA
				AnimationMode = ONCE
;				UseWeaponTiming = Yes
			End
		End

		AnimationState = FIRING_OR_PREATTACK_B
			Animation = Attacking
				AnimationName = IUBATTRRAM_ATKA
				AnimationMode = ONCE
;				UseWeaponTiming = Yes
			End
		End


		AnimationState = FIRING_OR_PREATTACK_C
			Animation = Attacking
				AnimationName = IUBATTRRAM_ATKA
				AnimationMode = ONCE
;				UseWeaponTiming = Yes
			End
		End


		AnimationState = DYING
			Animation = Dying
				AnimationName = IUBATTRRAM_DIEA
				AnimationMode = ONCE
			End
		End 
		
	End

	; ***DESIGN parameters ***
	Side			            = Rivendell
	IsTrainable		        = No
	EditorSorting		      = UNIT
	ThreatLevel		        = 1.0
	TransportSlotCount	  = 1
	ShroudClearingRange 	= M_SHROUD_CLEAR_STANDARD
	VisionRange		        = ISENGARD_BATTERINGRAM_VISION_RANGE 
	BountyValue        	  = ISENGARD_BATTERINGRAM_BOUNTY_VALUE 		
	CrushableLevel		    = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	DisplayName		        = OBJECT:BreelandBatteringRam
	CommandSet		        = GenericCommandSet
	CommandPoints 		    = 10
	BuildCost 		        = ISENGARD_BATTERINGRAM_BUILDCOST			
	BuildTime		          = ISENGARD_BATTERINGRAM_BUILDTIME			

	WeaponSet
		Conditions  	      = None
		Weapon		          = PRIMARY   IsengardBatteringRam
		Weapon		          = SECONDARY IsengardBatteringRamGate
		OnlyAgainst 	      = SECONDARY BLOCKING_GATE 
		Weapon      	      = TERTIARY  IsengardBatteringRamWall
		OnlyAgainst 	      = TERTIARY  WALK_ON_TOP_OF_WALL
	End
	
	ArmorSet
		Conditions          = None
		Armor               = BatteringRamArmor
		DamageFX            = None
	End
 
	; *** AUDIO Parameters *** ;
	VoiceAttack								          = BreeLandersRamVoiceAttack
	VoiceAttackAir							        = BreeLandersRamVoiceAttack				
	VoiceAttackCharge						        = BreeLandersRamVoiceAttack
	VoiceAttackMachine						      = BreeLandersRamVoiceAttack
	VoiceAttackStructure					      = BreeLandersRamVoiceAttack
	VoiceCreated							          = BreeLandersRamVoiceSalute
	VoiceFullyCreated 						      = BreeLandersRamVoiceSalute		
	VoiceGuard								          = BreeLandersRamVoiceMove
	VoiceMove								            = BreeLandersRamVoiceMove		
	VoiceMoveToCamp							        = BreeLandersRamVoiceMoveCamp
	VoiceMoveWhileAttacking					    = BreeLandersVoiceDisengage
	VoicePriority							          = 30
	VoiceRetreatToCastle					      = BreeLandersVoiceRetreat
	VoiceSelect								          = BreeLandersVoiceSelect
	VoiceSelectBattle 						      = BreeLandersRamVoiceSelectBattle

	VoiceEnterStateAttack					      = BreeLandersRamVoiceEnterStateAttack	
	VoiceEnterStateAttackCharge				  = BreeLandersRamVoiceEnterStateAttack
	VoiceEnterStateAttackMachine			  = BreeLandersRamVoiceEnterStateAttack
	VoiceEnterStateAttackStructure			= BreeLandersRamVoiceEnterStateAttack
	VoiceEnterStateMove						      = BreeLandersRamVoiceEnterStateMove
	VoiceEnterStateMoveToCamp				    = BreeLandersRamVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking		= BreeLandersVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle			= BreeLandersVoiceEnterStateRetreat
	
	SoundImpact				                  = ImpactHorse
	
	UnitSpecificSounds
		VoiceGarrison			                = BreeLandersVoiceGarrison
	End

	Behavior					                  = LargeGroupAudioUpdate ModuleTag_LGAU		;Tie into LargeGroupAudio system
		Key                               = SiegeWeapon BatteringRam
	End

; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MACHINE SCORE CAN_ATTACK PATH_THROUGH_INFANTRY CAN_ATTACK_WALLS
	
	Body                          = ActiveBody ModuleTag_02
		CheerRadius 	              = EMOTION_CHEER_RADIUS
		MaxHealth                   = ISENGARD_BATTERINGRAM_HEALTH			;BALANCE Uruk Hai Health
		MaxHealthDamaged            = ISENGARD_BATTERINGRAM_HEALTH_DAMAGED		
		;RecoveryTime               = ISENGARD_BATTERINGRAM_HEALTH_RECOVERY_TIME	
	End
 
	Behavior                      = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle 	= Yes ATTACK_BUILDINGS
		MoodAttackCheckRate       	= 2500
	End

  Behavior                      = SiegeEngineContain ModuleTag_Contain
		ObjectStatusOfCrew		      = UNSELECTABLE UNATTACKABLE
		Slots				                = 1
		DamagePercentToUnits		    = 100%
		PassengerFilter			        = NONE +CAN_RIDE_BATTERING_RAM
		KillPassengersOnDeath		    = Yes ; fling passenger out to die when siege ladder is done for
		AllowAlliesInside		        = Yes
		AllowEnemiesInside		      = No
		AllowNeutralInside		      = No
		CrewFilter			            = NONE +INFANTRY -CAN_RIDE_BATTERING_RAM    ;Crew is always checked first, then Passenger
		CrewMax				              = 6
		InitialCrew			            = BreelandRamCrew 6
		ExitDelay			              = 500  ; half second
		NumberOfExitPaths		        = 0 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
		GoAggressiveOnExit		      = Yes ; AI Will tell people to set their mood to Aggressive on exiting
		TypeOneForWeaponSet		      = CAN_RIDE_BATTERING_RAM
		EjectPassengersOnDeath		  = Yes
		ShowPips			              = No

		;Bone position for mine
		;PassengerBonePrefix        = PassengerBone:PASSENGER   KindOf:CAN_RIDE_BATTERING_RAM         
		;I can't attach a mine to PASSENGER bone because it has 1 bone and 
		;the contained map of Uruk's already carrying the ram says there are 6. So the 
		;code that handles occupant deploy is screwed up because it doesn't account for
		;multiple bones. So the solution is to use CREWBONE07.

	    ;Bone positions for CREWBONE01-CREWBONE06
		PassengerBonePrefix         = PassengerBone:CREWBONE    KindOf:INFANTRY
	    ;Left side -- so crew members use right handed animations
		BoneSpecificConditionState 1 PASSENGER_VARIATION_1
		BoneSpecificConditionState 4 PASSENGER_VARIATION_1
		BoneSpecificConditionState 6 PASSENGER_VARIATION_1
		;Right side -- so crew members use left handed animations
		BoneSpecificConditionState 2 PASSENGER_VARIATION_2
		BoneSpecificConditionState 3 PASSENGER_VARIATION_2
		BoneSpecificConditionState 5 PASSENGER_VARIATION_2

	End

	LocomotorSet
		Locomotor                   = BatteringRamLocomotor
		Condition                   = SET_NORMAL
		Speed                       = 50 ;45 ;,; 32 ;rto look here
	End
 
	Behavior                      = PhysicsBehavior ModuleTag_04
		;nothing?
		;GravityMult                = 1.0
	End
 
	Behavior                      = SlowDeathBehavior ModuleTag_05
		DeathTypes                  = ALL 
		SinkDelay                   = 3000
		SinkRate                    = 2.00     ; in Dist/Sec
		DestructionDelay            = 9000
		Sound                       = INITIAL MiddlemenHumanVoiceDie
	End
 
	Behavior                      = SquishCollide ModuleTag_06
		;nothing
	End
	
	Geometry            = CYLINDER
	GeometryMajorRadius = 20.0
	GeometryMinorRadius = 20.0
	GeometryHeight      = 12
	GeometryIsSmall     = No
	Shadow              = SHADOW_VOLUME
End