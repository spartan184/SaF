;------------------------------------------------------------------------------
Object RBCampFenceLeft

SelectPortrait = BPRCampWall

  ; *** ART Parameters ***
  Draw = W3DScriptedModelDraw ModuleTag_01
    StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD  
    OkToChangeModelColor = Yes
    DefaultModelConditionState
      Model = RBCFenceLeft
    End

        ModelConditionState = WORLD_BUILDER
              Model = RBCFenceW ;RBCFenceLeft
          End

    IdleAnimationState
        Animation
            AnimationName     = RBCFence.RBCFence
            AnimationMode     = MANUAL
            AnimationBlendTime = 0
        End
        Flags = START_FRAME_LAST
    End    

    ;------------Build Up States
    ModelConditionState   = BASE_BUILD
      Model               = RBCFence
;      ParticleSysBone      = NONE BuildingDoughnutCloud
      ParticleSysBone     = NONE BuildingContructDust
    End  
    AnimationState          = BASE_BUILD
        Animation
            AnimationName = RBCFence.RBCFence
            AnimationMode = ONCE
            AnimationSpeedFactorRange = 2.0 2.5 ; keep range wide to avoid lockstep anims
        End
    End

    AnimationState          = JUST_BUILT
        Animation
            AnimationName = RBCFence.RBCFence
            AnimationMode = MANUAL
            AnimationBlendTime = 0
        End
        Flags = START_FRAME_FIRST
    End    
    
    ModelConditionState  = DAMAGED
      Model         = RBCFence_D1
      ParticleSysBone emberBone01 SmokeBuildingLarge
    
    End
    AnimationState = DAMAGED
    EnteringStateFX    = FX_BuildingDamaged
    End

    ModelConditionState  = REALLYDAMAGED
      Model         = RBCFence_D2
      ParticleSysBone emberBone01 SmokeBuildingLarge
    End
    AnimationState = REALLYDAMAGED
    EnteringStateFX    = FX_BuildingDamaged
    End    
    
    ModelConditionState  = RUBBLE
      Model         = RBCFence_D3  
      ParticleSysBone emberBone01 CatapultDestroyDebris
;      ParticleSysBone emberBone02 SmokeBuildingLarge
      ParticleSysBone emberBone03 PCTMediumDust
    End
    AnimationState = RUBBLE
        EnteringStateFX    = FX_WallWoodDie
;        EnteringStateFX    = FX_BuildingReallyDamaged
    End

      ModelConditionState  = POST_RUBBLE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End
    ModelConditionState  = POST_COLLAPSE
        Model         = None
        ParticleSysBone NONE SmokeBuildingMediumRubble
    End

  End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:RBCampFence
  Side = Rohan
  EditorSorting = STRUCTURE
; Browser = CINEMATICS UNIT

  ArmorSet
    Conditions        = None
    Armor             = RohanCampWallArmor
    DamageFX          = None
  End
  
  CommandSet = EmptyCommandSet

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE DEFENSIVE_WALL NOT_AUTOACQUIRABLE MADE_OF_WOOD
  RadarPriority = NOT_ON_RADAR
  Body                  = ActiveBody ModuleTag_03
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
;  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
;      DestructionDelay  = 5000
;  End

    Behavior                  = StructureCollapseUpdate ModuleTag_06
        MinCollapseDelay        = 000
        MaxCollapseDelay        = 000
        CollapseDamping         = .5
        MaxShudder              = 0.6
        MinBurstDelay           = 250
        MaxBurstDelay           = 800
        BigBurstFrequency       = 4
;        FXList                  = INITIAL   FX_StructureMediumCollapse
;        FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
        DestroyObjectWhenDone    = Yes
        CollapseHeight            = 80
    End

  Behavior = CastleMemberBehavior ModuleTag_CMB
  End 
  
  Geometry              = BOX
  GeometryMajorRadius   = 26.0
  GeometryMinorRadius   = 4.0
  GeometryHeight        = 24.0
  GeometryOffset        = X:2 Y:0 Z:0
  
  GeometryIsSmall       = No
  ;GeometryRotationAnchorOffset = X:1037.871 Y:0
  Shadow                = SHADOW_VOLUME
End