;/////////////////////////////////////////////////////////////////////////////
;//////////////////////// Old Wall ///////////////////////////////////////////
;/////////////////////////////////////////////////////////////////////////////

;------------------------------------------------------------------------------
Object RivendellCampWall

  SelectPortrait                      = BPGCampWall

  ; *** ART Parameters ***
  Draw                                = W3DScriptedModelDraw ModuleTag_01
    OkToChangeModelColor              = Yes
    
    DefaultModelConditionState
      Model                           = abcampwall_skn
    End

    IdleAnimationState
      Animation
        AnimationName                 = abcampwall_skn.abcampwall_skn
        AnimationMode                 = MANUAL
        AnimationBlendTime            = 0
      End
      Flags                           = START_FRAME_LAST
    End    

    ;------------Build Up States
    ModelConditionState               = BASE_BUILD
      Model                           = abcampwall_skn
;      ParticleSysBone                = NONE BuildingDoughnutCloud
      ParticleSysBone                 = NONE BuildingContructDust
    End  
    
    AnimationState                    = BASE_BUILD
      Animation
        AnimationName                 = abcampwall_skn.abcampwall_skn
        AnimationMode                 = ONCE
        AnimationSpeedFactorRange     = 2.0 2.5 ; keep range wide to avoid lockstep anims
      End
    End

    AnimationState                    = JUST_BUILT
      Animation
        AnimationName                 = abcampwall_skn.abcampwall_skn
        AnimationMode                 = MANUAL
        AnimationBlendTime            = 0
      End
      Flags                           = START_FRAME_FIRST
    End    
    
    ;------------Damage States
    ModelConditionState               = DAMAGED UPGRADE_NUMENOR_STONEWORK
      Model                           = abcampwall_skn;d1
      ParticleSysBone emberBone01 SmokeBuildingLarge
    End
    
    ModelConditionState               = DAMAGED
      Model                           = abcampwall_skn;d1
      ParticleSysBone emberBone01 SmokeBuildingLarge
    End
    
    AnimationState                    = DAMAGED
      EnteringStateFX                 = FX_BuildingDamaged
    End

    ;------------Really Damaged States
    ModelConditionState               = REALLYDAMAGED UPGRADE_NUMENOR_STONEWORK
      Model                           = abcampwall_skn
      ParticleSysBone emberBone01 SmokeBuildingLarge
    End
    
    ModelConditionState               = REALLYDAMAGED
      Model                           = abcampwall_skn
      ParticleSysBone emberBone01 SmokeBuildingLarge
    End
    
    AnimationState                    = REALLYDAMAGED
      EnteringStateFX                 = FX_BuildingReallyDamaged
    End    

    ;------------Rubble States
    ModelConditionState               = RUBBLE
      Model                           = GBCampWall_D3
      ParticleSysBone emberBone01 GondorWallDebris
      ParticleSysBone emberBone01 SmokeBuildingLarge
      ParticleSysBone emberBone01 PCTMediumDust
    End
    
    AnimationState                    = RUBBLE
      EnteringStateFX                 = FX_WallStoneDie
    End

    ModelConditionState               = POST_RUBBLE
      Model                           = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End
    ModelConditionState               = POST_COLLAPSE
      Model                           = None
      ParticleSysBone NONE SmokeBuildingMediumRubble
    End

  End

  ; *** AUDIO Parameters ***

    SoundOnDamaged                    = BuildingLightDamageStone
    SoundOnReallyDamaged              = BuildingHeavyDamageStone

    ;ClientBehavior                   = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
    ;    MaxUpdateRangeCap            = 800
    ;    AnimationSound               = Sound:BuildingDebris    Animation:GBCampWall_A.GBCampWall_D3    Frames:0
    ;    AnimationSound               = Sound:BuildingDebris    Animation:GBCampWall_A.GBCampWall_UD3    Frames:0
    ;End


  ; ***DESIGN parameters ***

  DisplayName                         = OBJECT:GBCampWall
  Side                                = Rivendell
  EditorSorting                       = STRUCTURE
; Browser                             = CINEMATICS UNIT

  ArmorSet
    Conditions                        = None
    Armor                             = CampWallArmor
    DamageFX                          = None
  End
  
  CommandSet                          = EmptyCommandSet

  ; *** ENGINEERING Parameters ***  
  KindOf                              = STRUCTURE SELECTABLE IMMOBILE DEFENSIVE_WALL NOT_AUTOACQUIRABLE MADE_OF_STONE
  RadarPriority                       = NOT_ON_RADAR
  Body                                = ActiveBody ModuleTag_03
    MaxHealth                         = 3000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
;  Behavior                           = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
;      DestructionDelay               = 5000
;  End
    
    Behavior                          = StructureCollapseUpdate ModuleTag_06
        MinCollapseDelay              = 000
        MaxCollapseDelay              = 000
        CollapseDamping               = .5
        MaxShudder                    = 0.6
        MinBurstDelay                 = 250
        MaxBurstDelay                 = 800
        BigBurstFrequency             = 4
        DestroyObjectWhenDone         = Yes
        CollapseHeight                = 80
    End
      
  Behavior                            = CastleMemberBehavior ModuleTag_CMB
  End
  
;///////// New Rivendell Camp Wall Geometry ////////////////////
  Geometry				                    = BOX
	GeometryIsSmall			                = No
	GeometryName			                  = Cube
	GeometryMajorRadius		              = 82.953
	GeometryMinorRadius		              = 4.0 
	GeometryHeight			                = 38.086
	GeometryContactPoint	              = X:0.000 Y:0.000 Z:25.343
  Shadow                              = SHADOW_VOLUME

;/////////////////////////////////////////////////////////////////  
;/////////// Vanilla Gondor Camp Wall Geometry ///////////////////
;  Geometry              = BOX
;  GeometryMajorRadius   = 4.0
;  GeometryMinorRadius   = 72.0
;  GeometryHeight        = 24.0
;  GeometryIsSmall       = No
;/////////////////////////////////////////////////////////////////
End

