
;############# Behavior = AISpecialPowerUpdate ##############

Syntax:
 	Behavior = AISpecialPowerUpdate IsengardPikemanPorcupineFormationAI
		CommandButtonName     = Command_IsengardPikemanPorcupineFormation
		SpecialPowerAIType       = AI_SPECIAL_POWER_TOGGLE_MELEE_AND_RANGE
    SpecialPowerRange       = 25
		SpecialPowerRadius       = 50
    SpellMakesAStructure     = Yes
    RandomizeTargetLocation  = Yes
	End


ToggleWeaponSets
AI_SPECIAL_POWER_TOGGLE_SIEGE
AI_SPECIAL_POWER_TOGGLE_MELEE_AND_RANGE

Activate Mount
AI_SPECIAL_POWER_GOBLINKING_MOUNTED
AI_SPECIAL_POWER_TOGGLE_MOUNTED

Activate FriendlyArmyAssist
AI_SPELLBOOK_ASSIST_BATTLE_BUFF ;centers on own fighting horde
AI_SPELLBOOK_BUFFTERRAIN
AI_SPECIAL_POWER_LEGOLAS_TRAINARCHERS
AI_SPECIAL_POWER_GIVEXP_AOE

Activate EnemyArmyAttack
AI_SPELLBOOK_ASSIST_BATTLE_DEBUFF ;centers on enemy horde
AI_SPELLBOOK_ARMY_BREAKER ;centers on large enemy hordes
AI_SPELLBOOK_ENSHROUDINGMIST
AI_SPECIAL_POWER_GOBLINKING_CALLOFTHEDEEP
AI_SPECIAL_POWER_LEGOLAS_ARROWWIND
AI_SPECIAL_POWER_TARGETAOE_SUMMON
AI_SPECIAL_POWER_GANDALF_WIZARD_BLAST
AI_SPECIAL_POWER_ELENDIL
AI_SPECIAL_POWER_RANGED_AOE_ATTACK

Activate SpecialTargetAttacks ;mostly Heroes
AI_SPELLBOOK_CITADEL
AI_SPELLBOOK_STRUCTURE_BASEKILL ;centers on enemy fortress
AI_SPELLBOOK_STRUCTURE_BREAKER_PREF_WALLS ;centers on enemy structures
AI_SPELLBOOK_STRUCTURE_BREAKER ;centers on enemy structures
AI_SPECIAL_POWER_ENEMY_TYPE_KILLER_STRUCTURES ;centers on enemy structures
AI_SPECIAL_POWER_ENEMY_TYPE_KILLER_RANGED ;centers on enemy heroes or monsters
AI_SPECIAL_POWER_ENEMY_TYPE_KILLER ;centers on enemy heroes or monsters

Activate when damaged
AI_SPELLBOOK_HEAL
AI_SPECIAL_POWER_BASIC_SELF_BUFF
AI_SPECIAL_POWER_SELFAOEHEALHEROS
AI_SPECIAL_POWER_HEAL_AOE

Activate SpecialTargetSpells
AI_SPELLBOOK_SHROUD_REVEAL ;centers on enemy fortress position
AI_SPELLBOOK_TREE_KILLER
AI_SPELLBOOK_CAPTURE_CREEP
AI_SPELLBOOK_CALLTHEHORDE
AI_SPELLBOOK_BUFFECONOMYBUILDING
AI_SPELLBOOK_REBUILD
AI_SPECIAL_POWER_CAPTURE_BUILDING
AI_SPELLBOOK_ALWAYS_FIRE

Activate GeneralTargetAttacks ;units
AI_SPECIAL_POWER_CHARGE
AI_SPECIAL_POWER_GOBLINKING_BATTLEFRENZY

Stances
AI_SPECIAL_POWER_STANCEHOLDGROUND
AI_SPECIAL_POWER_STANCEAGGRESSIVE
AI_SPECIAL_POWER_STANCEBATTLE

	16  = Command_SetStanceBattle
	17  = Command_SetStanceAggressive
	18  = Command_SetStanceHoldGround

	#include "..\..\..\..\includes\Battlestance_SEE.inc"

	Behavior = StancesBehavior ModuleTag_StancesBehavior
    StanceTemplate = Artillery
  End
  
  
;############# WeaponSet Conditions ##############

	WeaponSet
		Conditions = None
		DefaultWeaponChoiceCritera = SELECT_AT_RANDOM
		ReadyStatusSharedWithinSet = Yes
		
		Weapon			= PRIMARY		WildMountainGiantPunch1		// ATKA - Left arm swat
		Weapon			= SECONDARY		WildMountainGiantPunch2		// ATKB - Right backhand
    
    
		Weapon			= TERTIARY		WildMountainGiantPunch3		// ATKD - Right football kick
		PreferredAgainst	= TERTIARY		STRUCTURE MACHINE HORDE SHIP

		Weapon			= QUATERNARY	GiantBuildingTeardown		// ATKE - Left forward kick
		OnlyAgainst		= QUATERNARY	MONSTER STRUCTURE BLOCKING_GATE
		
		Weapon			= QUINARY		WildMountainGiantMovingPunch	// ATRA - Right backhand while moving
		OnlyInCondition	= QUINARY		MOVING
	End
  
  Conditions = None
    WEAPONSET_TOGGLE_1
    WEAPONSET_HERO_MODE
    WEAPONSET_MOUNTED
  
  DefaultWeaponChoiceCritera = SELECT_AT_RANDOM
    USE_WEAPONSET_DEFAULT_CRITERIA
    SELECT_AT_RANDOM
    PREFER_LEAST_MOVEMENT
    PREFER_GRAB_OVER_DAMAGE
    PREFER_LONGEST_RANGE
    PREFER_MOST_DAMAGE
  
  OnlyInCondition	= QUINARY		'AnimationState'
  
  PreferredAgainst	= TERTIARY	'KINDOF'
  
  OnlyAgainst		= QUATERNARY	'KINDOF'
  
;############# Autoability AI ##############

	Behavior = AutoAbilityBehavior ModuleTag_AutoAbilityBehavior
    ForbiddenStatus = ?
		SpecialAbility				= SpecialAbilityWyrmReposition					; Use this ability
		StartsActive				= Yes											; Active immediately.
		BaseMaxRangeFromStartPos	= Yes											; Use the starting position rather than the current.
		AdjustAttackMeleePosition	= Yes											; Offset attacking position away from large objects.
		MaxScanRange				= 500											; Target must be within this range.
		MinScanRange				= 50											; Target must be further away than this.
		AllowSelf					= No
		IdleTimeSeconds				= 4												; Must be idle for this long to consider the ability, stops attacks being interrupted.
		Query						= 1 ANY ENEMIES +INFANTRY -HORDE -SWARM_DOZER	; Infantry first please.
		Query						= 1 ALL ENEMIES M_NOT_FLYING_UNITS -SWARM_DOZER	; Then any other enemy.
	End
  
ForbiddenStatus
WorkingRadius

;############# SpecialPower Enums ##############
SPECIAL_GRAB_PASSENGER
SPECIAL_GENERAL_TARGETLESS
SPECIAL_GENERAL_TARGETLESS_TWO
SPECIAL_GENERAL_TARGETLESS_THREE
SPECIAL_ARROW_STORM
SPECIAL_AT_VISIBLE_OBJECT
SPECIAL_SPAWN_ORCS
SPECIAL_REPAIR_STRUCTURE
SPECIAL_BALROG_SCREAM
SPECIAL_HERO_MODE
SPECIAL_FLAMING_SWORD
SPECIAL_BALROG_BREATH
SPECIAL_KNIFE_ATTACK
SPECIAL_DISGUISE
SPECIAL_PERSONAL_FLOOD
SPECIAL_ELVEN_GRACE
SPECIAL_GENERAL_TARGETLESS_TWO
SPECIAL_SMITE_CANCELDISGUISE
SPECIAL_AT_VISIBLE_OBJECT
SPECIAL_FAKE_LEADERSHIP_BUTTON
SPECIAL_MTTROLL_BORED
SPECIAL_BALROG_WINGS
SPECIAL_FIRE_WHIP
SPECIAL_SONIC_SONG
SPECIAL_SHIELD_BUBBLE
SPECIAL_TELEKENETIC_PUSH
SPECIAL_TOGGLE_MOUNTED
SPECIAL_CHARGE_ATTACK
SPECIAL_AT_VISIBLE_GROUNDED_OBJECT
SPECIAL_DEFLECT_PROJECTILES
SPECIAL_SIEGEDEPLOY
SPECIAL_STOP
SPECIAL_KINGS_FAVOR
SPECIAL_SWOOP_ATTACK
SPECIAL_LEVEL_ATTACK
SPECIAL_SCREECH
SPECIAL_LEVEL_POSITION
SPECIAL_GIVE_UPGRADE
SPECIAL_HARVEST
SPECIAL_GIVE_UPGRADE_NEAREST
SPECIAL_ROUSING_SPEECH
SPECIAL_TRIGGER_ATTRIBUTE_MODIFIER
SPECIAL_GLORIOUS_CHARGE
SPECIAL_WOUND_ARROW
SPECIAL_REVEAL_MAP_AREA
SPECIAL_PART_THE_HEAVENS
SPECIAL_CALL_OF_THE_DEEP
SPECIAL_SKULL_TOTEM
SPECIAL_SPAWN_TORNADO
SPECIAL_GIMLI_LEAP
SPECIAL_MAN_THE_WALLS
SPECIAL_RANGER_AMBUSH
SPECIAL_OSGILIATH_VETERANS
SPECIAL_PRINCE_OF_DOL_ARMOTH
SPECIAL_SARUMAN_FIRE_BALL
SPECIAL_EAT
SPECIAL_INFANTRY_CAPTURE_BUILDING
SPECIAL_DISGUISE_AS_VEHICLE
SPECIAL_EXTINGUISH_FIRE
SPECIAL_WORD_OF_POWER
SPECIAL_ATHELAS
SPECIAL_ATTRIBUTEMOD_CANCELDISGUISE
SPECIAL_WIZARD_BLAST
SPECIAL_DOMINATE_ENEMY
SPECIAL_CURSE_ENEMY
SPECIAL_EVACUATE_GARRISON
SPECIAL_SPAWN_OATHBREAKERS
SPECIAL_SPELL_BOOK_MEN_OF_DALE_ALLIES
SPECIAL_SPELL_BOOK_ELVEN_GIFTS
SPECIAL_SPELL_BOOK_HEAL
SPECIAL_SPELL_BOOK_SPAWN_LONE_TOWER
SPECIAL_SPELL_BOOK_RALLYING_CALL
SPECIAL_SPELL_BOOK_TAINT
SPECIAL_SPELL_BOOK_EYE_OF_SAURON
SPECIAL_SPELL_BOOK_BARRICADE
SPECIAL_SPELL_BOOK_WAR_CHANT
SPECIAL_SPELL_BOOK_CREBAIN
SPECIAL_SPELL_BOOK_CAVE_BATS
SPECIAL_SPELL_BOOK_TOM_BOMBADIL
SPECIAL_SPELL_BOOK_HOBBIT_ALLIES
SPECIAL_SPELL_BOOK_REBUILD
SPECIAL_SPELL_BOOK_ARROW_VOLLEY_GOOD
SPECIAL_SPELL_BOOK_ENSHROUDING_MIST
SPECIAL_SPELL_BOOK_ELVEN_WOOD
SPECIAL_SPELL_BOOK_DWARVEN_RICHES
SPECIAL_SPELL_BOOK_UNDERMINE
SPECIAL_SPELL_BOOK_MEN_OF_DALE_ALLIES
SPECIAL_SPELL_BOOK_INDUSTRY
SPECIAL_SPELL_BOOK_DEVASTATION
SPECIAL_SPELL_BOOK_UNTAMED_ALLEGIANCE
SPECIAL_SPELL_BOOK_ARROW_VOLLEY_EVIL
SPECIAL_SPELL_BOOK_WILD_MEN_ALLIES
SPECIAL_SPELL_BOOK_SCAVENGER
SPECIAL_SPELL_BOOK_CALL_THE_HORDE
SPECIAL_SPELL_BOOK_SPIDERLING_ALLIES
SPECIAL_SPELL_BOOK_CLOUD_BREAK
SPECIAL_SPELL_BOOK_ROHAN_ALLIES
SPECIAL_SPELL_BOOK_ENT_ALLIES
SPECIAL_SPELL_BOOK_EAGLE_ALLIES
SPECIAL_SPELL_BOOK_DUNEDAIN_ALLIES
SPECIAL_SPELL_BOOK_PALANTIR_VISION
SPECIAL_SPELL_BOOK_BOMBARD
SPECIAL_SPELL_BOOK_DARKNESS
SPECIAL_SPELL_BOOK_AWAKEN_WYRM
SPECIAL_SPELL_BOOK_FREEZING_RAIN
SPECIAL_SPELL_BOOK_FUEL_THE_FIRES
SPECIAL_SPELL_BOOK_WATCHER_ALLY
SPECIAL_SPELL_BOOK_ARMY_OF_THE_DEAD
SPECIAL_SPELL_BOOK_EARTHQUAKE
SPECIAL_SPELL_BOOK_FLOOD
SPECIAL_SPELL_BOOK_SUNFLARE
SPECIAL_SPELL_BOOK_CITADEL
SPECIAL_SPELL_BOOK_BALROG_ALLY
SPECIAL_SPELL_BOOK_RAIN_OF_FIRE
SPECIAL_SPELL_BOOK_DRAGON_ALLY
SPECIAL_SPELL_BOOK_DRAGON_STRIKE


;############# MeleeBehaviors ##############

		MeleeBehavior = Amoeba
			FacingBonus			=	30.0
			AngleLimitCos		=	-0.17
			InnerRange			=	30
			OuterRange			=	80
			OuterRangeBuildings	=	140
		End

MeleeAttackBehaviours:

Amoeba
WaitForLeader
Swarm
HoldGround

HordeMeleeHoldGround

HordeMeleeSwarm

HordeMeleeFormation

DistanceToPassiveLeader
DistanceToActiveLeader
FollowLeader

DelayRandomActivateMax
DelayRandomActivateMin
DelayUntilIdle
IdleModelConditions
OuterRangeBuildings
OuterRange
InnerRange
AngleLimitCos
FacingBonus

C:\projects\bfme2patch103\bfme2\Code\GameEngine\Source\GameLogic\Object\Contain\HordeContain\HordeMeleeAmoeba.cpp

DestinationTemplate
WeaponToggleCommandSet
WeaponSetFlags
ModelConditionCommandSet
ModelConditionFlags


;############# KINDOF Spread ##############

ECONOMY_STRUCTURE
  evilfaction\structures\isengard\isengardfurnace.ini (9):	KindOf						= +LIVING_WORLD_BUILDING_MIRROR +ECONOMY_STRUCTURE
  evilfaction\structures\mordor\mordorslaughterhouse.ini (10):	KindOf						= +LIVING_WORLD_BUILDING_MIRROR +ECONOMY_STRUCTURE
  evilfaction\structures\wild\wildmineshaft.ini (262):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION IGNORE_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY CAN_ATTACK GARRISON LIVING_WORLD_BUILDING_MIRROR GARRISONABLE_UNTIL_DESTROYED ECONOMY_STRUCTURE
  goodfaction\structures\dwarven\dwarvenmineshaft.ini (286):	KindOf          = SELECTABLE IMMOBILE STRUCTURE FS_CASH_PRODUCER GARRISON ECONOMY_STRUCTURE GARRISONABLE_UNTIL_DESTROYED AUTO_RALLYPOINT IGNORE_FOR_VICTORY SCORE
  goodfaction\structures\elven\elvenmallorntree.ini (243):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MADE_OF_STONE FS_FACTORY CAN_ATTACK IGNORE_FOR_VICTORY LIVING_WORLD_BUILDING_MIRROR ECONOMY_STRUCTURE
  goodfaction\structures\farminterface.ini (226):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP AUTO_RALLYPOINT FS_FACTORY ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK MADE_OF_STONE ECONOMY_STRUCTURE
  goodfaction\structures\men\farm.ini (119):	KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP FS_CASH_PRODUCER LIVING_WORLD_BUILDING_MIRROR ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK MADE_OF_STONE ECONOMY_STRUCTURE IGNORE_FOR_VICTORY
  neutral\outpost.ini (184):

FS_CASH_PRODUCER
  civilian\civilianbuildings.ini (18860):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP SUPPLY_GATHERING_CENTER AUTO_RALLYPOINT FS_FACTORY FS_CASH_PRODUCER CAN_ATTACK IGNORE_FOR_VICTORY
  civilian\civilianbuildings.ini (19341):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP GARRISONABLE_UNTIL_DESTROYED FS_CASH_PRODUCER CAN_ATTACK GARRISON IGNORE_FOR_VICTORY;for the slaughterhordecontain
  civilian\civilianbuildings.ini (19749):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_CASH_PRODUCER CASTLE_KEEP IGNORE_FOR_VICTORY
  goodfaction\structures\dwarven\dwarvenmineshaft.ini (286):	KindOf          = SELECTABLE IMMOBILE STRUCTURE FS_CASH_PRODUCER GARRISON ECONOMY_STRUCTURE GARRISONABLE_UNTIL_DESTROYED AUTO_RALLYPOINT IGNORE_FOR_VICTORY SCORE
  goodfaction\structures\men\farm.ini (119):	KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP FS_CASH_PRODUCER LIVING_WORLD_BUILDING_MIRROR ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK MADE_OF_STONE ECONOMY_STRUCTURE IGNORE_FOR_VICTORY

FS_TECHNOLOGY
  evilfaction\structures\wild\holes.ini (2):#define WILD_HOLE_KINDOF		PRELOAD STRUCTURE SELECTABLE IMMOBILE REBUILD_HOLE CAN_SEE_THROUGH_STRUCTURE FS_TECHNOLOGY NOT_AUTOACQUIRABLE
  goodfaction\structures\dwarven\dwarvenmineshaft.ini (495):	KindOf          = SELECTABLE IMMOBILE STRUCTURE FS_TECHNOLOGY GARRISON GARRISONABLE_UNTIL_DESTROYED AUTO_RALLYPOINT IGNORE_FOR_VICTORY
  goodfaction\structures\elven\eregionforge.ini (296):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_FACTORY LIVING_WORLD_BUILDING_MIRROR NEED_BASE_FOUNDATION ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK FS_TECHNOLOGY IGNORE_FOR_VICTORY
  goodfaction\structures\elven\galadrielswell.ini (192):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MADE_OF_STONE FS_TECHNOLOGY IGNORE_FOR_VICTORY

FS_BASE_DEFENSE
  civilian\rivendellbuildings.ini (3284):    KindOf	= PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE
  evilfaction\structures\isengard\battletower.ini (260):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK MADE_OF_WOOD GARRISON GARRISONABLE_UNTIL_DESTROYED AUTO_RALLYPOINT CAN_SHOOT_OVER_WALLS IGNORE_FOR_VICTORY FS_BASE_DEFENSE ; ;
  evilfaction\structures\isengard\isengardballistaexpansion.ini (143):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_BASE_DEFENSE MADE_OF_STONE
  evilfaction\structures\isengard\isengardminelauncherexpansion.ini (248):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE
  evilfaction\structures\isengard\isengardtowerexpansion.ini (152):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE
  evilfaction\structures\mordor\barricade.ini (161):	KindOf				= SELECTABLE IMMOBILE STRUCTURE SPAWNS_ARE_THE_WEAPONS IGNORE_FOR_VICTORY FS_BASE_DEFENSE ; ;
  evilfaction\structures\mordor\barricade.ini (362):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_BASE_DEFENSE MADE_OF_STONE CAN_ATTACK	
  evilfaction\structures\mordor\battletower.ini (209):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK MADE_OF_WOOD CAN_SHOOT_OVER_WALLS IGNORE_FOR_VICTORY FS_BASE_DEFENSE ; ;
  evilfaction\structures\mordor\mordorgatewatchersexpansion.ini (147):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE SCARY	
  evilfaction\structures\mordor\mordorwallcatapultexpansion.ini (143):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_BASE_DEFENSE MADE_OF_STONE
  evilfaction\structures\sentrytower.ini (168):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_WOOD
  evilfaction\structures\wild\wildarrowdenexpansion.ini (156):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE
  evilfaction\structures\wild\wildgiantsentryexpansion.ini (137):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE CAN_ATTACK SCORE NEED_BASE_FOUNDATION FS_BASE_DEFENSE MADE_OF_STONE
  evilfaction\structures\wild\wildsentrytower.ini (196):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAN_ATTACK GARRISON GARRISONABLE_UNTIL_DESTROYED AUTO_RALLYPOINT CAN_SHOOT_OVER_WALLS IGNORE_FOR_VICTORY FS_BASE_DEFENSE ; ;
  evilfaction\structures\wild\wildspiderholesexpansion.ini (129):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE
  goodfaction\structures\dwarven\dwarfsentrytower.ini (225):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION AUTO_RALLYPOINT FS_FACTORY GARRISONABLE_UNTIL_DESTROYED CAN_SHOOT_OVER_WALLS IGNORE_FOR_VICTORY FS_BASE_DEFENSE ; ;
  goodfaction\structures\dwarven\dwarvencatapultexpansion.ini (144):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_BASE_DEFENSE MADE_OF_STONE
  goodfaction\structures\dwarven\dwarvenerebortowerexpansion.ini (165):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE
  goodfaction\structures\dwarven\dwarvenfortress.ini (258):	KindOf  = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_BASE_DEFENSE MADE_OF_STONE WALL_HUB ;WALL_UPGRADE	
  goodfaction\structures\elven\elvenbattletower.ini (208):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK MADE_OF_WOOD GARRISON GARRISONABLE_UNTIL_DESTROYED ALWAYS_SHOW_HOUSE_COLOR FS_BASE_DEFENSE AUTO_RALLYPOINT CAN_SHOOT_OVER_WALLS IGNORE_FOR_VICTORY
  goodfaction\structures\elven\elvenfloodgateexpansion.ini (253):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE
  goodfaction\structures\elven\elvensentrytower.ini (170):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY FS_BASE_DEFENSE ; ;
  goodfaction\structures\elven\elvenvigilantentexpansion.ini (255):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE CAN_ATTACK SCORE NEED_BASE_FOUNDATION FS_BASE_DEFENSE MADE_OF_STONE
  goodfaction\structures\elven\elvenwatchtowerexpansion.ini (146):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE
  goodfaction\structures\men\arrowtowerexpansion.ini (233):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE
  goodfaction\structures\men\battletower.ini (253):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK GARRISONABLE_UNTIL_DESTROYED GARRISON AUTO_RALLYPOINT CAN_SHOOT_OVER_WALLS IGNORE_FOR_VICTORY FS_BASE_DEFENSE ; ;
  goodfaction\structures\men\sentrytower.ini (202):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE
  goodfaction\structures\men\sentrytower.ini (282):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAN_ATTACK FS_BASE_DEFENSE MADE_OF_STONE
  goodfaction\structures\men\trebuchetexpansion.ini (224):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_BASE_DEFENSE MADE_OF_STONE
  obsolete\rohan\sentrytower.ini (173):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CAN_ATTACK FS_BASE_DEFENSE MADE_OF_WOOD
  system\system.ini (11):#define SPELL_BOOK_REQUIREMENTS_FILTER NONE +COMMANDCENTER -FS_BASE_DEFENSE ; ;

FS_FACTORY
  civilian\civilianbuildings.ini (18860):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP SUPPLY_GATHERING_CENTER AUTO_RALLYPOINT FS_FACTORY FS_CASH_PRODUCER CAN_ATTACK IGNORE_FOR_VICTORY
  civilian\civilianbuildings.ini (26761):  KindOf          = STRUCTURE SELECTABLE IMMOBILE CASTLE_KEEP FS_FACTORY AUTO_RALLYPOINT CAN_ATTACK
  civilian\civilianbuildings.ini (34924):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_FACTORY NEED_BASE_FOUNDATION CASTLE_KEEP MADE_OF_WOOD IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED ;SCORE
  civilian\civilianbuildings.ini (35160):	KindOf              = VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER 
  civilian\civilianbuildings.ini (35403):	KindOf			= VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER DONT_HIDE_IF_FOGGED
  civilian\ereborbuildings.ini (5570):	KindOf			= IMMOBILE STRUCTURE SELECTABLE FS_FACTORY DOZER_FACTORY COMMANDCENTER CASTLE_KEEP AUTO_RALLYPOINT		
  civilian\ereborbuildings.ini (5766):	KindOf			= VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER DONT_HIDE_IF_FOGGED
  civilian\helmsdeepbuildings.ini (319):	KindOf              = VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER
  civilian\helmsdeepbuildings.ini (545):	KindOf			= VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER DONT_HIDE_IF_FOGGED
  civilian\minasmorgulbuildings.ini (1089):	KindOf              = VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT WALK_ON_TOP_OF_WALL DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER
  civilian\minasmorgulbuildings.ini (1349):	KindOf			= VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER DONT_HIDE_IF_FOGGED
  civilian\rivendellbuildings.ini (2265):    KindOf				= IMMOBILE STRUCTURE SELECTABLE FS_FACTORY DOZER_FACTORY COMMANDCENTER
  civilian\rivendellbuildings.ini (2450):	KindOf			= VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER DONT_HIDE_IF_FOGGED
  civilian\shirebuildings.ini (1241):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION AUTO_RALLYPOINT FS_FACTORY LINKED_TO_FLAG CAN_CAST_REFLECTIONS NOT_AUTOACQUIRABLE NEVER_CULL_FOR_MP
  evilfaction\structures\evilmen\campsandcastles.ini (228):	KindOf					= VITAL_FOR_BASE_SURVIVAL STRUCTURE SELECTABLE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE
  evilfaction\structures\evilmen\haradrimpalace.ini (263):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY MADE_OF_WOOD FACE_AWAY_FROM_CASTLE_KEEP
  evilfaction\structures\evilmen\mumakilpen.ini (277):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY NEED_BASE_FOUNDATION MADE_OF_WOOD FACE_AWAY_FROM_CASTLE_KEEP
  evilfaction\structures\isengard\armory.ini (254):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_FACTORY MADE_OF_WOOD CAN_ATTACK LIVING_WORLD_BUILDING_MIRROR IGNORE_FOR_VICTORY
  evilfaction\structures\isengard\campsandcastles.ini (172):	KindOf					= VITAL_FOR_BASE_SURVIVAL STRUCTURE SELECTABLE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE
  evilfaction\structures\isengard\campsandcastles.ini (759):  KindOf            = PRELOAD STRUCTURE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE FS_FACTORY AUTO_RALLYPOINT SELECTABLE MADE_OF_METAL
  evilfaction\structures\isengard\campsandcastles.ini (979):	KindOf			= VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER DONT_HIDE_IF_FOGGED		; MADE_OF_METAL NEED_BASE_FOUNDATION
  evilfaction\structures\isengard\isengardfortress.ini (817):	KindOf              = PRELOAD COMMANDCENTER VITAL_FOR_BASE_SURVIVAL STRUCTURE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY SELECTABLE FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE DOZER_FACTORY
  evilfaction\structures\isengard\siegeworks.ini (303):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT MADE_OF_WOOD CAN_ATTACK FACE_AWAY_FROM_CASTLE_KEEP
  evilfaction\structures\isengard\tents.ini (138):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD
  evilfaction\structures\isengard\toweroforthanc.ini (91):	KindOf              = VITAL_FOR_BASE_SURVIVAL PRELOAD STRUCTURE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE FS_FACTORY AUTO_RALLYPOINT SELECTABLE MADE_OF_METAL DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER
  evilfaction\structures\isengard\toweroforthanc.ini (303):  KindOf              = VITAL_FOR_BASE_SURVIVAL PRELOAD STRUCTURE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP NOT_AUTOACQUIRABLE FS_FACTORY AUTO_RALLYPOINT SELECTABLE MADE_OF_METAL
  evilfaction\structures\isengard\urukpit.ini (251):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_FACTORY LIVING_WORLD_BUILDING_MIRROR MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT MADE_OF_DIRT FACE_AWAY_FROM_CASTLE_KEEP
  evilfaction\structures\isengard\wargpit.ini (318):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT MADE_OF_WOOD FACE_AWAY_FROM_CASTLE_KEEP
  evilfaction\structures\isengard\wargsentry.ini (180):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_FACTORY NEED_BASE_FOUNDATION CASTLE_KEEP MADE_OF_WOOD
  evilfaction\structures\mordor\campsandcastles.ini (175):	KindOf					= VITAL_FOR_BASE_SURVIVAL STRUCTURE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY SELECTABLE FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE
  evilfaction\structures\mordor\mordorfortress.ini (611):	KindOf              = PRELOAD COMMANDCENTER VITAL_FOR_BASE_SURVIVAL STRUCTURE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY SELECTABLE FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE DOZER_FACTORY
  evilfaction\structures\mordor\mordortavern.ini (246):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION AUTO_RALLYPOINT FS_FACTORY CAN_ATTACK LIVING_WORLD_BUILDING_MIRROR
  evilfaction\structures\mordor\orcpit.ini (263):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY MADE_OF_DIRT FACE_AWAY_FROM_CASTLE_KEEP LIVING_WORLD_BUILDING_MIRROR
  evilfaction\structures\mordor\siegeworks.ini (571):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_FACTORY AUTO_RALLYPOINT  MADE_OF_DIRT FACE_AWAY_FROM_CASTLE_KEEP
  evilfaction\structures\mordor\tents.ini (201):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP FS_FACTORY AUTO_RALLYPOINT  MADE_OF_WOOD
  evilfaction\structures\mordor\trollcage.ini (358):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY MADE_OF_WOOD FACE_AWAY_FROM_CASTLE_KEEP
  evilfaction\structures\port.ini (82):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY PORT ;NEED_BASE_FOUNDATION
  evilfaction\structures\wild\campsandcastles.ini (235):	KindOf					= VITAL_FOR_BASE_SURVIVAL STRUCTURE SELECTABLE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE
  evilfaction\structures\wild\cave.ini (269):	KindOf			= PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY MADE_OF_DIRT CAN_ATTACK LIVING_WORLD_BUILDING_MIRROR
  evilfaction\structures\wild\fissure.ini (221):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY MADE_OF_WOOD
  evilfaction\structures\wild\wildburrowsexpansion.ini (143):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY
  evilfaction\structures\wild\wildfortress.ini (611):	KindOf				= PRELOAD COMMANDCENTER VITAL_FOR_BASE_SURVIVAL STRUCTURE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY SELECTABLE FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE DOZER_FACTORY	
  evilfaction\structures\wild\wildmineshaft.ini (262):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION IGNORE_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY CAN_ATTACK GARRISON LIVING_WORLD_BUILDING_MIRROR GARRISONABLE_UNTIL_DESTROYED ECONOMY_STRUCTURE
  evilfaction\structures\wild\wildspiderpit.ini (238):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY
  evilfaction\structures\wild\wildtreasuretrove.ini (268):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_FACTORY LIVING_WORLD_BUILDING_MIRROR IGNORE_FOR_VICTORY
  goodfaction\structures\dwarven\dwarfbarracks.ini (264):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY NEED_BASE_FOUNDATION ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK MADE_OF_STONE LIVING_WORLD_BUILDING_MIRROR
  goodfaction\structures\dwarven\dwarfbunker.ini (188):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY
  goodfaction\structures\dwarven\dwarfsentrytower.ini (225):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION AUTO_RALLYPOINT FS_FACTORY GARRISONABLE_UNTIL_DESTROYED CAN_SHOOT_OVER_WALLS IGNORE_FOR_VICTORY FS_BASE_DEFENSE ; ;
  goodfaction\structures\dwarven\dwarvenarcheryrange.ini (258):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY NEED_BASE_FOUNDATION ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK MADE_OF_WOOD
  goodfaction\structures\dwarven\dwarvenfortress.ini (955): 	KindOf				= PRELOAD COMMANDCENTER VITAL_FOR_BASE_SURVIVAL STRUCTURE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY SELECTABLE FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE DOZER_FACTORY
  goodfaction\structures\dwarven\dwarvensiegeworks.ini (326):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION AUTO_RALLYPOINT FS_FACTORY LIVING_WORLD_BUILDING_MIRROR
  goodfaction\structures\dwarven\dwarvensummonedcitadel.ini (230):	KindOf				= PRELOAD COMMANDCENTER VITAL_FOR_BASE_SURVIVAL STRUCTURE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY SELECTABLE FS_FACTORY AUTO_RALLYPOINT SCORE DOZER_FACTORY DONT_USE_CANCEL_BUILD_BUTTON SUMMONED	GARRISONABLE_UNTIL_DESTROYED
  goodfaction\structures\elven\barracks.ini (244):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY LIVING_WORLD_BUILDING_MIRROR
  goodfaction\structures\elven\campsandcastles.ini (253):	KindOf					= VITAL_FOR_BASE_SURVIVAL STRUCTURE SELECTABLE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE
  goodfaction\structures\elven\campsandcastles.ini (816):  KindOf					= VITAL_FOR_BASE_SURVIVAL STRUCTURE SELECTABLE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY FS_FACTORY MADE_OF_WOOD CAN_ATTACK AUTO_RALLYPOINT	;  GARRISONABLE_UNTIL_DESTROYED GARRISON
  goodfaction\structures\elven\elvenentmoot.ini (130):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT ;DO_NOT_PICK_ME_WHEN_BUILDING
  goodfaction\structures\elven\elvenfortress.ini (661):	KindOf				= PRELOAD COMMANDCENTER VITAL_FOR_BASE_SURVIVAL STRUCTURE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY SELECTABLE FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE DOZER_FACTORY
  goodfaction\structures\elven\elvengreenpasture.ini (323):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK MADE_OF_WOOD  
  goodfaction\structures\elven\elvenmallorntree.ini (243):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MADE_OF_STONE FS_FACTORY CAN_ATTACK IGNORE_FOR_VICTORY LIVING_WORLD_BUILDING_MIRROR ECONOMY_STRUCTURE
  goodfaction\structures\elven\elvensentrytower.ini (170):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY FS_BASE_DEFENSE ; ;
  goodfaction\structures\elven\eregionforge.ini (296):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_FACTORY LIVING_WORLD_BUILDING_MIRROR NEED_BASE_FOUNDATION ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK FS_TECHNOLOGY IGNORE_FOR_VICTORY
  goodfaction\structures\farminterface.ini (226):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP AUTO_RALLYPOINT FS_FACTORY ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK MADE_OF_STONE ECONOMY_STRUCTURE
  goodfaction\structures\men\archerrange.ini (289):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY NEED_BASE_FOUNDATION ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK
  goodfaction\structures\men\barracks.ini (265):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY NEED_BASE_FOUNDATION ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK MADE_OF_STONE LIVING_WORLD_BUILDING_MIRROR
  goodfaction\structures\men\campsandcastles.ini (207):	KindOf					= VITAL_FOR_BASE_SURVIVAL STRUCTURE SELECTABLE IMMOBILE COMMANDCENTER MP_COUNT_FOR_VICTORY FS_FACTORY AUTO_RALLYPOINT MADE_OF_STONE SCORE DOZER_FACTORY //CAMP_KEEP
  goodfaction\structures\men\campsandcastles.ini (541):  KindOf					= VITAL_FOR_BASE_SURVIVAL STRUCTURE SELECTABLE SCORE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY MADE_OF_STONE ATTACK_NEEDS_LINE_OF_SIGHT AUTO_RALLYPOINT	;  GARRISON GARRISONABLE_UNTIL_DESTROYED
  goodfaction\structures\men\campsandcastles.ini (786):	KindOf			= VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY NEVER_CULL_FOR_MP COMMANDCENTER DONT_HIDE_IF_FOGGED		; MADE_OF_STONE
  goodfaction\structures\men\campsandcastles.ini (3062):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP  MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY
  goodfaction\structures\men\forbiddenpool.ini (201):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY ;NEED_BASE_FOUNDATION
  goodfaction\structures\men\forge.ini (364):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_FACTORY LIVING_WORLD_BUILDING_MIRROR NEED_BASE_FOUNDATION ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK IGNORE_FOR_VICTORY
  goodfaction\structures\men\fortress.ini (711): 	KindOf				= PRELOAD COMMANDCENTER VITAL_FOR_BASE_SURVIVAL STRUCTURE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY SELECTABLE FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE DOZER_FACTORY CAN_CAST_REFLECTIONS
  goodfaction\structures\men\stable.ini (222):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT
  goodfaction\structures\men\workshop.ini (206):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY
  neutral\battleflag.ini (229):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY
  neutral\drydock.ini (226):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY
  neutral\inn.ini (188):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION AUTO_RALLYPOINT FS_FACTORY LINKED_TO_FLAG CAN_CAST_REFLECTIONS NOT_AUTOACQUIRABLE NEVER_CULL_FOR_MP NOT_SELLABLE
  neutral\mirkbridge.ini (165):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY
  neutral\shipwright.ini (193):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NOT_AUTOACQUIRABLE AUTO_RALLYPOINT FS_FACTORY PORT CAN_CAST_REFLECTIONS LINKED_TO_FLAG NEVER_CULL_FOR_MP NOT_SELLABLE
  obsolete\kingpalace.ini (214):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY MADE_OF_WOOD FACE_AWAY_FROM_CASTLE_KEEP
  obsolete\mordorpagoda.ini (227):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY
  obsolete\port.ini (82):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_FACTORY PORT
  obsolete\rohan\archerrange.ini (262):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY NEED_BASE_FOUNDATION ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK MADE_OF_WOOD
  obsolete\rohan\armory.ini (272):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY FS_FACTORY ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK MADE_OF_WOOD ; AUTO_RALLYPOINT ;
  obsolete\rohan\campsandcastles.ini (177):	KindOf					= VITAL_FOR_BASE_SURVIVAL STRUCTURE SELECTABLE IMMOBILE CASTLE_KEEP MP_COUNT_FOR_VICTORY FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD SCORE
  obsolete\rohan\campsandcastles.ini (868):  KindOf					= VITAL_FOR_BASE_SURVIVAL STRUCTURE SELECTABLE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY FS_FACTORY MADE_OF_WOOD CAN_ATTACK AUTO_RALLYPOINT	;  GARRISONABLE_UNTIL_DESTROYED GARRISON
  obsolete\rohan\campsandcastles.ini (2909):	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION CASTLE_KEEP MP_COUNT_FOR_VICTORY FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD
  obsolete\rohan\goldenhall.ini (234):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION MP_COUNT_FOR_VICTORY FS_FACTORY AUTO_RALLYPOINT MADE_OF_WOOD
  obsolete\rohan\stable.ini (344):  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE NEED_BASE_FOUNDATION FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK MADE_OF_WOOD

FS_POWER











;############# Unsorted Stuff ##############


Flags
SPECIAL_ABILITY_PACKING_UNPACKING_OR_USING

PREPARING
PACKING
UNPACKING

PACKING_TYPE_1  ;used in SpecialAbilityUpdate with '		UnpackingVariation		= 1'
PACKING_TYPE_2

		StopUnitBeforeActivating = Yes


WEAPONSTATE_ONE
WEAPONSTATE_TWO
USING_WEAPON_A
FIRING_OR_PREATTACK_A
FIRING_OR_PREATTACK_B
FIRING_OR_PREATTACK_C
FIRING_OR_RELOADING_A
FIRING_OR_RELOADING_B
FIRING_OR_RELOADING_C

EnragedOffBuffFX
EnragedOnBuffFX

FireWeaponUpdate
AIUpdateInterface
HordeAIUpdate
SpecialEnemySenseUpdate




;########## LISTING OF SPECIFIC UPDATE MODULES ##############


  Unspecific Definitions for amost all Updates
		SpecialPowerTemplate    = SpecialAbilityDamrodHeroMode
		UnpackingVariation		= 1
		UnpackTime              = 1 ;instant unpack
		PreparationTime         = 0    ;  
		PackTime                = 0 ;
		AwardXPForTriggering    = 0
  	FreezeAfterTriggerDuration = 2500 // Hold AI for this long after we	fire.
  	AwardXPForTriggering	   = 0	   
  	StartAbilityRange		   = 180.0
    MustFinishAbility		= Yes
    
TriggeredBy
RequiresAllTriggers
ConflictsWith
RequiresAllConflictingTriggers
Permanent

;*---------------------- AIM Modules -----------------------------
Behavior = AimWeaponBehavior AimWeaponModuleTag
  AimLowThreshold  = -0.15
  AimHighThreshold =  0.15
  AimNearDistance = 60.0	; If target closer than this, give Near flag.  This and IsAimingWeapon combine to give extra model condition flags
  AimFarDistance = 60.0	; If target farther than this, give Far flag.  This and IsAimingWeapon combine to give extra model condition flags
End

AIM_NEAR
AIM_FAR
AIM_LOW
AIM_STRAIGHT
AIM_HIGH

;*---------------------- Emotion Modules -----------------------------

	Draw = W3DScriptedModelDraw ModuleTag_W3DModelDraw
	  DependencySharedModelFlags = EMOTION_ALERT EMOTION_MORALE_HIGH EMOTION_MORALE_LOW EMOTION_AFRAID EMOTION_COWER SELECTED EMOTION_TERROR EMOTION_CELEBRATING
    ...
	End

  Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	M_INFANTRY_TAUNT_POINT_RADIUS		; max distance to taunted/pointed objet
 		TauntAndPointUpdateDelay	=	1000	; how often scan (milliseconds)
 		TauntAndPointExcluded		=	NONE
		AfraidOf					=	M_EMOTION_AFRAIDOF_OBJECTFILTER
		AlwaysAfraidOf				=	M_EMOTION_ALWAYS_AFRAIDOF_OBJECTFILTER
 		PointAt						=	M_EMOTION_POINTAT_OBJECTFILTER
 		HeroScanDistance			=	150
 		FearScanDistance			=	M_CAVALRY_FEAR_SCAN_RADIUS
		AddEmotion			=	Terror_Base
		AddEmotion			=	Doom_Base
		AddEmotion			=   BraceForBeingCrushed_Base
		AddEmotion			=	UncontrollableFear_Base
		AddEmotion			=	FearIdle_Base
		AddEmotion			=	FearBusy_Base
		AddEmotion			=	Point_Base
		; AddEmotion			=	Taunt_Base
		AddEmotion	=	OVERRIDE Taunt_Base	
 			AttributeModifier		=	GondorFighterTaunt
 		End		
 		AddEmotion			=	CheerIdle_Base
		AddEmotion			=	CheerBusy_Base
		AddEmotion			=	HeroCheerIdle_Base
		AddEmotion			=	HeroCheerBusy_Base
		AddEmotion			=	Alert_Base
		AddEmotion					=   CheerForAboutToCrush_Base
 	End		

EmotionNugget FearIdle_Base
	Type					=	FEAR
	IgnoreIfUnitBusy			=	Yes
	; IgnoreIfUnitIdle			=	Yes
	AIState				=	BACK_AWAY
	AILockDuration			=	4000
	ModelConditions			=	EMOTION_AFRAID
 	; AttributeStartDelay				=	5000				; must taunt for X seconds before modifier becomes active
 	; AttributeModifierWhileEmotionActive 	= 	Yes				; keep modifier active while emotion lasts
	; ModelConditionsClear	=	MOVING TURN_RIGHT TURN_LEFT TURN_RIGHT_HIGH_SPEED TURN_LEFT_HIGH_SPEED
	; OnlyIfEnemyThreatBelow			=	1
	; Duration				=	30000
	; InactiveDuration			=	20000
	InactiveDurationSameObject 	= 	10000
	; InactiveDurationSameType	=	5000
	StartFXList				=	FX_EmotionCower
	UpdateFXList			=	FX_EmotionCower
	EndFXList				=	FX_EmotionRegroup
  
  CopyFrom
  OnlyIfEnemyThreatAbove
  OnlyIfFriendThreatAbove
  OnlyIfFriendThreatBelow
  IgnoreIfAI
  IgnoreIfHuman
  AttributeDuration
  ModelConditionsSetOnExit
  ModelConditionsClearOnExit
  PreventPlayerCommands
  
End

;*---------------------- SpecialAbilityUpdate -----------------------------
	Behavior = SpecialAbilityUpdate
    StartAbilityRange
    AbilityAbortRange
    PreparationTime
    PersistentPrepTime
    PersistentCount
    PreTriggerUnstealthTime
    SkipPackingWithNoTarget
    PackUnpackVariationFactor
    ParalyzeDurationWhenCompleted
    ParalyzeDurationWhenAborted
    SpecialObject
    SpecialObjectAttachToBone
    MaxSpecialObjects
    SpecialObjectsPersistent
    EffectDuration
    EffectValue
    UniqueSpecialObjectTargets
    SpecialObjectsPersistWhenOwnerDies
    AlwaysValidateSpecialObjects
    FlipOwnerAfterPacking
    FlipOwnerAfterUnpacking
    FleeRangeAfterCompletion
    DisableFXParticleSystem
    DoCaptureFX
    PackSound
    UnpackSound
    PrepSoundLoop
    TriggerSound
    ActiveLoopSound
    LoseStealthOnTrigger
    AwardXPForTriggering
    SkillPointsForTriggering
    ApproachRequiresLOS
    ChargeAttackSpeedBoost
    CustomAnimAndDuration
    GrabPassengerAnimAndDuration
    GrabPassengerHealGainPercent
    UnpackingVariation
    MustFinishAbility
    FreezeAfterTriggerDuration
    DisableWhenWearingTheRing
    RequiredConditions
    RejectedConditions
    ContactPointOverride
    TriggerAttributeModifier
    AttributeModifierDuration
    KillAttributeModifierOnExit
    KillAttributeModifierOnRejected
    Instant
    NeedCollisionBeforeTrigger
    ChainedButton
    SuppressForHordes
    ApproachUntilMembersInRange
    IgnoreFacingCheck
  End


;*---------------------- WeaponFireSpecialAbilityUpdate (For Fire Arrows) -----------------------------
  Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WingBlastUpdate
		SpecialPowerTemplate    = SpecialAbilityWingBlast
		UnpackTime              = 2000												; time before the first flap
		PreparationTime			= 1													; *needs* to be something non-zero
		PackTime                = 1000
		PersistentPrepTime		= 900												; time between flaps, can't get much of a lower value than this.
		PersistentCount			= 20	; Total timing: this * PersistentPrepTime			; Change the anim speed to get a better match.
		AwardXPForTriggering    = 0
		StartAbilityRange		= 1.0	;please don't make this zero
										;zero makes the AI that controls this power sad
		SpecialWeapon			= DrogothWingBlast
		WhichSpecialWeapon		= 3						; sets SPECIAL_WEAPON_THREE
		;SkipContinue			= Yes
	End	

;*---------------------- WeaponModeSpecialPowerUpdate -----------------------------
;--------------- For a single unit use this
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_KnifeEnabler
		SpecialPowerTemplate = SpecialAbilityKnifeFighter
		TriggeredBy = Upgrade_LegolasKnifeFighter
	End
	;Behavior = SpecialPowerModule ModuleTag_KnifeFighterPower                      
	;	SpecialPowerTemplate      = SpecialAbilityKnifeFighter
	;	UpdateModuleStartsAttack  = Yes
	;End
	Behavior = WeaponModeSpecialPowerUpdate ModuleTag_KnifeFighterPowerUpdate
		SpecialPowerTemplate		= SpecialAbilityKnifeFighter
		Duration				= 30000
		AttributeModifier			= LegolasKnifeFighterBonus
		; WeaponSetFlags				= WEAPONSET_TOGGLE_1
		LockWeaponSlot			= SECONDARY ;either this or the one above
    ; uses the ModelConditions
    ; - 'WEAPONLOCK_PRIMARY'
    ; - 'WEAPONLOCK_SECONDARY'
    ; - 'WEAPONLOCK_TERTIARY'
    ; - 'WEAPONLOCK_QUATERNARY'
    ; - 'WEAPONLOCK_QUINARY'
		StartsPaused			= Yes
	End
      ; ModifierList LegolasKnifeFighterBonus
      	; Category = WEAPON
      	; Modifier = ARMOR 20%		
      	; //Modifier = SPEED 135%		// Multiplicitive. Speed multiplied by this, will compound in multiple bonuses
      	; Duration = 0				// ***NOTE: Duration in this instance is specified by WeaponModeSpecialPowerUpdate duration
      ; End

;--------------- This one needs to be in the horde of a hordemember
	Behavior = HordeDispatchSpecialPower ModuleTag_PoisonedBladeDispatch
		SpecialPowerTemplate		= SpecialAbilityGoblinFighterPoisonedBlades
		StartsPaused		  		= No
	End
      ; SpecialPower SpecialAbilityGoblinFighterPoisonedBlades
      	; Enum			= SPECIAL_GENERAL_TARGETLESS
      	; ReloadTime		= 60000
      	; InitiateSound	= PoisonBlades
      ; End
  
  
;*---------------------- HeroModeSpecialPowerUpdate -----------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_LurtzCarnage
		SpecialPowerTemplate	= SpecialAbilityLurtzCarnage
		TriggeredBy		= Upgrade_GothmogCarnage
	End
  	Behavior = SpecialPowerModule ModuleTag_LurtzCarnageStarter             ; SpecialAbility is a SpecialPower, SpecialPower is anyting special
		SpecialPowerTemplate    = SpecialAbilityLurtzCarnage
		StartsPaused		= Yes
		AttributeModifier	= LurtzCarnage
		AttributeModifierAffectsSelf = Yes
;		TriggerFX		= FX_LurtzBloodRage
	End
	Behavior = HeroModeSpecialAbilityUpdate ModuleTag_CarnageUpdate   	; So the difference in SpecialAbility is that it takes timing from this Update, instead of simply firing.
		SpecialPowerTemplate    = SpecialAbilityLurtzCarnage
		HeroEffectDuration	= 15000 ;how long the weaponset is active
		UnpackTime              = 1
		RequiredConditions	= WEAPON_TOGGLE
		;Specific to HeroModeSpecialAbilityUpdate
    UseUSERModelcondition ;unknown
		HeroAttributeModifier = DamrodDeadlySniper
		HeroEffectDuration	= 15000
		StopUnitBeforeActivating = Yes
	End	
  
;*---------------------- ToggleMountedSpecialAbilityUpdate -----------------------------
;--------------- Sets Flag 'MOUNTED' for WeaponSet, LocomotorSet and ModelCondition
  Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_HorseToggle
    SpecialPowerTemplate    	= SpecialAbilityToggleMounted
    UnpackTime              	= 2000
    PreparationTime         	= 0
    PackTime                	= 0
    AwardXPForTriggering    	= 0
    IgnoreFacingCheck        	= Yes
		;Specific to ToggleMountedSpecialAbilityUpdate
    MountedTemplate            	= EvilMenBlackRiderMountedWK ;only for This SpecialAbility
    SynchronizeTimerOnSpecialPower = SpecialAbilityScreech ;only for This SpecialAbility
    OpacityTarget            	= .0 ;only for This SpecialAbility
    CancelDisguiseWhenDismounting = Yes ;only for This SpecialAbility
    TriggerInstantlyOnCreate = Yes ;only for This SpecialAbility
  End

;*---------------------- SpecialDisguiseUpdate -----------------------------
;--------------- Sets Flag 'DISGUISED' for WeaponSet, LocomotorSet and ModelCondition
	Behavior = SpecialDisguiseUpdate ModuleTag_SpecialCancelDisguiseUpdate              
 		SpecialPowerTemplate    = SpecialAbilityEowynCancelDisguise_SEE
 		UnpackTime              = 1000
 		PreparationTime         = 1  
 		PersistentPrepTime      = 250
 		PackTime                = 1000	
 		AwardXPForTriggering    = 0
		;Specific to SpecialDisguiseUpdate
 		OpacityTarget			= .3 ;only for This SpecialAbility
 		DisguiseAsTemplate		= RohanEowyn ;only for This SpecialAbility
 		DisguisedAsTemplate_EnemyPerspective = RohanRohirrimHorde ;only for This SpecialAbility
 		DisguiseFX				= FX_DisguiseExit ;only for This SpecialAbility
 		ForceMountedWhenDisguising = Yes ;only for This SpecialAbility
	End

;*---------------------- AIUpdateInterface -----------------------------
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS ;NOTWHILEATTACKING
		CanAttackWhileContained		= Yes
		AILuaEventsList				= RohanArcherFunctions
		AttackPriority				= 	AttackPriority_Archer
		BurningDeathTime				= M_BURNINGDEATH_DURATION_INFANTRY
    FadeOnPortals
    SpecialContactPoints
    ComboLocoAttackDistance
    ComboLocomotorSet
    TimeToEjectPassengersOnRampage
    RampageRequiresAflame
    RampageTime
    MaxCowerTime
    MinCowerTime
    HoldGroundCloseRangeDistance
    CanAttackWhileContained
    MoodAttackCheckRate
    StandGround =  ;NOTWHILEATTACKING
    StopChaseDistance
	End

;*---------------------- AnimalAIUpdate -----------------------------
 	Behavior = AnimalAIUpdate ModuleTagWanderAround
		FleeRange = 200			; how close enemies have to be before we panic
		FleeDistance = 800      ; how far the animal will run once spooked
		WanderPercentage = 5	;percentage of the time we should move
		MaxWanderDistance = 100  ;maximum distance to move at once
		MaxWanderRadius = 200  ; how far to wander on our own
		UpdateTimer = 10000		; temp disable		11     ; how often do we want to check for enemies
		;AfraidOfCastles = Yes ; are we afraid of entering castles/camps
	End
  
;*---------------------- GiantBirdAIUpdate -----------------------------
	Behavior = GiantBirdAIUpdate ModuleTag_GiantBirdAI
		AutoAcquireEnemiesWhenIdle	=	Yes ATTACK_BUILDINGS
		MoodAttackCheckRate			=	500
		AILuaEventsList				=	GwaihirFunctions	
		FollowThroughDistance		=	160
		FollowThroughCheckStep		=	50
		FollowThroughGradient		=	1.0
		GrabTossTimeTrigger			=	3.0
		GrabTossHeightTrigger		=   80.0
		TossFX				= FX_DiebyFalling
		SpecialContactPoints		= Swoop
    ?
    GiantBirdGuardMachine
    GiantBirdGuardAttackAggressorState
    ReturnForAmmoLocomotorType
    AttackLocomotorType
    GiantBirdGuardInnerState
    GiantBirdGuardReturnState
    GiantBirdGuardOuterState
    GiantBirdGuardIdleState
    GiantBirdDieState
    GiantBirdAttackMoveToState
    AIAttackSwoopThenIdleStateMachine
    GiantBirdFollowWaypointPathState
    AIGiantBirdFollowThruState
    AIGiantBirdAttack
    AIGiantBirdSwoopState
  End
  
;*---------------------- DeployStyleAIUpdate -----------------------------
	Behavior = DeployStyleAIUpdate ModuleTag_03
    Turret
      TurretTurnRate        = 80
      TurretPitchRate       = 80
      FirePitch             = 0            ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch           = Yes
      RecenterTime          = 5000         ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
      NaturalTurretAngle    = 0
      InitiallyDisabled     = Yes
    End
    ResetTurretBeforePacking = Yes
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes

		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 2500
		MustDeployToAttack = No
		UnpackTime	= 2000
		PackTime	= 2000    
		DeployedAttributeModifier = DwarvenDemolisherDeployModifier
	End
;*---------------------- ToggleDeploySpecialAbilityUpdate -----------------------------
	Behavior = ToggleDeploySpecialAbilityUpdate ModuleTag_DwarvenDemolisherDeployUpdate
		SpecialPowerTemplate	= SpecialAbilityDwarvenDemolisherDeploy
		IgnoreFacingCheck		= Yes
		SoundDeploy				= DwarfDemolisherDeployMS
		SoundUndeploy			= DwarfDemolisherUndeployMS
		;TriggerSound			= DwarvenImpactCatapultRock			;this works but doesn't allow toggling
	End
  
;*---------------------- ArrowStormUpdate -----------------------------
	Behavior = ArrowStormUpdate ModuleTag_ArrowWindUpdate                
		SpecialPowerTemplate    = SpecialAbilityArrowStorm
		StartAbilityRange       = 320.0
		UnpackTime              = 1000	; Pull out arrow
		PreparationTime         = 200	; Quick shot
		PersistentPrepTime      = 600	; looping the quick shot
		PackTime                = 1200	; back to idle
		UnpackingVariation		= 1		; Use custom variation to not interfere with Archer Training ability.
		ParalyzeDurationWhenCompleted = 600	;Once the unit SUCCESSFULLY COMPLETES an ability, paralyze unit briefly to deal with animation transitions.
		ParalyzeDurationWhenAborted = 800	;If the unit ABORTS the ability, paralyze the unit briefly to deal with animation transitions.
		ApproachRequiresLOS     = Yes ; required so that it doesn't shoot through walls
		AwardXPForTriggering    = 0
		;Specific to ArrowStorm
		WeaponTemplate  = LegolasBowArrowStorm
		TargetRadius    = 120	;CHANGING THIS??? Change RadiusCursorRadius to match this value in the appropriate SpecialPower.ini template.
		ShotsPerTarget  = 1
		ShotsPerBurst   = 3
		MaxShots        = 50  ; can end sooner if no targets
    CanShootEmptyGround = Yes ; ...unless this is set
	End
  
;*---------------------- ModelConditionSpecialAbilityUpdate / RadiateFearUpdate-----------------------------
	Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_ElendilUpdate   
		SpecialPowerTemplate    = SpecialAbilityAragornElendil
		UnpackTime              = 1400									; Drawing the horn
		PreparationTime         = 1										; nothing
		PersistentPrepTime      = 1000									; Blowing
		PackTime                = 1000									; Putting horn away
		AwardXPForTriggering    = 0
		;Specific to ModelConditionSpecialAbilityUpdate
		GenerateTerror			= Yes
    GenerateUncontrollableFear
		DisableWhenWearingTheRing = Yes
		EmotionPulseRadius		= 180
		ObjectFilter			= ELENDIL_OBJECT_FILTER
	End

		;Variation without SpecialPower, Active when triggered forever
	Behavior = RadiateFearUpdate ModuleTag_DreadVisageFear
		InitiallyActive						= No
		TriggeredBy							= Upgrade_BlackRiderDreadVisage
		WhichSpecialPower					= 1
		;Specific to ModelConditionSpecialAbilityUpdate
		GenerateTerror						= No
		GenerateFear			= Yes
		EmotionPulseRadius					= 100
		EmotionPulseInterval				= 1000
	End

;*---------------------- AttributeModifierAuraUpdate -----------------------------
	Behavior = AttributeModifierAuraUpdate ModuleTag_FearMe
		StartsActive	= Yes										;If no, requires upgrade to turn on.
		BonusName		= SauronFear
		RefreshDelay	= 5000
		Range			= 250.0
		ObjectFilter	= ANY +INFANTRY +CAVALRY
		TargetEnemy		= Yes
		MaxActiveRank	= 1											;Only affects level 1 rank units
	End		

;*---------------------- TeleportSpecialAbilityUpdate -----------------------------
	Behavior = TeleportSpecialAbilityUpdate ModuleTag_TeleportUpdate   
		SpecialPowerTemplate		= SpecialAbilityWyrmReposition
		UnpackTime					= 3200										; diving underground
		PreparationTime			= 1
		PackTime					= 2100										; errupting out of the ground
		ApproachRequiresLOS			= No
		BusyForDuration			= 5000										; don't accept any AI for this long... ai commands will be queued (should be at least PackTime)
    ;Specific to ModelConditionSpecialAbilityUpdate
		DestinationWeaponName		= WyrmAppearWeapon							; Fires at point of teleport to push people away and down.
		SourceWeaponName			= WyrmDisappearWeapon
	End

;*---------------------- WeaponFireSpecialAbilityUpdate -----------------------------
  Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WeaponFireSpecialAbilityUpdateGrab   
  	SpecialPowerTemplate	   = SpecialAbilityIsengardSharkuManEaterGrab
  	UnpackTime				   = 1700 
  	PackTime				   = 1	   
  	FreezeAfterTriggerDuration = 2500 // Hold AI for this long after we	fire.
  	AwardXPForTriggering	   = 0	   
  	StartAbilityRange		   = 180.0
		ChainedButton				= Command_SpecialAbilityIsengardSharkuManEaterFlingPassenger
		TriggerAttributeModifier	= SharkuManEater
		AttributeModifierDuration	= 20000
		TriggerSound				= SharkuManEaterEatingMS
    ;Specific to ModelConditionSpecialAbilityUpdate
  	PlayWeaponPreFireFX		   = Yes
  	WhichSpecialWeapon		   = 1
  	SkipContinue			   = Yes
  	SpecialWeapon			   = IsengardSharkuManEaterGrab
    NeedLivingTargets
		BusyForDuration				= 2000    
  End

;*---------------------- FlingPassengerSpecialAbilityUpdate -----------------------------
	Behavior = FlingPassengerSpecialAbilityUpdate ModuleTag_FlingPassengerSpecialAbilityUpdate
		SpecialPowerTemplate			= SpecialAbilityIsengardSharkuManEaterDrop
		UnpackTime						= 1250
		FlingPassengerVelocity			= X:0 Y:0 Z:0
		FlingPassengerLandingWarhead	= IsengardSharkuManEaterWarhead    ;kills victim when released
	End		

;*---------------------- ToggleHiddenSpecialAbilityUpdate -----------------------------
;--------------- Sets Flag 'HIDDEN' for WeaponSet, LocomotorSet and ModelCondition
	Behavior = ToggleHiddenSpecialAbilityUpdate ModuleTag_WildWalkUpdate   
		SpecialPowerTemplate	= SpecialAbilityWildWalk
		EffectDuration		= 80000
		ShowPalantirTimer		= Yes
	End	

;*---------------------- ReplaceObjectUpdate -----------------------------
Behavior = ReplaceObjectUpdate ModuleTag_WordOfPoultryUpdate_Level1
	SpecialPowerTemplate    = SpecialAbilityCreateAHeroWordOfPoultry_Level1

	ReplaceObject
		TargetObjectFilter = CREATE_A_HERO_WORD_OF_POULTRY_OBJECT_FILTER
		ReplacementObjectName = Chicken_Replacement Rabbit_Replacement Dog_Replacement Dog1_Replacement Racoon_Replacement Duck_Replacement Cow_Replacement Sheep_Replacement Crow_Replacement //GoatMale_Replacement GoatFemale_Replacement
	End
	ReplaceRadius			= CREATE_A_HERO_WORD_OF_POULTRY_RADIUS_L1
	ReplaceFX				= FX_CreateAHeroReplaceObject
	Scatter					= Yes
End

;*---------------------- BannerCarrierUpdate -----------------------------
	Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
		UpgradeRequired			= Upgrade_DwarvenFortressSiegeKegs
		IdleSpawnRate			= 5000							// spawn a new member every n seconds when idle (in miliseconds)		
		UnitSpawnFX				= FX_BannerCarrierSpawnUnit		// name of particle FX to use when the BannerCarrier spawns a new unit		

		// This well object acts like a banner carrier except it spawns unit on nearby hordes instead of itself.
		ReplenishNearbyHorde	= Yes
		ScanHordeDistance		= 200
	End

;*---------------------- OCLSpecialPower -----------------------------
	Behavior = OCLSpecialPower	ModuleTag_OCLEyeOfSauron
		SpecialPowerTemplate	= SpellBookEyeofSauron
		OCL						= SUPERWEAPON_SpawnEyeOfSauron
		CreateLocation			= CREATE_AT_LOCATION
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
  
  UpgradeOCL
  CreateLocation
  NearestSecondaryObjectFilter
  TopArmySpawnPoint
  BottomArmySpawnPoint
  LeftArmySpawnPoint
  RightArmySpawnPoint

CREATE_AT_EDGE_NEAR_SOURCE
CREATE_AT_EDGE_NEAR_TARGET
CREATE_AT_EDGE_NEAR_TARGET_AND_MOVE_TO_LOCATION
CREATE_AT_LOCATION
USE_OWNER_OBJECT
CREATE_ABOVE_LOCATION
CREATE_AT_EDGE_FARTHEST_FROM_TARGET
CREATE_CLOSEST_TO_SPAWN_POINT
USE_SECONDARY_OBJECT_LOCATION

;*---------------------- HordeDeploy -----------------------------

LowerDelay
RaiseDelay
EvacuatePassengersOnDeploy
EvacuateCrewOnDeploy
SkipAdjustPosition
WallSearchDistance
AwayFromWallWaitDist
ExtraWallDistance

;*---------------------- SlavedUpdate -----------------------------
	Behavior = SlavedUpdate ModuleTag_Slave
		UseSlaverAsControlForEvaObjectSightedEvents	= No	// Not a creep		
		GuardPositionOffset							= X:-15 Y:0 Z:0
		FadeOutRange								= 20
		FadeTime									= 1000	//in msec
		DieOnMastersDeath							= Yes	//Die when my master dies!
    
		LeashRange									= 300
    GuardMaxRange = 35      ;How far away from master I'm allowed when master is idle (doesn't wander)
    GuardWanderRange = 35   ;How far away I'm allowed to wander from master while guarding.
    AttackRange = 75        ;How far away from master I'm allowed when master is attacking a target.
    AttackWanderRange = 10  ;How far I'm allowed to wander from target.
    ScoutRange = 75         ;How far away from master I'm allowed when master is moving.
    ScoutWanderRange = 10   ;How far I'm allowed to wander from scout point.
    DistToTargetToGrantRangeBonus = 20 ;How close I have to be to the master's target in order to grant master a range bonus.
    RepairRange = 8         ;How far I can zip around while repair (only moves when he stops welding)
    RepairMinAltitude = 18.0   ;My minimum repair hover altitude.
    RepairMaxAltitude = 24.0   ;My maximum repair hover altitude.
    RepairRatePerSecond = 5.0 ;How many health points can I repair per second.
    RepairWhenBelowHealth% = 60 ;How low should my master's health be (in %) before I should prioritize repairing.
    RepairMinReadyTime = 300
    RepairMaxReadyTime = 750
    RepairMinWeldTime = 250
    RepairMaxWeldTime = 500
    RepairWeldingSys = BlueSparks
    RepairWeldingFXBone = Muzzle02
    StayOnSameLayerAsMaster = Yes

    MarkUnselectable
	End

;*---------------------- PhysicsBehavior -----------------------------
  Behavior = PhysicsBehavior ModuleTag_03
    AllowBouncing           = Yes
    KillWhenRestingOnGround = Yes
    OrientToFlightPath
    AllowBouncing = Yes
    TumbleRandomly
    
    GravityMult = 1.0
		ShockStunnedTimeLow		= 1400	;msec
		ShockStunnedTimeHigh	= 2400	;msec
		ShockStandingTime		= 2133	;msec
    FirstHeight = 0 
    SecondHeight = 0
  End

;*---------------------- BezierProjectileBehavior -----------------------------
	Behavior = BezierProjectileBehavior ModuleTag_Projectile
    CurveFlattenMinDist
    SecondPercentHeight
    FirstPercentHeight
    IgnoreTerrainHeight
;    FirstHeight = 30  ; Height of Bezier control points above highest intervening terrain
;    SecondHeight = 30
;    FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
;    SecondPercentIndent = 70%
;    TumbleRandomly = Yes

;    CrushStyle = Yes ; I don't detonate, I just hit
;    DieOnImpact = Yes
;    BounceCount = 1   ; When I hit the ground, I'll arc again
;    BounceDistance = 50 ; this far
;    BounceFirstHeight = 20  ; Height of Bezier control points above highest intervening terrain
;    BounceSecondHeight = 20
;    BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
;    BounceSecondPercentIndent = 80%

;    GroundHitFX       = FX_ThrownRockGroundHit
;    GroundBounceFX    = FX_ThrownRockBounceHit

	End

;*---------------------- Stealth -----------------------------
StealthDelay
MoveThresholdSpeed
StealthForbiddenConditions
RemoveTerrainRestrictionOnUpgrade
HintDetectableConditions
FriendlyOpacityMin
FriendlyOpacityMax
DisguisesAsTeam
RevealDistanceFromTarget
OrderIdleEnemiesToAttackMeUponReveal
DisguiseRevealFX
DisguiseTransitionTime
DisguiseRevealTransitionTime
InnateStealth
DetectedByFriendliesOnly
DetectedByAnyoneRange
BecomeStealthedFX
ExitStealthFX
VoiceEnterStateMoveToStealthyArea
OneRingDelayOn
OneRingDelayOff
RingAnimTimeOn
RingAnimTimeOff
RingDelayAfterRemoving
BecomeStealthedOneRingFX
ExitStealthOneRingFX
RequiredUpgradeNames
ForbiddenUpgradeNames

;Arguments:
FIRING_PRIMARY
FIRING_SECONDARY
FIRING_TERTIARY
FIRING_QUATERNARY
FIRING_QUINARY
AWAY_FROM_TREES
HORDEBRAIN_NOT_STEALTHED
TAKING_DAMAGE
RevealWeaponSets
VoiceMoveToStealthyArea

;*---------------------- Special Powers -----------------------------
ReloadTime
RequiredSciences
LightPointCost
InitiateSound
InitiateAtLocationSound
UnitSpecificSoundToUseAsInitiateIntendToDoVoice
UnitSpecificSoundToUseAsEnterStateInitiateIntendToDoVoice
EvaEventToPlayOnSuccess
PublicTimer
Enum
DetectionTime
SharedSyncedTimer
ViewObjectDuration
ViewObjectRange
RadiusCursorRadius
PalantirMovie
PreventActivationConditions
MaxCastRange
ForbiddenObjectFilter
ForbiddenObjectRange
DefaultSpecialPower

;*---------------------- TransportContain -----------------------------
	Behavior = TransportContain TransportContainModuleTag
		
		;Victim passenger
		ObjectStatusOfContained = UNSELECTABLE UNATTACKABLE
		PassengerFilter = ANY +INFANTRY +HULK +CAVALRY +GRAB_AND_DROP -HERO -PORTER
		Slots = 1
		
		ShowPips = No
		CollidePickup = No
		AllowEnemiesInside = Yes
		AllowNeutralInside = Yes
		AllowAlliesInside  = Yes
		DamagePercentToUnits = 0%
		PassengerBonePrefix = PassengerBone:B_PASSENGER       KindOf:GRAB_AND_DROP
		EjectPassengersOnDeath = No ;Let RiderChangeContain handle this
		
		GrabWeapon = FellbeastGrabWeapon ; fire this weapon when fellbeast grabs a victim
		FireGrabWeaponOnVictim = No
		
		ReleaseSnappyness = 0.05 ; 1.0 is very snappy, 0.0 is very loose
		
    Slots
    ScatterNearbyOnExit
    OrientLikeContainerOnExit
    GoAggressiveOnExit
    ResetMoodCheckTimeOnExit
    DestroyRidersWhoAreNotFreeToExit
    ExitBone
    ExitPitchRate
    InitialPayload
    HealthRegen%PerSec
    TypeOneForWeaponSet
    TypeTwoForWeaponSet
    TypeOneForWeaponState
    TypeTwoForWeaponState
    TypeThreeForWeaponState
    ForceOrientationContainer
    CanGrabStructure
    GrabWeapon
    FireGrabWeaponOnVictim
    ThrowOutPassengersDelay
    ThrowOutPassengersVelocity
    ThrowOutPassengersLandingWarhead
    FadeFilter
    FadePassengerOnEnter
    ExitFadeTime
    FadeReverse
    ReleaseSnappyness
    UpgradeCreationTrigger
    ContainMax
    EnterSound
    ExitSound
    DamagePercentToUnits
    PassengerFilter
    ManualPickUpFilter
    PassengersTestCollisionHeight
    PassengersInTurret
    NumberOfExitPaths
    DoorOpenTime
    AllowOwnPlayerInsideOverride
    AllowAlliesInside
    AllowEnemiesInside
    AllowNeutralInside
    ShowPips
    CollidePickup
    PassengerBonePrefix
    BoneSpecificConditionState
    EjectPassengersOnDeath
    KillPassengersOnDeath
    ObjectStatusOfContained
    ModifierToGiveOnExit
    ModifierRequiredTime
    FadePassengerOnExit
    EnterFadeTime
    
    
    
	End


;*---------------------- SpecialDisguiseUpdate -----------------------------
;*---------------------- SpecialDisguiseUpdate -----------------------------
;*---------------------- SpecialDisguiseUpdate -----------------------------

Code\GameEngine\Source\GameLogic\Object\Update
Code\GameEngine\Source\GameLogic\Object\Damage\TransitionDamage

-deepCRC
-liteCRC

;*---------------------- Unknown Update Data -----------------------------
ClearRangeRequiredToContinueAttackMove
MembersGetHealedAtLifeRatio

WhichWeaponSet

DelayAtFootOfWall

WanderDistance
Selectable
WildBeast


;*---------------------- CommandButton Arguments -----------------------------
Options = 
NEED_TARGET_ENEMY_OBJECT
NEED_TARGET_NEUTRAL_OBJECT
NEED_TARGET_ALLY_OBJECT
NO_PLAY_UNIT_SPECIFIC_SOUND_FOR_AUTO_ABILITY
ALLOW_SHRUBBERY_TARGET
NEED_TARGET_POS
NEED_UPGRADE
NEED_SPECIAL_POWER_SCIENCE
OK_FOR_MULTI_SELECT
CONTEXTMODE_COMMAND
NEEDS_CASTLE_KINDOF
ATTACK_OBJECTS_POSITION
OPTION_ONE
OPTION_TWO
OPTION_THREE
NOT_QUEUEABLE
SINGLE_USE_COMMAND
OK_FOR_MULTI_EXECUTE
ALLOW_ROCK_TARGET
HIDE_WHILE_DISABLED
TOGGLE_IMAGE_ON_WEAPON
TOGGLE_IMAGE_ON_WEAPONSET
TOGGLE_IMAGE_ON_FORMATION
MOUNTED_ONLY
UNMOUNTED_ONLY
NONPRESSABLE
AUTO_ABILITY_TRIGGERED
ON_GROUND_ONLY
CANCELABLE

Command =
FOUNDATION_CONSTRUCT
FOUNDATION_CONSTRUCT_CANCEL
UNIT_BUILD
SECONDARY_UNIT_BUILD
CANCEL_UNIT_BUILD
OBJECT_UPGRADE
CASTLE_UPGRADE
CANCEL_UPGRADE
ATTACK_MOVE
GUARD
GUARD_WITHOUT_PURSUIT
GUARD_FLYING_UNITS_ONLY
WAYPOINTS
EXIT_CONTAINER
EVACUATE
EVACUATE_CONTESTED
EXECUTE_UNUSED_01
BEACON_DELETE
SET_RALLY_POINT
FIRE_WEAPON
SPECIAL_POWER
PURCHASE_SCIENCE
COMBATDROP
SWITCH_WEAPON
AUTOCAST_WEAPON
HIJACK_VEHICLE
CONVERT_TO_CARBOMB
SPECIAL_POWER_FROM_COMMAND_CENTER
CASTLE_UNPACK
CASTLE_PACK
TOGGLE_WEAPON
HORDE_TOGGLE_FORMATION
SPECIAL_POWER_TOGGLE
CREW_EVACUATE
CLOSE_GATE
OPEN_GATE
TOGGLE_GATE
TOGGLE_WEAPONSET
REVIVE
MONSTERDOCK
TOGGLE_NO_AUTO_ACQUIRE
WAKE_AUTO_PICKUP
CASTLE_UNPACK_EXPLICIT_OBJECT
START_SELF_REPAIR
HORDE_SET_FORMATION
DOZER_CONSTRUCT
DOZER_CONSTRUCT_CANCEL
PUSH_VISIBLE_COMMAND_RANGE
POP_VISIBLE_COMMAND_RANGE
TOGGLE_STANCE
SET_STANCE
START_NEIGHBORHOOD_REPAIR
CANCEL_NEIGHBORHOOD

SYSTEM
BUILD
UPGRADE
ACTION

ALTERED

NeededUpgrade = 
NeededUpgradeAny
BuildUpgrades
FlagsUsedForToggle = WeaponSlotToggle1
MaxShotsToFire =
ToggleButtonName = 
TextLabel =
DescriptLabel =
PurchasedLabel =
ConflictingLabel =
LacksPrerequisiteLabel =
CursorName =
InvalidCursorName =
ButtonBorderType =
RadiusCursorType =
SetAutoAbilityUnitSound =
UnsetAutoAbilityUnitSound =
DoubleClick =
ShowProductionCount =
InPalantir =
IsClickable =
ShowButton =
RequireLevel =
RequiresValidContainer =
AutoAbility =
AffectsKindOf =
TriggerWhenReady =
PresetRange =
AutoDelay =
NeedDamagedTarget =
AutoAbilityDisallowedOnModelCondition =
CommandTrigger =
EnableOnModelCondition =
DisableOnModelCondition =
CommandRangeStart =
CommandRangeCount =
Stances =
CreateAHeroUIPrerequisiteButtonName =
CreateAHeroUIMinimumLevel =
CreateAHeroUIIconImageName =
CreateAHeroUIAllowableUpgrades =


;*---------------------- Weapon Stats -----------------------------
Min
Max
SWORD_SLASH
WITCH_KING_MORGUL_BLADE
GOOD_ARROW_PIERCE
EVIL_ARROW_PIERCE
SMALL_ROCK
BIG_ROCK
CLUBBING
BALROG_SWORD
BALROG_WHIP
ELECTRIC
GIMLI_LEAP
FLOOD_HORSE
BOLT
BOLT2
MAGIC2
MAGIC3
FIRE1
FIRE2
FIRE3
SPARKS1
SPARKS2
EARTH1
EARTH2
TORNADO

; CRUSHED
; EXPLODED
; POISONED
; SUICIDED
LASERED
DETONATED
POISONED_BETA
EXTRA_2
EXTRA_3
EXTRA_4
EXTRA_5
EXTRA_6
EXTRA_7
EXTRA_8
KNOCKBACK
SUPERNATURAL
FADED
SLAUGHTERED
SUICIDE

RETURN_TO_BASE

PER_SHOT
PER_ATTACK
PER_CLIP
PER_POSITION

SELF
NEUTRALS
NOT_SIMILAR
NOT_AIRBORNE
SAME_HEIGHT_ONLY
PROJECTILES
MINES
STRUCTURES
WALLS
SMALL_MISSILES
BALLISTIC_MISSILES
CONTROLLED_STRUCTURES
MONSTERS

NATIONALISM
DRONE_SPOTTING
DEMORALIZED_OBSOLETE
ENTHUSIASTIC
SUBLIMINAL

BATTLEPLAN_BOMBARDMENT
BATTLEPLAN_HOLDTHELINE
BATTLEPLAN_SEARCHANDDESTROY

DAMAGE
RADIUS
PRE_ATTACK
FIRING
READY_TO_FIRE
OUT_OF_AMMO
BETWEEN_FIRING_SHOTS
RELOADING_CLIP
IN_FOLLOW_THRU

MinimumAttackRange
MinHeight
RangeBonus
RangeBonus
RangeBonusPerFoot
RequestAssistRange
AcceptableAimDelta
AimDirection
ScatterRadius
ScatterTargetScalar
ScatterRadiusVsInfantry
ScatterIndependently
DisableScatterForTargetsOnWall
WeaponSpeed
MinWeaponSpeed
MaxWeaponSpeed
ScaleWeaponSpeed
CanBeDodged
IdleAfterFiringDelay
HoldAfterFiringDelay
HoldDuringReload
CanFireWhileMoving
CanFireWhileCharging
CanSwoop
WeaponRecoil
MinTargetPitch
MaxTargetPitch
PreferredTargetBone
FireSound
FireSoundLoopTime
FireFX
FireFlankFX
PreAttackFX
ProjectileExhaust
VeterancyFireFX
VeterancyProjectileExhaust
ClipSize
ContinuousFireOne
ContinuousFireTwo
ContinuousFireCoast
AutoReloadWhenIdle
ShotsPerBarrel
DamageDealtAtSelfPosition
ProjectileFilterInContainer
ProjectileSelf
MeleeWeapon
ChaseWeapon
LeechRangeWeapon
HitStoredTarget
CapableOfFollowingWaypoints
ShowsAmmoPips
AllowAttackGarrisonedBldgs
PlayFXWhenStealthed
FiringDuration
ContinueAttackRange
SuspendFXDelay
IgnoreLinearFirstTarget
ForceDisplayPercentReady
IsAimingWeapon
NoVictimNeeded
RotatingTurret
HitPercentage
HitPassengerPercentage
PreAttackDelay
PreAttackRandomAmount
PassengerProportionalAttack
MaxAttackPassengers
FinishAttackOnceStarted
OverrideVoiceAttackSound
OverrideVoiceEnterStateAttackSound
RestrictedHeightRange
CannotTargetCastleVictims
RequireFollowThru
ShareTimers
ShouldPlayUnderAttackEvaEvent
InstantLoadClipOnActivate
LockWhenUsing
BombardType
UseInnateAttributes
PreAttackType
AutoReloadsClip
RadiusDamageAffects
ProjectileCollidesWith
DamageType
DeathType
DamageFXType
DamageSubType
AntiAirborneVehicle
AntiGround
AntiProjectile
AntiSmallMissile
AntiMine
AntiParachute
AntiAirborneInfantry
AntiAirborneMonster
AntiBallisticMissile
AntiStructure
ProjectileStreamName
DelayBetweenShots
ClipReloadTime
ScatterTarget
LinearTarget
DamageNugget
ClearNuggets
DamageFieldNugget
WeaponOCLNugget
ProjectileNugget
MetaImpactNugget
HordeAttackNugget
SpawnAndFadeNugget
GrabNugget
AttributeModifierNugget
SpecialModelConditionNugget
ParalyzeNugget
LuaEventNugget
FireLogicNugget
SlaveAttackNugget
DamageContainedNugget
DOTNugget
OpenGateNugget
EmotionWeaponNugget
StealMoneyNugget


;*---------------------- WeaponSet Data -----------------------------

Conditions
AutoChooseSources
PreferredAgainst
OnlyAgainst
OnlyInCondition
ShareWeaponReloadTime
WeaponLockSharedAcrossSets
ReadyStatusSharedWithinSet
DefaultWeaponChoiceCritera

PASSENGER_TYPE_ONE
PASSENGER_TYPE_TWO
CLOSE_RANGE
RAMPAGE
WEAPON_RIDER1
WEAPON_RIDER2
WEAPON_RIDER3
WEAPON_RIDER4
WEAPON_RIDER5
WEAPON_RIDER6
WEAPON_RIDER7
WEAPON_RIDER8
SPECIAL_ONE
SPECIAL_TWO
CONTAINED
SPECIAL_UPGRADE
WEAPONSET_ONE_RING_MODE

PREFER_MOST_DAMAGE
PREFER_LONGEST_RANGE
PREFER_GRAB_OVER_DAMAGE
PREFER_LEAST_MOVEMENT
SELECT_AT_RANDOM
USE_WEAPONSET_DEFAULT_CRITERIA

Weapon CastleWallUpgradeBow      ; BALANCE Archer Weapon
  AttackRange               = M_KEEP_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:M_KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:M_KEEP_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = M_KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = M_KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = No
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarhead
    ForbiddenUpgradeNames   = Upgrade_BattleTowersToUseFireArrows
  End
  
  ProjectileNugget          ; Fire arrow from gondor
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadFire
    RequiredUpgradeNames    = Upgrade_GondorFireArrows
  End

  End

End

;*---------------------- Scripts.lua -----------------------------
EvaluateCondition
ExecuteAction
ObjectDescription
ObjectSpy
ObjectDispatchEvent
ObjectBroadcastEventToEnemies
ObjectBroadcastEventToAllies
ObjectBroadcastEventToCivilians
ObjectBroadcastEventToUnits
HordeBroadcastEventToMembers
ObjectTeamName
ObjectPlayerSide
ObjectCapturingObjectPlayerSide
ObjectTemplateName
ObjectTestModelCondition
ObjectTestCanSufferFear
ObjectCountNearbyEnemies
ObjectEnterFearState
ObjectEnterRunAwayPanicState
ObjectEnterCowerState
ObjectEnterUncontrollableCowerState
ObjectEnterAlertState
ObjectEnterRampageState
ObjectPlaySound
ObjectSetChanting
ObjectSetFearFactor
ObjectSetEnragedState
ObjectDoSpecialPower
ObjectCreateAndFireTempWeapon
ObjectHasUpgrade
ObjectGrantUpgrade
ObjectRemoveUpgrade
ObjectSetDelayedDeath
ObjectHideSubObject
ObjectHideSubObjectPermanently
ObjectSetGeometryActive
ObjectChangeAllegianceFromNonPlayablePlayer
GetRandomNumber
ObjectForbidPlayerCommands

CurDrawableModelcondition
CurDrawableObjectStatus
CurDrawableShowSubObject
CurDrawableHideSubObject
CurDrawableShowSubObjectPermanently
CurDrawableHideSubObjectPermanently
CurDrawableHideModule
CurDrawableShowModule
CurDrawablePrevAnimationState
CurDrawablePrevAnimation
CurDrawableGetCurrentTargetDistance
CurDrawableGetCurrentTargetHeight
CurDrawableGetCurrentTargetBearing
CurDrawableIsCurrentTargetKindof
CurDrawablePrevAnimFraction
CurDrawableSetTransitionAnimState
CurDrawableAllowToContinue
CurDrawablePlaySound
GetClientRandomNumberReal


;*---------------------- RampageBehavior -----------------------------
ClickReactionBehavior
RampageBehavior
  RampageHealthThreshold
  RampageLifeTimer
  RampageAngryLifeTimer
  RampageResetTimer
  RampageEnemyCheckRange
  RampageEnemyThreshold
  RequiredUpgrade

EnragedLifeTimer

CommandButtonHuntUpdate

;*---------------------- Body Modules -----------------------------

	Body = ActiveBody BodyModuleTag
		MaxHealth         = 1200                  
		BurningDeathBehavior = Yes
		BurningDeathFX       = FX_CavalryBurningFlame
    
    RemoveUpgradesOnDeath
    CheerRadius
    ReallyDamagedAttributeModifier
    DamagedAttributeModifier
    HealingBuffFx
    DamageCreationList
    UseDefaultDamageSettings
    GrabOffset
    GrabDamage
    GrabFX
    GrabObject
    EnteringReallyDamagedTransitionTime
    EnteringDamagedTransitionTime
    DodgePercent
    RecoveryTime
    InitialHealth
    MaxHealthReallyDamaged
    MaxHealthDamaged
    
    PermanentlyKilledByFilter
    
	Body = DelayedDeathBody Tag
		DoHealthCheck				= No			; Don't want to get the delayed death behaviour when we die normally.
		DelayedDeathTime			= 15000
		CanRespawn				= No			; Unit can't get revived.
		ImmortalUntilDeathTime		= No			; Not immune to damage during rampage.  So you can keep him from running stuff over.
    
    DelayedDeathPrerequisiteUpgrade
    InvulnerableFX
  End
    
    FreeLifeAnimAndDuration
    FreeLifePrerequisiteUpgrade
    FreeLifeInvincible
    FreeLifeTime
    FreeLifeHealthPercent
    
    RiderlessDeathChance
    HealthPercentageWhenRiderDies
    
	End

RespawnBody
PorcupineFormationBodyModule
OathbreakerBody
DetachableRiderBody
FreeLifeBody
SymbioticStructuresBody
StructureBody
ImmortalBody
HighlanderBody
ActiveBody
InactiveBody

;*---------------------- Object Terms -----------------------------

AutoResolveUnitType
AutoResolveArmor

;*---------------------- ReplenishUnitsBehavior -----------------------------
  Behavior = ReplenishUnitsBehavior ModuleTag_ReplenishUnitsBehavior01
    ReplenishDelay = 6000
    ReplenishRadius = 200.0
    NoReplenishIfEnemyWithinRadius = 300.0
    ReplenishStatii = RIDERLESS
    ReplenishFXList = FX_RohirrimReplenish
    StartsActive = No
    TriggeredBy = Upgrade_HorseDiscipline
  End


;*---------------------- SpecialDisguiseUpdate -----------------------------
